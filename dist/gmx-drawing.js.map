{"version":3,"file":"gmx-drawing.js","sources":["../node_modules/core-js/internals/global.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/has.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/set-global.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/native-weak-map.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/redefine.js","../node_modules/core-js/internals/path.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/to-integer.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/is-array.js","../node_modules/core-js/internals/to-object.js","../node_modules/core-js/internals/create-property.js","../node_modules/core-js/internals/native-symbol.js","../node_modules/core-js/internals/use-symbol-as-uid.js","../node_modules/core-js/internals/well-known-symbol.js","../node_modules/core-js/internals/array-species-create.js","../node_modules/core-js/internals/engine-user-agent.js","../node_modules/core-js/internals/engine-v8-version.js","../node_modules/core-js/internals/array-method-has-species-support.js","../node_modules/core-js/modules/es.array.concat.js","../node_modules/core-js/internals/a-function.js","../node_modules/core-js/internals/function-bind-context.js","../node_modules/core-js/internals/array-iteration.js","../node_modules/core-js/internals/array-method-uses-to-length.js","../node_modules/core-js/modules/es.array.map.js","../node_modules/core-js/modules/es.array.splice.js","../node_modules/core-js/internals/object-keys.js","../node_modules/core-js/modules/es.object.keys.js","../src/ContextMenu.js","../src/Drawing.js","../node_modules/core-js/internals/array-method-is-strict.js","../node_modules/core-js/internals/array-for-each.js","../node_modules/core-js/modules/es.array.for-each.js","../node_modules/core-js/internals/regexp-flags.js","../node_modules/core-js/internals/regexp-sticky-helpers.js","../node_modules/core-js/internals/regexp-exec.js","../node_modules/core-js/modules/es.regexp.exec.js","../node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","../node_modules/core-js/internals/is-regexp.js","../node_modules/core-js/internals/species-constructor.js","../node_modules/core-js/internals/string-multibyte.js","../node_modules/core-js/internals/advance-string-index.js","../node_modules/core-js/internals/regexp-exec-abstract.js","../node_modules/core-js/modules/es.string.split.js","../node_modules/core-js/internals/dom-iterables.js","../node_modules/core-js/modules/web.dom-collections.for-each.js","../src/Feature.js","../node_modules/core-js/internals/array-fill.js","../node_modules/core-js/internals/object-define-properties.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/object-create.js","../node_modules/core-js/internals/add-to-unscopables.js","../node_modules/core-js/modules/es.array.fill.js","../node_modules/core-js/modules/es.array.index-of.js","../node_modules/core-js/modules/es.array.filter.js","../node_modules/core-js/internals/a-possible-prototype.js","../node_modules/core-js/internals/object-set-prototype-of.js","../node_modules/core-js/internals/inherit-if-required.js","../node_modules/core-js/internals/whitespaces.js","../node_modules/core-js/internals/string-trim.js","../node_modules/core-js/modules/es.number.constructor.js","../src/Utils.js","../src/Ring.js","../src/PointMarkers.js","../src/utils.js"],"sourcesContent":["var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  Function('return this')();\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var fails = require('../internals/fails');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.github.io/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.github.io/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.6.5',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2020 Denis Pushkarev (zloirock.ru)'\n});\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","module.exports = {};\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = new WeakMap();\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) createNonEnumerableProperty(value, 'name', key);\n    enforceInternalState(value).source = TEMPLATE.join(typeof key == 'string' ? key : '');\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.github.io/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.github.io/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.github.io/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","import L from 'leaflet';\r\n\r\nclass GmxDrawingContextMenu {\r\n\tconstructor(options = {points: [], lines: [], fill: []}) {\r\n\t\tthis.options = options;\r\n\t}\r\n\tinsertItem(obj, index, type) {\r\n\t\tvar optKey = type || 'points';\r\n\t\tif (index === undefined) { index = this.options[optKey].length; }\r\n\t\tthis.options[optKey].splice(index, 0, obj);\r\n\t\treturn this;\r\n\t}\r\n\tremoveItem (obj, type) {\r\n\t\tvar optKey = type || 'points';\r\n\t\tfor (var i = 0, len = this.options[optKey].length; i < len; i++) {\r\n\t\t\tif (this.options[optKey][i].callback === obj.callback) {\r\n\t\t\t\tthis.options[optKey].splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tremoveAllItems(type) {\r\n\t\tif (!type) {\r\n\t\t\tthis.options = {points: [], lines: []};\r\n\t\t} else if (type === 'lines') {\r\n\t\t\tthis.options.lines = [];\r\n\t\t} else {\r\n\t\t\tthis.options.points = [];\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tgetItems() {\r\n\t\treturn this.options;\r\n\t}\r\n}\r\n\r\nL.GmxDrawingContextMenu = GmxDrawingContextMenu;\r\n\r\nexport default L.GmxDrawingContextMenu;","import L from 'leaflet';\r\nimport './Drawing.css';\r\nimport 'leaflet-geomixer-rollup';\r\nimport ContextMenu from './ContextMenu.js';\r\n\r\nconst rectDelta = 0.0000001;\r\nconst stateVersion = '1.0.0';\r\n\r\nL.GmxDrawing = L.Class.extend({\r\n    options: {\r\n        type: ''\r\n    },\r\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\r\n\r\n    initialize: function (map) {\r\n        this._map = map;\r\n        this.items = [];\r\n        this.current = null;\r\n        this.contextmenu = new ContextMenu({\r\n\t\t\t// points: [], // [{text: 'Remove point'}, {text: 'Delete feature'}],\r\n\t\t\tpoints: [{text: 'Move'}, {text: 'Rotate'}, {text: 'Remove point'}, {text: 'Delete feature'}],\t// , {text: 'Rotate around Point'}\r\n\t\t\tbbox: [{text: 'Save'}, {text: 'Cancel'}],\r\n\t\t\tfill: [{text: 'Rotate'}, {text: 'Move'}]\r\n\t\t});\r\n\r\n        if (L.gmxUtil && L.gmxUtil.prettifyDistance) {\r\n\t\t\tvar svgNS = 'http://www.w3.org/2000/svg';\r\n\t\t\tvar tooltip = document.createElementNS(svgNS, 'g');\r\n            L.DomUtil.addClass(tooltip, 'gmxTooltip');\r\n            var bg = document.createElementNS(svgNS, 'rect');\r\n            bg.setAttributeNS(null, 'rx', 4);\r\n            bg.setAttributeNS(null, 'ry', 4);\r\n            bg.setAttributeNS(null, 'height', 16);\r\n            L.DomUtil.addClass(bg, 'gmxTooltipBG');\r\n\r\n            var text = document.createElementNS(svgNS, 'text');\r\n            var userSelectProperty = L.DomUtil.testProp(\r\n                ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect']);\r\n            text.style[userSelectProperty] = 'none';\r\n            tooltip.appendChild(bg);\r\n            tooltip.appendChild(text);\r\n\r\n            this.hideTooltip = function() {\r\n                tooltip.setAttributeNS(null, 'visibility', 'hidden');\r\n            };\r\n            this.showTooltip = function(point, mouseovertext) {\r\n                var x = point.x + 11,\r\n                    y = point.y - 14;\r\n                text.setAttributeNS(null, 'x', x);\r\n                text.setAttributeNS(null, 'y', y);\r\n                text.textContent = mouseovertext;\r\n                if (tooltip.getAttributeNS(null, 'visibility') !== 'visible') {\r\n                    (this._map._pathRoot || this._map._renderer._container).appendChild(tooltip);\r\n                    tooltip.setAttributeNS(null, 'visibility', 'visible');\r\n                }\r\n                var length = text.getComputedTextLength();\r\n                bg.setAttributeNS(null, 'width', length + 8);\r\n                bg.setAttributeNS(null, 'x', x - 4);\r\n                bg.setAttributeNS(null, 'y', y - 12);\r\n            };\r\n        }\r\n        this.on('drawstop drawstart', function (ev) {\r\n            this.drawMode = this._drawMode = ev.mode;\r\n\t\t\tthis._map.doubleClickZoom[this.drawMode === 'edit' ? 'disable' : 'enable']();\r\n        }, this);\r\n    },\r\n\r\n    bringToFront: function () {\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            var item = this.items[i];\r\n            if (item._map && 'bringToFront' in item) { item.bringToFront(); }\r\n        }\r\n    },\r\n\r\n    addGeoJSON: function (obj, options) {\r\n        var arr = [],\r\n            isLGeoJSON = obj instanceof L.GeoJSON;\r\n        if (!isLGeoJSON) {\r\n            obj = L.geoJson(obj, options);\r\n        }\r\n        if (obj instanceof L.GeoJSON) {\r\n            var layers = obj.getLayers();\r\n            if (layers) {\r\n                var parseLayer = function (it) {\r\n                    var _originalStyle = null;\r\n                    if (it.setStyle && options && options.lineStyle) {\r\n                        _originalStyle = {};\r\n                        for (var key in options.lineStyle) {\r\n                            _originalStyle[key] = options.lineStyle[key];\r\n                        }\r\n                        it.setStyle(options.lineStyle);\r\n                    }\r\n                    var f = this.add(it, options);\r\n                    f._originalStyle = _originalStyle;\r\n                    arr.push(f);\r\n                };\r\n                for (var i = 0, len = layers.length; i < len; i++) {\r\n                    var layer = layers[i];\r\n\r\n                    if (layer.feature.geometry.type !== 'GeometryCollection') {\r\n                        layer = L.layerGroup([layer]);\r\n                    }\r\n                    layer.eachLayer(parseLayer, this);\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    },\r\n\r\n    add: function (obj, options) {\r\n        var item = null;\r\n\t\toptions = options || {};\r\n        if (obj) {\r\n            if (obj instanceof L.GmxDrawing.Feature) {\r\n                item = obj;\r\n            } else {\r\n                var calcOptions = {};\r\n\t\t\t\tif (obj.feature && obj.feature.geometry) {\r\n\t\t\t\t\tvar type = obj.feature.geometry.type;\r\n\t\t\t\t\tif (type === 'Point') {\r\n\t\t\t\t\t\tobj = new L.Marker(obj._latlng);\r\n\t\t\t\t\t} else if (type === 'MultiPolygon') {\r\n\t\t\t\t\t\tcalcOptions.type = type;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n                // if (!L.MultiPolygon) { L.MultiPolygon = L.Polygon; }\r\n                // if (!L.MultiPolyline) { L.MultiPolyline = L.Polyline; }\r\n                if (!options || !('editable' in options)) { calcOptions.editable = true; }\r\n                if (obj.geometry)     { calcOptions.type = obj.geometry.type; }\r\n                else if (obj instanceof L.Rectangle)     { calcOptions.type = 'Rectangle'; }\r\n                else if (obj instanceof L.Polygon)  { calcOptions.type = calcOptions.type || 'Polygon'; }\r\n                else if (L.MultiPolygon && obj instanceof L.MultiPolygon)  { calcOptions.type = 'MultiPolygon'; }\r\n                else if (obj instanceof L.Polyline) { calcOptions.type = 'Polyline'; }\r\n                else if (L.MultiPolyline && obj instanceof L.MultiPolyline) { calcOptions.type = 'MultiPolyline'; }\r\n                else if (obj.setIcon || obj instanceof L.Marker) {\r\n                    calcOptions.type = 'Point'; calcOptions.editable = false;\r\n                    obj.options.draggable = true;\r\n                }\r\n                options = this._chkDrawOptions(calcOptions.type, options);\r\n                L.extend(options, calcOptions);\r\n                if (obj.geometry) {\r\n                    var iconStyle = options.markerStyle && options.markerStyle.iconStyle;\r\n                    if (options.type === 'Point' &&\r\n                        !options.pointToLayer &&\r\n                        iconStyle\r\n                    ) {\r\n                        options.icon = L.icon(iconStyle);\r\n                        options.pointToLayer = function (geojson, latlng) {\r\n                             return new L.Marker(latlng, options);\r\n                        };\r\n                    }\r\n                    return this.addGeoJSON(obj, options);\r\n                }\r\n                item = new L.GmxDrawing.Feature(this, obj, options);\r\n            }\r\n            if (!('map' in options)) { options.map = true; }\r\n            if (options.map && !item._map && this._map) { this._map.addLayer(item); }\r\n            else { this._addItem(item); }\r\n            //if (!item._map) this._map.addLayer(item);\r\n            //if (item.points) item.points._path.setAttribute('fill-rule', 'inherit');\r\n            if ('setEditMode' in item) { item.setEditMode(); }\r\n        }\r\n        return item;\r\n    },\r\n\r\n    _disableDrag: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.dragging.disable();\r\n\t\t\tL.DomUtil.disableTextSelection();\r\n\t\t\tL.DomUtil.disableImageDrag();\r\n\t\t\tthis._map.doubleClickZoom.removeHooks();\r\n\t\t}\r\n    },\r\n\r\n    _enableDrag: function () {\r\n\t\tif (this._map) {\r\n\t\t\tthis._map.dragging.enable();\r\n\t\t\tL.DomUtil.enableTextSelection();\r\n\t\t\tL.DomUtil.enableImageDrag();\r\n\t\t\tthis._map.doubleClickZoom.addHooks();\r\n\t\t}\r\n    },\r\n\r\n    clearCreate: function () {\r\n\t\tthis._clearCreate();\r\n    },\r\n\r\n    _clearCreate: function () {\r\n        if (this._createKey && this._map) {\r\n            if (this._createKey.type === 'Rectangle' && L.Browser.mobile) {\r\n                L.DomEvent.off(this._map._container, 'touchstart', this._createKey.fn, this);\r\n            } else {\r\n                this._map.off(this._createKey.eventName, this._createKey.fn, this);\r\n                this._map.off('mousemove', this._onMouseMove, this);\r\n            }\r\n            this._enableDrag();\r\n        }\r\n\t\tif (this._firstPoint) {\r\n\t\t\tthis._map.removeLayer(this._firstPoint);\r\n\t\t\tthis._firstPoint = null;\r\n\t\t}\r\n\r\n        this._createKey = null;\r\n    },\r\n\r\n    _chkDrawOptions: function (type, drawOptions) {\r\n        var defaultStyles = L.GmxDrawing.utils.defaultStyles,\r\n            resultStyles = {};\r\n        if (!drawOptions) {\r\n            drawOptions = L.extend({}, defaultStyles);\r\n        }\r\n        if (type === 'Point') {\r\n            L.extend(resultStyles, defaultStyles.markerStyle.options.icon, drawOptions);\r\n        } else {\r\n            L.extend(resultStyles, drawOptions);\r\n            resultStyles.lineStyle = L.extend({}, defaultStyles.lineStyle, drawOptions.lineStyle);\r\n            resultStyles.pointStyle = L.extend({}, defaultStyles.pointStyle, drawOptions.pointStyle);\r\n            resultStyles.holeStyle = L.extend({}, defaultStyles.holeStyle, drawOptions.holeStyle);\r\n        }\r\n\r\n        if (resultStyles.iconUrl) {\r\n            var iconStyle = {\r\n                iconUrl: resultStyles.iconUrl\r\n            };\r\n            delete resultStyles.iconUrl;\r\n            if (resultStyles.iconAnchor) {\r\n                iconStyle.iconAnchor = resultStyles.iconAnchor;\r\n                delete resultStyles.iconAnchor;\r\n            }\r\n            if (resultStyles.iconSize) {\r\n                iconStyle.iconSize = resultStyles.iconSize;\r\n                delete resultStyles.iconSize;\r\n            }\r\n            if (resultStyles.popupAnchor) {\r\n                iconStyle.popupAnchor = resultStyles.popupAnchor;\r\n                delete resultStyles.popupAnchor;\r\n            }\r\n            if (resultStyles.shadowSize) {\r\n                iconStyle.shadowSize = resultStyles.shadowSize;\r\n                delete resultStyles.shadowSize;\r\n            }\r\n            resultStyles.markerStyle = {\r\n                iconStyle: iconStyle\r\n            };\r\n        }\r\n        return resultStyles;\r\n    },\r\n\r\n    create: function (type, options) {\r\n        this._clearCreate(null);\r\n        if (type && this._map) {\r\n            var map = this._map,\r\n                drawOptions = this._chkDrawOptions(type, options),\r\n                my = this;\r\n\r\n            if (type === 'Rectangle') {\r\n                //map._initPathRoot();\r\n                map.dragging.disable();\r\n            }\r\n\r\n            this._createKey = {\r\n                type: type,\r\n                eventName: type === 'Rectangle' ? (L.Browser.mobile ? 'touchstart' : 'mousedown') : 'click',\r\n                fn: function (ev) {\r\n\t\t\t\t\tvar originalEvent = ev && ev.originalEvent,\r\n                        ctrlKey = false, shiftKey = false, altKey = false;\r\n\t\t\t\t\tif (originalEvent) {\r\n                        ctrlKey = originalEvent.ctrlKey;\r\n                        shiftKey = originalEvent.shiftKey;\r\n                        altKey = originalEvent.altKey;\r\n\t\t\t\t\t\tvar clickOnTag = originalEvent.target.tagName;\r\n\t\t\t\t\t\tif (clickOnTag === 'g' || clickOnTag === 'path') { return; }\r\n\t\t\t\t\t}\r\n                    my._createType = '';\r\n                    var obj, key,\r\n                        opt = {},\r\n                        latlng = ev.latlng;\r\n\r\n                    for (key in drawOptions) {\r\n                        if (!(key in L.GmxDrawing.utils.defaultStyles)) {\r\n                            opt[key] = drawOptions[key];\r\n                        }\r\n                    }\r\n\t\t\t\t\tif (ctrlKey && my._firstPoint && my._firstPoint._snaped) {\r\n\t\t\t\t\t\tlatlng = my._firstPoint._snaped;\r\n\t\t\t\t\t}\r\n\r\n                    if (type === 'Point') {\r\n                        var markerStyle = drawOptions.markerStyle || {},\r\n                            markerOpt = {\r\n                                draggable: true\r\n                            };\r\n                        if (originalEvent) {\r\n                            markerOpt.ctrlKey = ctrlKey;\r\n                            markerOpt.shiftKey = shiftKey;\r\n                            markerOpt.altKey = altKey;\r\n                        }\r\n                        if (markerStyle.iconStyle) {\r\n                            markerOpt.icon = L.icon(markerStyle.iconStyle);\r\n                        }\r\n                        obj = my.add(new L.Marker(latlng, markerOpt), opt);\r\n                    } else {\r\n                        if (drawOptions.pointStyle) { opt.pointStyle = drawOptions.pointStyle; }\r\n                        if (drawOptions.lineStyle) { opt.lineStyle = drawOptions.lineStyle; }\r\n\t\t\t\t\t\tif (type === 'Rectangle') {\r\n                            // if (L.Browser.mobile) {\r\n                                // var downAttr = L.GmxDrawing.utils.getDownType.call(my, ev, my._map);\r\n                                // latlng = downAttr.latlng;\r\n                            // }\r\n                            opt.mode = 'edit';\r\n                            obj = my.add(\r\n                                L.rectangle(L.latLngBounds(L.latLng(latlng.lat + rectDelta, latlng.lng - rectDelta), latlng))\r\n                            , opt);\r\n                            if (L.Browser.mobile) { obj._startTouchMove(ev, true); }\r\n                            else { obj._pointDown(ev); }\r\n\r\n                            obj.rings[0].ring._drawstop = true;\r\n                        } else if (type === 'Polygon') {\r\n                            opt.mode = 'add';\r\n                            obj = my.add(L.polygon([latlng]), opt);\r\n                            obj.setAddMode();\r\n                        } else if (type === 'Polyline') {\r\n                            opt.mode = 'add';\r\n                            obj = my.add(L.polyline([latlng]), opt).setAddMode();\r\n                        }\r\n                    }\r\n                    my._clearCreate();\r\n                }\r\n            };\r\n            if (type === 'Rectangle' && L.Browser.mobile) {\r\n                L.DomEvent.on(map._container, 'touchstart', this._createKey.fn, this);\r\n            } else {\r\n                map.on(this._createKey.eventName, this._createKey.fn, this);\r\n                map.on('mousemove', this._onMouseMove, this);\r\n            }\r\n            this._createType = type;\r\n            L.DomUtil.addClass(map._mapPane, 'leaflet-clickable');\r\n            this.fire('drawstart', {mode: type});\r\n        }\r\n        this.options.type = type;\r\n    },\r\n\r\n    _onMouseMove: function (ev) {\r\n\t\tvar latlngs = [ev.latlng];\r\n\r\n\t\tif (!this._firstPoint) {\r\n\t\t\tthis._firstPoint = new L.GmxDrawing.PointMarkers(latlngs, {interactive: false});\r\n\t\t\tthis._map.addLayer(this._firstPoint);\r\n\t\t} else {\r\n\t\t\tthis._firstPoint.setLatLngs(latlngs);\r\n\t\t}\r\n    },\r\n\r\n    extendDefaultStyles: function (drawOptions) {\r\n        var defaultStyles = L.GmxDrawing.utils.defaultStyles;\r\n        drawOptions = drawOptions || {};\r\n        if (drawOptions.iconUrl) {\r\n            var iconStyle = defaultStyles.markerStyle.options.icon;\r\n            iconStyle.iconUrl = drawOptions.iconUrl;\r\n            delete drawOptions.iconUrl;\r\n            if (drawOptions.iconAnchor) {\r\n                iconStyle.iconAnchor = drawOptions.iconAnchor;\r\n                delete drawOptions.iconAnchor;\r\n            }\r\n            if (drawOptions.iconSize) {\r\n                iconStyle.iconSize = drawOptions.iconSize;\r\n                delete drawOptions.iconSize;\r\n            }\r\n            if (drawOptions.popupAnchor) {\r\n                iconStyle.popupAnchor = drawOptions.popupAnchor;\r\n                delete drawOptions.popupAnchor;\r\n            }\r\n            if (drawOptions.shadowSize) {\r\n                iconStyle.shadowSize = drawOptions.shadowSize;\r\n                delete drawOptions.shadowSize;\r\n            }\r\n        }\r\n        if (drawOptions.lineStyle) {\r\n            L.extend(defaultStyles.lineStyle, drawOptions.lineStyle);\r\n            delete drawOptions.lineStyle;\r\n        }\r\n        if (drawOptions.pointStyle) {\r\n            L.extend(defaultStyles.pointStyle, drawOptions.pointStyle);\r\n            delete drawOptions.pointStyle;\r\n        }\r\n        if (drawOptions.holeStyle) {\r\n            L.extend(defaultStyles.holeStyle, drawOptions.holeStyle);\r\n            delete drawOptions.holeStyle;\r\n        }\r\n        L.extend(defaultStyles, drawOptions);\r\n        return this;\r\n    },\r\n\r\n    getFeatures: function () {\r\n        var out = [];\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            out.push(this.items[i]);\r\n        }\r\n        return out;\r\n    },\r\n\r\n    loadState: function (data) {\r\n        //if (data.version !== stateVersion) return;\r\n\r\n        var _this = this,\r\n            featureCollection = data.featureCollection;\r\n        L.geoJson(featureCollection, {\r\n            onEachFeature: function (feature, layer) {\r\n                var options = feature.properties,\r\n                    popupOpened = options.popupOpened;\r\n                if (options.type === 'Rectangle') {\r\n                    layer = L.rectangle(layer.getBounds());\r\n                } else if (options.type === 'Point') {\r\n                    options = options.options;\r\n                    var icon = options.icon;\r\n                    if (icon) {\r\n                        delete options.icon;\r\n                        if (icon.iconUrl) { options.icon = L.icon(icon); }\r\n                    }\r\n                    layer = L.marker(layer.getLatLng(), options);\r\n                }\r\n                if (layer.setStyle && options && options.lineStyle) {\r\n                    layer.setStyle(options.lineStyle);\r\n                }\r\n                _this.add(layer, options);\r\n                if (popupOpened) {\r\n                    layer.openPopup();\r\n                }\r\n            }\r\n        });\r\n    },\r\n\r\n    saveState: function () {\r\n        var featureGroup = L.featureGroup();\r\n        var points = [];\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            var it = this.items[i];\r\n            if (it.options.type === 'Point') {\r\n                var geojson = it.toGeoJSON();\r\n                geojson.properties = L.GmxDrawing.utils.getNotDefaults(it.options, L.GmxDrawing.utils.defaultStyles.markerStyle);\r\n                if (!it._map) { geojson.properties.map = false; }\r\n                else if (it._map.hasLayer(it.getPopup())) {\r\n                    geojson.properties.popupOpened = true;\r\n                }\r\n                var res = L.GmxDrawing.utils.getNotDefaults(it._obj.options, L.GmxDrawing.utils.defaultStyles.markerStyle.options);\r\n                if (Object.keys(res).length) { geojson.properties.options = res; }\r\n                res = L.GmxDrawing.utils.getNotDefaults(it._obj.options.icon.options, L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon);\r\n                if (Object.keys(res).length) {\r\n                    if (!geojson.properties.options) { geojson.properties.options = {}; }\r\n                    geojson.properties.options.icon = res;\r\n                }\r\n                points.push(geojson);\r\n            } else {\r\n                featureGroup.addLayer(it);\r\n            }\r\n        }\r\n        var featureCollection = featureGroup.toGeoJSON();\r\n        featureCollection.features = featureCollection.features.concat(points);\r\n        return {\r\n            version: stateVersion,\r\n            featureCollection: featureCollection\r\n        };\r\n    },\r\n\r\n    _addItem: function (item) {\r\n        var addFlag = true;\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            var it = this.items[i];\r\n            if (it === item) {\r\n                addFlag = false;\r\n                break;\r\n            }\r\n        }\r\n        if (addFlag) { this.items.push(item); }\r\n        this.fire('add', {mode: item.mode, object: item});\r\n    },\r\n\r\n    _removeItem: function (obj, remove) {\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            var item = this.items[i];\r\n            if (item === obj) {\r\n                if (remove) {\r\n                    this.items.splice(i, 1);\r\n                    var ev = {type: item.options.type, mode: item.mode, object: item};\r\n                    this.fire('remove', ev);\r\n                    item.fire('remove', ev);\r\n                }\r\n                return item;\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    clear: function () {\r\n        for (var i = 0, len = this.items.length; i < len; i++) {\r\n            var item = this.items[i];\r\n            if (item && item._map) {\r\n                item._map.removeLayer(item);\r\n            }\r\n            var ev = {type: item.options.type, mode: item.mode, object: item};\r\n            this.fire('remove', ev);\r\n            item.fire('remove', ev);\r\n        }\r\n        this.items = [];\r\n        return this;\r\n    },\r\n\r\n    remove: function (obj) {\r\n        var item = this._removeItem(obj, true);\r\n        if (item && item._map) {\r\n            item._map.removeLayer(item);\r\n        }\r\n        return item;\r\n    }\r\n});\r\n\r\nL.Map.addInitHook(function () {\r\n    this.gmxDrawing = new L.GmxDrawing(this);\r\n});\r\n\r\nexport default L.GmxDrawing;","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.github.io/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","import L from 'leaflet';\r\nimport 'leaflet-geomixer-rollup';\r\n\r\nL.GmxDrawing.Feature = L.LayerGroup.extend({\r\n    options: {\r\n        endTooltip: '',\r\n        smoothFactor: 0,\r\n        mode: '' // add, edit\r\n    },\r\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\r\n\r\n    simplify: function () {\r\n        var i, j, len, len1, hole;\r\n        for (i = 0, len = this.rings.length; i < len; i++) {\r\n            var it = this.rings[i],\r\n                ring = it.ring;\r\n            ring.setLatLngs(ring.points.getPathLatLngs());\r\n            for (j = 0, len1 = it.holes.length; j < len1; j++) {\r\n                hole = it.holes[j];\r\n                hole.setLatLngs(hole.points.getPathLatLngs());\r\n            }\r\n        }\r\n        return this;\r\n    },\r\n\r\n    bringToFront: function () {\r\n\t\tthis.rings.forEach(function(it) {\r\n\t\t\tit.ring.bringToFront();\r\n\t\t});\r\n\t\treturn this;\r\n\t\t// return this.invoke('bringToFront');\r\n    },\r\n\r\n    bringToBack: function () {\r\n\t\tthis.rings.forEach(function(it) {\r\n\t\t\tit.ring.bringToBack();\r\n\t\t});\r\n\t\treturn this;\r\n        // return this.invoke('bringToBack');\r\n    },\r\n\r\n    onAdd: function (map) {\r\n        L.LayerGroup.prototype.onAdd.call(this, map);\r\n        this._parent._addItem(this);\r\n        if (this.options.type === 'Point') {\r\n            map.addLayer(this._obj);\r\n            requestIdleCallback(function () {\r\n                this._fireEvent('drawstop', this._obj.options);\r\n            }.bind(this), {timeout: 0});\r\n        } else {\r\n\t\t\tvar svgContainer = this._map._pathRoot || (this._map._renderer && this._map._renderer._container);\r\n\t\t\tif (svgContainer && svgContainer.getAttribute('pointer-events') !== 'visible') {\r\n\t\t\t\tsvgContainer.setAttribute('pointer-events', 'visible');\r\n\t\t\t}\r\n        }\r\n        this._fireEvent('addtomap');\r\n    },\r\n\r\n    onRemove: function (map) {\r\n        if ('hideTooltip' in this) { this.hideTooltip(); }\r\n\t\tthis._removeStaticTooltip();\r\n\r\n        L.LayerGroup.prototype.onRemove.call(this, map);\r\n\r\n        if (this.options.type === 'Point') {\r\n            map.removeLayer(this._obj);\r\n        }\r\n        this._fireEvent('removefrommap');\r\n    },\r\n\r\n    remove: function (ring) {\r\n        if (ring) {\r\n            var i, j, len, len1, hole;\r\n            for (i = 0, len = this.rings.length; i < len; i++) {\r\n                if (ring.options.hole) {\r\n                    for (j = 0, len1 = this.rings[i].holes.length; j < len1; j++) {\r\n                        hole = this.rings[i].holes[j];\r\n                        if (ring === hole) {\r\n                            this.rings[i].holes.splice(j, 1);\r\n                            if (hole._map) {\r\n                                hole._map.removeLayer(hole);\r\n                            }\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (!ring._map) {\r\n                        break;\r\n                    }\r\n                } else if (ring === this.rings[i].ring) {\r\n                    for (j = 0, len1 = this.rings[i].holes.length; j < len1; j++) {\r\n                        hole = this.rings[i].holes[j];\r\n                        if (hole._map) {\r\n                            hole._map.removeLayer(hole);\r\n                        }\r\n                    }\r\n                    this.rings.splice(i, 1);\r\n                    if (ring._map) {\r\n                        ring._map.removeLayer(ring);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            this.rings = [];\r\n        }\r\n        if (this.rings.length < 1) {\r\n            if (this._originalStyle) {\r\n                this._obj.setStyle(this._originalStyle);\r\n            }\r\n            this._parent.remove(this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    _fireEvent: function (name, options) {\r\n        //console.log('_fireEvent', name);\r\n        if (name === 'removefrommap' && this.rings.length > 1) {\r\n            return;\r\n        }\r\n        var event = L.extend({}, {mode: this.mode || '', object: this}, options);\r\n        this.fire(name, event);\r\n        this._parent.fire(name, event);\r\n        if (name === 'drawstop' && this._map) {\r\n            L.DomUtil.removeClass(this._map._mapPane, 'leaflet-clickable');\r\n        }\r\n    },\r\n\r\n    getStyle: function () {\r\n        var resultStyles = L.extend({}, this._drawOptions);\r\n        delete resultStyles.holeStyle;\r\n        if (resultStyles.type === 'Point') {\r\n            L.extend(resultStyles, resultStyles.markerStyle.iconStyle);\r\n            delete resultStyles.markerStyle;\r\n        }\r\n        return resultStyles;\r\n    },\r\n\r\n    setOptions: function (options) {\r\n        if (options.lineStyle) {\r\n            this._setStyleOptions(options.lineStyle, 'lines');\r\n        }\r\n        if (options.pointStyle) {\r\n            this._setStyleOptions(options.pointStyle, 'points');\r\n        }\r\n        if ('editable' in options) {\r\n            if (options.editable) { this.enableEdit(); }\r\n            else { this.disableEdit(); }\r\n        }\r\n        L.setOptions(this, options);\r\n\r\n        this._fireEvent('optionschange');\r\n        return this;\r\n    },\r\n\r\n    _setStyleOptions: function (options, type) {\r\n        for (var i = 0, len = this.rings.length; i < len; i++) {\r\n            var it = this.rings[i].ring[type];\r\n            it.setStyle(options);\r\n            it.redraw();\r\n            for (var j = 0, len1 = this.rings[i].holes.length; j < len1; j++) {\r\n                it = this.rings[i].holes[j][type];\r\n                it.setStyle(options);\r\n                it.redraw();\r\n            }\r\n        }\r\n        this._fireEvent('stylechange');\r\n    },\r\n\r\n    _setLinesStyle: function (options) {\r\n        this._setStyleOptions(options, 'lines');\r\n    },\r\n\r\n    _setPointsStyle: function (options) {\r\n        this._setStyleOptions(options, 'points');\r\n    },\r\n\r\n    getOptions: function () {\r\n        var options = this.options,\r\n            data = L.extend({}, options);\r\n\r\n        data.lineStyle = options.lineStyle;\r\n        data.pointStyle = options.pointStyle;\r\n\r\n        var res = L.GmxDrawing.utils.getNotDefaults(data, L.GmxDrawing.utils.defaultStyles);\r\n        if (!Object.keys(res.lineStyle).length) { delete res.lineStyle; }\r\n        if (!Object.keys(res.pointStyle).length) { delete res.pointStyle; }\r\n        if (!this._map) { res.map = false; }\r\n\r\n        if (options.type === 'Point') {\r\n            var opt = L.GmxDrawing.utils.getNotDefaults(this._obj.options, L.GmxDrawing.utils.defaultStyles.markerStyle.options);\r\n            if (Object.keys(opt).length) { res.options = opt; }\r\n            opt = L.GmxDrawing.utils.getNotDefaults(this._obj.options.icon.options, L.GmxDrawing.utils.defaultStyles.markerStyle.options.icon);\r\n            if (Object.keys(opt).length) {\r\n                res.options.icon = opt;\r\n            }\r\n        }\r\n\r\n        return res;\r\n    },\r\n\r\n    _latLngsToCoords: function (latlngs, closed) {\r\n        var coords = L.GeoJSON.latLngsToCoords(L.GmxDrawing.utils.isOldVersion ? latlngs : latlngs[0]);\r\n        if (closed) {\r\n            var lastCoord = coords[coords.length - 1];\r\n            if (lastCoord[0] !== coords[0][0] || lastCoord[1] !== coords[0][1]) {\r\n                coords.push(coords[0]);\r\n            }\r\n        }\r\n        return coords;\r\n    },\r\n\r\n    _latlngsAddShift: function (latlngs, shiftPixel) {\r\n        var arr = [];\r\n        for (var i = 0, len = latlngs.length; i < len; i++) {\r\n            arr.push(L.GmxDrawing.utils.getShiftLatlng(latlngs[i], this._map, shiftPixel));\r\n        }\r\n        return arr;\r\n    },\r\n\r\n    getPixelOffset: function () {\r\n        var p = this.shiftPixel;\r\n        if (!p && this._map) {\r\n            var mInPixel = 256 / L.gmxUtil.tileSizes[this._map._zoom];\r\n            p = this.shiftPixel = new L.Point(Math.floor(mInPixel * this._dx), -Math.floor(mInPixel * this._dy));\r\n        }\r\n        return p || new L.Point(0, 0);\r\n    },\r\n\r\n    setOffsetToGeometry: function (dx, dy) {\r\n        var i, len, j, len1, ring, latlngs,\r\n            mInPixel = 256 / L.gmxUtil.tileSizes[this._map._zoom],\r\n            shiftPixel = new L.Point(mInPixel * (this._dx || dx || 0), -mInPixel * (this._dy || dy || 0));\r\n\r\n        for (i = 0, len = this.rings.length; i < len; i++) {\r\n            var it = this.rings[i];\r\n            ring = it.ring;\r\n            latlngs = ring.points.getLatLngs();\r\n            ring.setLatLngs(this._latlngsAddShift(latlngs, shiftPixel));\r\n\r\n            if (it.holes && it.holes.length) {\r\n                for (j = 0, len1 = it.holes.length; j < len1; j++) {\r\n                    ring = it.holes[j].ring;\r\n                    latlngs = ring.points.getLatLngs();\r\n                    ring.setLatLngs(this._latlngsAddShift(latlngs, shiftPixel));\r\n                }\r\n            }\r\n        }\r\n        this.setPositionOffset();\r\n        return this;\r\n    },\r\n\r\n    setPositionOffset: function (mercX, mercY) {\r\n        this._dx = mercX || 0;\r\n        this._dy = mercY || 0;\r\n        if (this._map) {\r\n            this.shiftPixel = null;\r\n            var p = this.getPixelOffset();\r\n            for (var i = 0, len = this.rings.length; i < len; i++) {\r\n                this.rings[i].ring.setPositionOffset(p);\r\n                for (var j = 0, len1 = this.rings[i].holes.length; j < len1; j++) {\r\n                    this.rings[i].holes[j].setPositionOffset(p);\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    _getCoords: function (withoutShift) {\r\n        var type = this.options.type,\r\n            closed = (type === 'Polygon' || type === 'Rectangle' || type === 'MultiPolygon'),\r\n            shiftPixel = withoutShift ? null : this.shiftPixel,\r\n            coords = [];\r\n        for (var i = 0, len = this.rings.length; i < len; i++) {\r\n            var it = this.rings[i],\r\n                arr = this._latLngsToCoords(it.ring.points.getLatLngs(), closed, shiftPixel);\r\n\r\n            if (closed) { arr = [arr]; }\r\n            if (it.holes && it.holes.length) {\r\n                for (var j = 0, len1 = it.holes.length; j < len1; j++) {\r\n                    arr.push(this._latLngsToCoords(it.holes[j].points.getLatLngs(), closed, shiftPixel));\r\n                }\r\n            }\r\n            coords.push(arr);\r\n        }\r\n        if (type === 'Polyline' || (closed && type !== 'MultiPolygon')) { coords = coords[0]; }\r\n        return coords;\r\n    },\r\n\r\n    _geoJsonToLayer: function (geoJson) {\r\n\t\treturn L.geoJson(geoJson).getLayers()[0];\r\n    },\r\n\r\n    setGeoJSON: function (geoJson) {\r\n\t\tthis._initialize(this._parent, geoJson);\r\n        return this;\r\n    },\r\n\r\n    toGeoJSON: function () {\r\n        return this._toGeoJSON(true);\r\n    },\r\n\r\n    _toGeoJSON: function (withoutShift) {\r\n        var type = this.options.type,\r\n            properties = this.getOptions(),\r\n            coords;\r\n\r\n        delete properties.mode;\r\n\r\n        if (!this.options.editable || type === 'Point') {\r\n            var obj = this._obj;\r\n            if (obj instanceof L.GeoJSON) {\r\n                obj = L.GmxDrawing.utils._getLastObject(obj).getLayers()[0];\r\n            }\r\n            var geojson = obj.toGeoJSON();\r\n            geojson.properties = properties;\r\n            return geojson;\r\n        } else if (this.rings) {\r\n            coords = this._getCoords(withoutShift);\r\n            if (type === 'Rectangle') { type = 'Polygon'; }\r\n            else if (type === 'Polyline') { type = 'LineString'; }\r\n            else if (type === 'MultiPolyline') { type = 'MultiLineString'; }\r\n        }\r\n\r\n        return L.GeoJSON.getFeature({\r\n            feature: {\r\n                type: 'Feature',\r\n                properties: properties\r\n            }\r\n        }, {\r\n            type: type,\r\n            coordinates: coords\r\n        });\r\n    },\r\n\r\n    getType: function () {\r\n        return this.options.type;\r\n    },\r\n\r\n    hideFill: function () {\r\n        if (this._fill._map) {\r\n             this._map.removeLayer(this._fill);\r\n        }\r\n    },\r\n\r\n    showFill: function () {\r\n        var geoJSON = this.toGeoJSON(),\r\n            obj = L.GeoJSON.geometryToLayer(geoJSON, null, null, {weight: 0});\r\n\r\n        this._fill.clearLayers();\r\n        if (obj instanceof L.LayerGroup) {\r\n            obj.eachLayer(function (layer) {\r\n                this._fill.addLayer(layer);\r\n            }, this);\r\n        } else {\r\n            obj.setStyle({smoothFactor: 0, weight: 0, fill: true, fillColor: '#0033ff'});\r\n            this._fill.addLayer(obj);\r\n        }\r\n        if (!this._fill._map) {\r\n            this._map.addLayer(this._fill);\r\n            this._fill.bringToBack();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getBounds: function() {\r\n        var bounds = new L.LatLngBounds();\r\n        if (this.options.type === 'Point') {\r\n            var latLng = this._obj.getLatLng();\r\n            bounds.extend(latLng);\r\n        } else {\r\n            bounds = this._getBounds();\r\n        }\r\n        return bounds;\r\n    },\r\n\r\n    _getBounds: function(item) {\r\n        var layer = item || this,\r\n            bounds = new L.LatLngBounds(),\r\n            latLng;\r\n        if (layer instanceof L.LayerGroup) {\r\n            layer.eachLayer(function (it) {\r\n                latLng = this._getBounds(it);\r\n                bounds.extend(latLng);\r\n            }, this);\r\n            return bounds;\r\n        } else if (layer instanceof L.Marker) {\r\n            latLng = layer.getLatLng();\r\n        } else {\r\n            latLng = layer.getBounds();\r\n        }\r\n        bounds.extend(latLng);\r\n        return bounds;\r\n    },\r\n\r\n    initialize: function (parent, obj, options) {\r\n        options = options || {};\r\n\r\n        this.contextmenu = new L.GmxDrawingContextMenu();\r\n        options.mode = '';\r\n        this._drawOptions = L.extend({}, options);\r\n        var type = options.type;\r\n        if (type === 'Point') {\r\n            delete options.pointStyle;\r\n            delete options.lineStyle;\r\n        } else {\r\n            delete options.iconUrl;\r\n            delete options.iconAnchor;\r\n            delete options.iconSize;\r\n            delete options.popupAnchor;\r\n            delete options.shadowSize;\r\n            delete options.markerStyle;\r\n        }\r\n        delete options.holeStyle;\r\n\r\n        L.setOptions(this, options);\r\n\r\n        this._layers = {};\r\n        this._obj = obj;\r\n        this._parent = parent;\r\n        this._dx = 0;\r\n        this._dy = 0;\r\n\r\n        this._initialize(parent, obj);\r\n    },\r\n\r\n    enableEdit: function() {\r\n        this.options.mode = 'edit';\r\n        var type = this.options.type;\r\n        if (type !== 'Point') {\r\n            // for (var i = 0, len = this.rings.length; i < len; i++) {\r\n                // var it = this.rings[i];\r\n                // it.ring.options.editable = this.options.editable;\r\n                // it.ring.setEditMode();\r\n                // for (var j = 0, len1 = it.holes.length; j < len1; j++) {\r\n                    // var hole = it.holes[j];\r\n                    // hole.options.editable = this.options.editable;\r\n                    // hole.setEditMode();\r\n                // }\r\n            // }\r\n            var geojson = L.geoJson(this.toGeoJSON()),\r\n\t\t\t\titems = geojson.getLayers();\r\n            this.options.editable = true;\r\n\t\t\tif (items.length) {\r\n\t\t\t\tthis._initialize(this._parent, items[0]);\r\n\t\t\t}\r\n        }\r\n        return this;\r\n    },\r\n\r\n    disableEdit: function() {\r\n        var type = this.options.type;\r\n        if (type !== 'Point') {\r\n\t\t\tthis._originalStyle = this.options.lineStyle;\r\n            var geojson = L.geoJson(this.toGeoJSON().geometry, this._originalStyle).getLayers()[0];\r\n            for (var i = 0, len = this.rings.length; i < len; i++) {\r\n                var it = this.rings[i];\r\n                it.ring.removeEditMode();\r\n                it.ring.options.editable = false;\r\n                for (var j = 0, len1 = it.holes.length; j < len1; j++) {\r\n                    var hole = it.holes[j];\r\n                    hole.removeEditMode();\r\n                    hole.options.editable = false;\r\n                }\r\n            }\r\n            this._obj = geojson;\r\n            this.options.editable = false;\r\n            this._initialize(this._parent, this._obj);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    getArea: function () {\r\n        var out = 0;\r\n        if (L.gmxUtil.geoJSONGetArea) {\r\n            out = L.gmxUtil.geoJSONGetArea(this.toGeoJSON());\r\n        }\r\n        return out;\r\n    },\r\n\r\n    getLength: function () {\r\n        var out = 0;\r\n        if (L.gmxUtil.geoJSONGetLength) {\r\n            out = L.gmxUtil.geoJSONGetLength(this.toGeoJSON());\r\n        }\r\n        return out;\r\n    },\r\n\r\n    getLatLng: function () {\r\n\t\treturn this.lastAddLatLng;\r\n    },\r\n\r\n    _getTooltipAnchor: function () {\r\n\t\treturn this.lastAddLatLng;\r\n    },\r\n\r\n    getSummary: function () {\r\n        var str = '',\r\n            mapOpt = this._map ? this._map.options : {},\r\n            type = this.options.type;\r\n\r\n        if (type === 'Polyline' || type === 'MultiPolyline') {\r\n            str = L.gmxUtil.prettifyDistance(this.getLength(), mapOpt.distanceUnit);\r\n        } else if (type === 'Polygon' || type === 'MultiPolygon' || type === 'Rectangle') {\r\n            str = L.gmxUtil.prettifyArea(this.getArea(), mapOpt.squareUnit);\r\n        } else if (type === 'Point') {\r\n            var latLng = this._obj.getLatLng();\r\n            str = L.gmxUtil.formatCoordinates(latLng);\r\n        }\r\n        return str;\r\n    },\r\n\r\n    _initialize: function (parent, obj) {\r\n        this.clearLayers();\r\n        this.rings = [];\r\n        this.mode = '';\r\n        this.lastAddLatLng = L.latLng(0, 0);\t\t// последняя из добавленных точек\r\n\r\n        this._fill = L.featureGroup();\r\n\t\tif (this._fill.options) {\r\n\t\t\tthis._fill.options.smoothFactor = 0;\r\n\t\t}\r\n\r\n        if (this.options.editable) {\r\n            var arr = [];\r\n\t\t\tif (L.GmxDrawing.utils.isOldVersion) {\r\n\t\t\t\tarr = obj.getLayers ? L.GmxDrawing.utils._getLastObject(obj).getLayers() : [obj];\r\n\t\t\t} else {\r\n\t\t\t\tarr = obj.getLayers ? L.GmxDrawing.utils._getLastObject(obj) : [obj];\r\n\t\t\t\tif (obj.type && obj.coordinates) {\r\n\t\t\t\t\tvar type = obj.type;\r\n\t\t\t\t\tobj = this._geoJsonToLayer(obj);\r\n\t\t\t\t\tif (type === 'Polygon') {\r\n\t\t\t\t\t\tvar it1 = obj.getLatLngs();\r\n\t\t\t\t\t\tarr = [{_latlngs: it1.shift(), _holes: it1}];\r\n\t\t\t\t\t} else if (type === 'MultiPolygon') {\r\n\t\t\t\t\t\tarr = obj.getLatLngs().map(function(it) { return {_latlngs: it.shift(), _holes: it}; });\r\n\t\t\t\t\t} else if (type === 'LineString') {\r\n\t\t\t\t\t\tarr = [{_latlngs: obj.getLatLngs()}];\r\n\t\t\t\t\t} else if (type === 'MultiLineString') {\r\n\t\t\t\t\t\tarr = obj.getLatLngs().map(function(it) { return {_latlngs: it}; });\r\n\t\t\t\t\t} else if (type === 'Point') {\r\n\t\t\t\t\t\tthis._obj = new L.Marker(obj.getLatLng(), {draggable: true});\r\n\t\t\t\t\t\tthis._setMarker(this._obj);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else if (type === 'MultiPoint') {\r\n\t\t\t\t\t\tobj.getLayers()\r\n\t\t\t\t\t\t\t.forEach(function(it) {\r\n\t\t\t\t\t\t\t\tthis._setMarker(new L.Marker(it.getLatLng(), {draggable: true}));\r\n\t\t\t\t\t\t\t}.bind(this));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (this.options.type === 'MultiPolygon') {\r\n\t\t\t\t\tarr = (obj.getLayers ? obj.getLayers()[0] : obj)\r\n\t\t\t\t\t\t.getLatLngs()\r\n\t\t\t\t\t\t.map(function(it) { return {_latlngs: it.shift(), _holes: it}; });\r\n\t\t\t\t} else if (this.options.type === 'Polygon') {\r\n\t\t\t\t\tvar _latlngs = (obj.getLayers ? obj.getLayers()[0] : obj).getLatLngs();\r\n\t\t\t\t\tarr = [{_latlngs: _latlngs.shift(), _holes: _latlngs}];\r\n\t\t\t\t}\r\n\t\t\t}\r\n            for (var i = 0, len = arr.length; i < len; i++) {\r\n                var it = arr[i],\r\n                    holes = [],\r\n                    ring = new L.GmxDrawing.Ring(this, it._latlngs, {ring: true, editable: this.options.editable});\r\n\r\n                ring.on('click', e => {\r\n                    this.fire('click', e);\r\n                });\r\n\r\n                this.addLayer(ring);\r\n                if (it._holes) {\r\n                    for (var j = 0, len1 = it._holes.length; j < len1; j++) {\r\n                        var hole = new L.GmxDrawing.Ring(this, it._holes[j], {hole: true, editable: this.options.editable});\r\n                        this.addLayer(hole);\r\n                        holes.push(hole);\r\n                    }\r\n                }\r\n                this.rings.push({ring: ring, holes: holes});\r\n            }\r\n\r\n\t\t\tif (this.options.endTooltip && L.tooltip) {\r\n\t\t\t\tthis._initStaticTooltip();\r\n\t\t\t}\r\n\r\n            if (L.gmxUtil && L.gmxUtil.prettifyDistance && !this._showTooltip) {\r\n                var _gtxt = L.GmxDrawing.utils.getLocale;\r\n                var my = this;\r\n                this._showTooltip = function (type, ev) {\r\n                    var ring = ev.ring,\r\n                        originalEvent = ev.originalEvent,\r\n                        down = type !== 'angle' && (originalEvent.buttons || originalEvent.button);\r\n\r\n\t\t\t\t\tif (ring && (ring.downObject || !down)) {\r\n                       var mapOpt = my._map ? my._map.options : {},\r\n                            distanceUnit = mapOpt.distanceUnit,\r\n                            squareUnit = mapOpt.squareUnit,\r\n                            azimutUnit = mapOpt.azimutUnit || false,\r\n                            str = '';\r\n\r\n\t\t\t\t\t\tif (type === 'Area' && ring.mode === 'add') {\r\n\t\t\t\t\t\t\ttype = 'Length';\r\n\t\t\t\t\t\t}\r\n\r\n                        if (type === 'Area') {\r\n                            if (!L.gmxUtil.getArea) { return; }\r\n                            if (originalEvent && originalEvent.ctrlKey) {\r\n                                str = _gtxt('Perimeter') + ': ' + L.gmxUtil.prettifyDistance(my.getLength(), distanceUnit);\r\n                            } else {\r\n                                str = _gtxt(type) + ': ' + L.gmxUtil.prettifyArea(my.getArea(), squareUnit);\r\n                            }\r\n                            my._parent.showTooltip(ev.layerPoint, str);\r\n                        } else if (type === 'Length') {\r\n                            var downAttr = L.GmxDrawing.utils.getDownType.call(my, ev, my._map, my),\r\n                                angleLeg = azimutUnit ? ring.getAngleLength(downAttr) : null;\r\n\r\n\t\t\t\t\t\t\tif (angleLeg && angleLeg.length && (my.options.type === 'Polyline' || ring.mode === 'add')) {\r\n\t\t\t\t\t\t\t\tstr = _gtxt('angleLength') + ': ' + angleLeg.angle + '(' + L.gmxUtil.prettifyDistance(angleLeg.length, distanceUnit) + ')';\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar length = ring.getLength(downAttr),\r\n\t\t\t\t\t\t\t\t\ttitleName = (downAttr.mode === 'edit' || downAttr.num > 1 ? downAttr.type : '') + type,\r\n\t\t\t\t\t\t\t\t\ttitle = _gtxt(titleName);\r\n\t\t\t\t\t\t\t\tstr = (title === titleName ? _gtxt(type) : title) + ': ' + L.gmxUtil.prettifyDistance(length, distanceUnit);\r\n\t\t\t\t\t\t\t}\r\n                            my._parent.showTooltip(ev.layerPoint, str);\r\n                        } else if (type === 'angle') {\r\n\t\t\t\t\t\t\tstr = _gtxt('Angle') + ': ' + Math.floor(180.0 * ring._angle / Math.PI) + '°';\r\n                            my._parent.showTooltip(ev.layerPoint, str);\r\n                        }\r\n                        my._fireEvent('onMouseOver');\r\n\t\t\t\t\t}\r\n                };\r\n                this.hideTooltip = function() {\r\n                    this._parent.hideTooltip();\r\n                    this._fireEvent('onMouseOut');\r\n                };\r\n                this.getTitle = _gtxt;\r\n            }\r\n        } else if (this.options.type === 'Point') {\r\n            this._setMarker(obj);\r\n        } else {\r\n            this.addLayer(obj);\r\n        }\r\n    },\r\n\r\n    _initStaticTooltip: function () {\r\n\t\tthis.on('drawstop editstop', function (ev) {\r\n\t\t\tif (this.staticTooltip) {\r\n\t\t\t\tthis._removeStaticTooltip();\r\n\t\t\t}\r\n\r\n\t\t\tvar latlng = ev.latlng,\r\n\t\t\t\tmap = this._map,\r\n\t\t\t\tmapOpt = map ? map.options : {},\r\n\t\t\t\tdistanceUnit = mapOpt.distanceUnit,\r\n\t\t\t\tsquareUnit = mapOpt.squareUnit,\r\n\t\t\t\ttCont = L.DomUtil.create('div', 'content'),\r\n\t\t\t\tinfo = L.DomUtil.create('div', 'infoTooltip', tCont),\r\n\t\t\t\tcloseBtn = L.DomUtil.create('div', 'closeBtn', tCont),\r\n\t\t\t\tpolygon = this.options.type === 'Polygon',\r\n\t\t\t\ttOptions = {interactive: true, sticky: true, permanent: true, className: 'staticTooltip'};\r\n\r\n\t\t\tif (polygon) {\r\n\t\t\t\tif (this.options.endTooltip === 'center') {\r\n\t\t\t\t\ttOptions.direction = 'center';\r\n\t\t\t\t\tlatlng = this.getBounds().getCenter();\r\n\t\t\t\t}\r\n\t\t\t\tinfo.innerHTML = L.gmxUtil.prettifyArea(this.getArea(), squareUnit);\r\n\t\t\t} else {\r\n\t\t\t\ttOptions.offset = L.point(10, 0);\r\n\t\t\t\tvar arr = this.rings[0].ring.points.getLatLngs()[0];\r\n\t\t\t\tlatlng = arr[arr.length - 1];\r\n\t\t\t\tinfo.innerHTML = L.gmxUtil.prettifyDistance(this.getLength(), distanceUnit);\r\n\t\t\t}\r\n\t\t\tcloseBtn.innerHTML = '×';\r\n\t\t\tL.DomEvent.on(closeBtn, 'click', function() {\r\n\t\t\t\tthis._removeStaticTooltip();\r\n\t\t\t\tthis.remove();\r\n\t\t\t}, this);\r\n\r\n\t\t\tthis.staticTooltip = L.tooltip(tOptions)\r\n\t\t\t\t.setLatLng(latlng)\r\n\t\t\t\t.setContent(tCont)\r\n\t\t\t\t.addTo(this._map);\r\n\r\n\t\t\trequestIdleCallback(function () {\r\n\t\t\t\tthis.on('edit', this._removeStaticTooltip, this);\r\n\t\t\t}.bind(this), {timeout: 0});\r\n\t\t}, this);\r\n    },\r\n\r\n    _removeStaticTooltip: function () {\r\n\t\tif (this.staticTooltip) {\r\n\t\t\tthis._map.removeLayer(this.staticTooltip);\r\n\t\t\tthis.staticTooltip = null;\r\n\t\t}\r\n    },\r\n\r\n    _enableDrag: function () {\r\n        this._parent._enableDrag();\r\n    },\r\n\r\n    _disableDrag: function () {\r\n        this._parent._disableDrag();\r\n    },\r\n\r\n    _setMarker: function (marker) {\r\n        var _this = this,\r\n            _parent = this._parent,\r\n\t\t\t_map = _parent._map,\r\n\t\t\tmapOpt = _map ? _map.options : {};\r\n\r\n        marker\r\n            .bindPopup(null, {maxWidth: 1000, closeOnClick: mapOpt.maxPopupCount > 1 ? false : true})\r\n            .on('dblclick', function() {\r\n                if (_map) { _map.removeLayer(this); }\r\n                _this.remove();\r\n                //_parent.remove(this);\r\n            })\r\n            .on('dragstart', function() {\r\n                _this._fireEvent('dragstart');\r\n            })\r\n            .on('drag', function(ev) {\r\n\t\t\t\tif (ev.originalEvent && ev.originalEvent.ctrlKey) {\r\n\t\t\t\t\tmarker.setLatLng(L.GmxDrawing.utils.snapPoint(marker.getLatLng(), marker, _map));\r\n\t\t\t\t}\r\n                _this._fireEvent('drag');\r\n                _this._fireEvent('edit');\r\n            })\r\n            .on('dragend', function() {\r\n                _this._fireEvent('dragend');\r\n            })\r\n            .on('popupopen', function(ev) {\r\n                var popup = ev.popup;\r\n                if (!popup._input) {\r\n                    popup._input = L.DomUtil.create('textarea', 'leaflet-gmx-popup-textarea', popup._contentNode);\r\n                    // popup._input.placeholder = _this.options.title || marker.options.title || '';\r\n                    popup._input.value = _this.options.title || marker.options.title || '';\r\n                    popup._contentNode.style.width = 'auto';\r\n                }\r\n                L.DomEvent.on(popup._input, 'keyup', function() {\r\n                    var rows = this.value.split('\\n'),\r\n                        cols = this.cols || 0;\r\n\r\n                    rows.forEach(function(str) {\r\n                        if (str.length > cols) { cols = str.length; }\r\n                    });\r\n                    this.rows = rows.length;\r\n                    if (cols) { this.cols = cols; }\r\n                    popup.update();\r\n                    _this.options.title = marker.options.title = this.value;\r\n                    this.focus();\r\n                }, popup._input);\r\n                popup.update();\r\n            });\r\n        _map.addLayer(marker);\r\n\r\n        _this.openPopup = marker.openPopup = function () {\r\n            if (marker._popup && marker._map && !marker._map.hasLayer(marker._popup)) {\r\n                marker._popup.setLatLng(marker._latlng);\r\n                var gmxDrawing = marker._map.gmxDrawing;\r\n                if (gmxDrawing._drawMode) {\r\n                    marker._map.fire(gmxDrawing._createType ? 'click' : 'mouseup', {latlng: marker._latlng, delta: 1});\r\n                } else {\r\n                    marker._popup.addTo(marker._map);\r\n                    marker._popup._isOpen = true;\r\n                }\r\n            }\r\n            return marker;\r\n        };\r\n    },\r\n\r\n    setAddMode: function () {\r\n        if (this.rings.length) {\r\n            this.rings[0].ring.setAddMode();\r\n        }\r\n\t\treturn this;\r\n    },\r\n\r\n    _pointDown: function (ev) {\r\n        if (this.rings.length) {\r\n            this.rings[0].ring._pointDown(ev);\r\n        }\r\n    },\r\n\r\n    getPopup: function() {\r\n        if (this.options.type === 'Point') {\r\n            return this._obj.getPopup();\r\n        }\r\n    }\r\n});\r\n\r\nexport default L.GmxDrawing.Feature;","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.github.io/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.github.io/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.github.io/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import L from 'leaflet';\r\nimport './Drawing.js';\r\n\r\nL.GmxDrawing.utils = {\r\n\tsnaping: 10,\t\t\t// snap distance\r\n\tisOldVersion: L.version.substr(0, 3) === '0.7',\r\n\tdefaultStyles: {\r\n        mode: '',\r\n        map: true,\r\n        editable: true,\r\n        holeStyle: {\r\n            opacity: 0.5,\r\n            color: '#003311'\r\n        },\r\n        lineStyle: {\r\n            opacity:1,\r\n            weight:2,\r\n            clickable: false,\r\n            className: 'leaflet-drawing-lines',\r\n            color: '#0033ff',\r\n            dashArray: null,\r\n            lineCap: null,\r\n            lineJoin: null,\r\n            fill: false,\r\n            fillColor: null,\r\n            fillOpacity: 0.2,\r\n            smoothFactor: 0,\r\n\t\t\tnoClip: true,\r\n            stroke: true\r\n        },\r\n        pointStyle: {\r\n            className: 'leaflet-drawing-points',\r\n            smoothFactor: 0,\r\n\t\t\tnoClip: true,\r\n            opacity: 1,\r\n            shape: 'circle',\r\n            fill: true,\r\n            fillColor: '#ffffff',\r\n            fillOpacity: 1,\r\n            size: L.Browser.mobile ? 40 : 8,\r\n            weight: 2,\r\n            clickable: true,\r\n            color: '#0033ff',\r\n            dashArray: null,\r\n            lineCap: null,\r\n            lineJoin: null,\r\n            stroke: true\r\n        },\r\n        markerStyle: {\r\n            mode: '',\r\n            editable: false,\r\n            title: 'Text example',\r\n            options: {\r\n                alt: '',\r\n                //title: '',\r\n                clickable: true,\r\n                draggable: false,\r\n                keyboard: true,\r\n                opacity: 1,\r\n                zIndexOffset: 0,\r\n                riseOffset: 250,\r\n                riseOnHover: false,\r\n                icon: {\r\n                    className: '',\r\n                    iconUrl: '',\r\n                    iconAnchor: [12, 41],\r\n                    iconSize: [25, 41],\r\n                    popupAnchor: [1, -34],\r\n                    shadowSize: [41, 41]\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    getClosestOnGeometry: function(latlng, gmxGeoJson, map) {\r\n\t\tif (L.GeometryUtil && map) {\r\n\t\t\treturn L.GeometryUtil.closestLayerSnap(\r\n\t\t\t\t\tmap,\r\n\t\t\t\t\t[L.geoJson(L.gmxUtil.geometryToGeoJSON(gmxGeoJson, true, true))],\r\n\t\t\t\t\tlatlng,\r\n\t\t\t\t\tNumber(map.options.snaping || L.GmxDrawing.utils.snaping),\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n    },\r\n\r\n    snapPoint: function (latlng, obj, map) {\r\n\t\tvar res = latlng;\r\n\t\tif (L.GeometryUtil) {\r\n\t\t\tvar drawingObjects = map.gmxDrawing.getFeatures()\r\n\t\t\t\t\t.filter(function(it) { return it !== obj._parent && it._obj !== obj; })\r\n\t\t\t\t\t.map(function(it) { return it.options.type === 'Point' ? it._obj : it; }),\r\n\t\t\t\t\tsnaping = Number(map.options.snaping || L.GmxDrawing.utils.snaping),\r\n\t\t\t\t\tclosest = L.GeometryUtil.closestLayerSnap(map, drawingObjects, latlng, snaping, true);\r\n\r\n\t\t\tif (closest) {\r\n\t\t\t\tres = closest.latlng;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n   },\r\n\r\n    getNotDefaults: function(from, def) {\r\n        var res = {};\r\n        for (var key in from) {\r\n            if (key === 'icon' || key === 'map') {\r\n                continue;\r\n            } else if (key === 'iconAnchor' || key === 'iconSize' || key === 'popupAnchor' || key === 'shadowSize') {\r\n                if (!def[key]) { continue; }\r\n                if (def[key][0] !== from[key][0] || def[key][1] !== from[key][1]) { res[key] = from[key]; }\r\n            } else if (key === 'lineStyle' || key === 'pointStyle' || key === 'markerStyle') {\r\n                res[key] = this.getNotDefaults(from[key], def[key]);\r\n            } else if (!def || (def[key] !== from[key] || key === 'fill')) {\r\n                res[key] = from[key];\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n\r\n    getShiftLatlng: function (latlng, map, shiftPixel) {\r\n        if (shiftPixel && map) {\r\n            var p = map.latLngToLayerPoint(latlng)._add(shiftPixel);\r\n            latlng = map.layerPointToLatLng(p);\r\n        }\r\n        return latlng;\r\n    },\r\n\r\n    getDownType: function(ev, map, feature) {\r\n        var layerPoint = ev.layerPoint,\r\n\t\t\toriginalEvent = ev.originalEvent,\r\n            ctrlKey = false, shiftKey = false, altKey = false,\r\n            latlng = ev.latlng;\r\n        if (originalEvent) {\r\n            ctrlKey = originalEvent.ctrlKey; shiftKey = originalEvent.shiftKey; altKey = originalEvent.altKey;\r\n        }\r\n        if (ev.touches && ev.touches.length === 1) {\r\n            var first = ev.touches[0],\r\n                containerPoint = map.mouseEventToContainerPoint(first);\r\n            layerPoint = map.containerPointToLayerPoint(containerPoint);\r\n            latlng = map.layerPointToLatLng(layerPoint);\r\n        }\r\n        var out = {type: '', latlng: latlng, ctrlKey: ctrlKey, shiftKey: shiftKey, altKey: altKey},\r\n            ring = this.points ? this : (ev.ring || ev.relatedEvent),\r\n            points = ring.points._originalPoints || ring.points._parts[0] || [],\r\n            len = points.length;\r\n\r\n        if (len === 0) { return out; }\r\n\r\n        var size = (ring.points.options.size || 10) / 2;\r\n        size += 1 + (ring.points.options.weight || 2);\r\n\r\n        var cursorBounds = new L.Bounds(\r\n            L.point(layerPoint.x - size, layerPoint.y - size),\r\n            L.point(layerPoint.x + size, layerPoint.y + size)\r\n            ),\r\n            prev = points[len - 1],\r\n            lastIndex = len - (ring.mode === 'add' ? 2 : 1);\r\n\r\n        out = {\r\n            mode: ring.mode,\r\n            layerPoint: ev.layerPoint,\r\n            ctrlKey: ctrlKey, shiftKey: shiftKey, altKey: altKey,\r\n            latlng: latlng\r\n        };\r\n        for (var i = 0; i < len; i++) {\r\n            var point = points[i];\r\n            if (feature.shiftPixel) { point = points[i].add(feature.shiftPixel); }\r\n            if (cursorBounds.contains(point)) {\r\n                out.type = 'node';\r\n                out.num = i;\r\n                out.end = (i === 0 || i === lastIndex ? true : false);\r\n                break;\r\n            }\r\n            var dist = L.LineUtil.pointToSegmentDistance(layerPoint, prev, point);\r\n            if (dist < size) {\r\n                out.type = 'edge';\r\n                out.num = (i === 0 ? len : i);\r\n            }\r\n            prev = point;\r\n        }\r\n        return out;\r\n    },\r\n\r\n    _getLastObject: function (obj) {\r\n        if (obj.getLayers) {\r\n            var layer = obj.getLayers().shift();\r\n            return layer.getLayers ? this._getLastObject(layer) : obj;\r\n        }\r\n        return obj;\r\n    },\r\n\r\n    getMarkerByPos: function (pos, features) {\r\n        for (var i = 0, len = features.length; i < len; i++) {\r\n            var feature = features[i],\r\n                fobj = feature._obj ? feature._obj : null,\r\n                mpos = fobj && fobj._icon ? fobj._icon._leaflet_pos : null;\r\n            if (mpos && mpos.x === pos.x && mpos.y === pos.y) {\r\n                return fobj._latlng;\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    getLocale: function (key) {\r\n\t\tvar res = L.gmxLocale ? L.gmxLocale.getText(key) : null;\r\n\t\treturn res || key;\r\n    }\r\n};\r\n\r\nexport default L.GmxDrawing.utils;","import L from 'leaflet';\r\nimport GmxDrawingContextMenu from './ContextMenu.js';\r\nimport Utils from './Utils.js';\r\n\r\nL.GmxDrawing.Ring = L.LayerGroup.extend({\r\n    options: {\r\n        className: 'leaflet-drawing-ring',\r\n        //noClip: true,\r\n        maxPoints: 0,\r\n        smoothFactor: 0,\r\n\t\tnoClip: true,\r\n        opacity: 1,\r\n        shape: 'circle',\r\n        fill: true,\r\n        fillColor: '#ffffff',\r\n        fillOpacity: 1,\r\n        size: L.Browser.mobile ? 40 : 8,\r\n        weight: 2\r\n    },\r\n    includes: L.Evented ? L.Evented.prototype : L.Mixin.Events,\r\n\r\n    initialize: function (parent, coords, options) {\r\n        options = options || {};\r\n\r\n        this.contextmenu = new GmxDrawingContextMenu();\r\n        options.mode = '';\r\n        this._activeZIndex = options.activeZIndex || 7;\r\n        this._notActiveZIndex = options.notActiveZIndex || 6;\r\n        this.options = L.extend({}, this.options, parent.getStyle(), options);\r\n\r\n        this._layers = {};\r\n        this._coords = coords;\r\n        this._legLength = [];\r\n        this._parent = parent;\r\n\r\n        this._initialize(parent, coords);\r\n    },\r\n\r\n    _initialize: function (parent, coords) {\r\n        this.clearLayers();\r\n        delete this.lines;\r\n        delete this.fill;\r\n        delete this.points;\r\n\r\n        this.downObject = false;\r\n        this.mode = '';\r\n        this.lineType = this.options.type.indexOf('Polyline') !== -1;\r\n\t\tif (this.options.type === 'Rectangle') {\r\n\t\t\tthis.options.disableAddPoints = true;\r\n\t\t}\r\n\r\n        var pointStyle = this.options.pointStyle;\r\n        var lineStyle = {opacity:1, weight:2, noClip: true, clickable: false, className: 'leaflet-drawing-lines'};\r\n        if (!this.lineType) {\r\n            lineStyle.fill = 'fill' in this.options ? this.options.fill : true;\r\n        }\r\n        if (this.options.lineStyle) {\r\n            for (var key in this.options.lineStyle) {\r\n                if (key !== 'fill' || !this.lineType) {\r\n                    lineStyle[key] = this.options.lineStyle[key];\r\n                }\r\n            }\r\n        }\r\n        if (this.options.hole) {\r\n            lineStyle = L.extend({}, lineStyle, Utils.defaultStyles.holeStyle);\r\n            pointStyle = L.extend({}, pointStyle, Utils.defaultStyles.holeStyle);\r\n        }\r\n\r\n        var latlngs = coords,\r\n            _this = this,\r\n            mode = this.options.mode || (latlngs.length ? 'edit' : 'add');\r\n\r\n        this.fill = new L.Polyline(latlngs, {\r\n            className: 'leaflet-drawing-lines-fill',\r\n            opacity: 0,\r\n\t\t\tsmoothFactor: 0,\r\n\t\t\tnoClip: true,\r\n            fill: false,\r\n            size: 10,\r\n            weight: 10\r\n        });\r\n        this.fill.on('click', e => {\r\n            this._parent.fire('click', e);\r\n        });\r\n        this.addLayer(this.fill);\r\n\r\n        this.lines = new L.Polyline(latlngs, lineStyle);\r\n        this.addLayer(this.lines);\r\n        if (!this.lineType && mode === 'edit') {\r\n\t\t\tvar latlng = latlngs[0][0] || latlngs[0];\r\n            this.lines.addLatLng(latlng);\r\n            this.fill.addLatLng(latlng);\r\n        }\r\n        this.mode = mode;\r\n\r\n        this.points = new L.GmxDrawing.PointMarkers(latlngs, pointStyle);\r\n        this.points._parent = this;\r\n\r\n        this.addLayer(this.points);\r\n\r\n        this.points\r\n            .on('mouseover', function (ev) {\r\n\t\t\t\tthis.toggleTooltip(ev, true, _this.lineType ? 'Length' : 'Area');\r\n                if (ev.type === 'mouseover') {\r\n                    _this._recheckContextItems('points', _this._map);\r\n                }\r\n            }, this)\r\n            .on('mouseout', this.toggleTooltip, this);\r\n        this.fill\r\n            .on('mouseover mousemove', function (ev) {\r\n\t\t\t\tthis.toggleTooltip(ev, true);\r\n            }, this)\r\n            .on('mouseout', this.toggleTooltip, this);\r\n\r\n\t\tif (this.points.bindContextMenu) {\r\n\t\t\tthis.points.bindContextMenu({\r\n\t\t\t\tcontextmenu: false,\r\n\t\t\t\tcontextmenuInheritItems: false,\r\n\t\t\t\tcontextmenuItems: []\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (this.fill.bindContextMenu) {\r\n\t\t\tthis.fill.bindContextMenu({\r\n\t\t\t\tcontextmenu: false,\r\n\t\t\t\tcontextmenuInheritItems: false,\r\n\t\t\t\tcontextmenuItems: []\r\n\t\t\t});\r\n\t\t\tthis.fill.on('mouseover', function (ev) {\r\n\t\t\t\tif (ev.type === 'mouseover') {\r\n\t\t\t\t\tthis._recheckContextItems('fill', this._map);\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\t\t}\r\n        this._parent.on('rotate', function (ev) {\r\n\t\t\tthis.toggleTooltip(ev, true, 'angle');\r\n\t\t}, this);\r\n\t\tL.DomEvent.on(document, 'keydown keyup', this._toggleBboxClass, this);\r\n\t},\r\n\r\n    bringToFront: function () {\r\n\t\tif (this.lines) { this.lines.bringToFront(); }\r\n\t\tif (this.fill) { this.fill.bringToFront(); }\r\n\t\tif (this.points) { this.points.bringToFront(); }\r\n\r\n\t\treturn this;\r\n    },\r\n\r\n    bringToBack: function () {\r\n\t\tif (this.lines) { this.lines.bringToBack(); }\r\n\t\tif (this.fill) { this.fill.bringToBack(); }\r\n\t\tif (this.points) { this.points.bringToBack(); }\r\n\r\n\t\treturn this;\r\n    },\r\n\r\n    _toggleBboxClass: function (ev) {\r\n\t\tif (ev.type === 'keydown' && this.mode === 'add') {\r\n\t\t\tvar key = ev.key,\r\n\t\t\t\tpoints = this._getLatLngsArr();\r\n\r\n\t\t\tif (key === 'Backspace') {\r\n\t\t\t\tthis._legLength = [];\r\n\t\t\t\tpoints.splice(points.length - 1, 1);\r\n                this._setPoint(points[0], 0);\r\n\t\t\t}\r\n            if (key === 'Escape' || (key === 'Backspace' && points.length < 2)) {\r\n                this._parent.remove(this);\r\n\t\t\t\tthis._parent._parent._clearCreate();\r\n\t\t\t\tthis._fireEvent('drawstop');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.bbox) {\r\n\t\t\tvar flagRotate = this._needRotate;\r\n\t\t\tif (!ev.altKey) { flagRotate = !flagRotate; }\r\n\t\t\tif (ev.type === 'keyup' && !ev.altKey) { flagRotate = !this._needRotate; }\r\n\t\t\tL.DomUtil[flagRotate ? 'removeClass' : 'addClass'](this.bbox._path, 'Rotate');\r\n\t\t}\r\n\t},\r\n\r\n    toggleTooltip: function (ev, flag, type) {\r\n\t\tif ('hideTooltip' in this._parent) {\r\n\t\t\tev.ring = this;\r\n\t\t\tif (flag) {\r\n\t\t\t\ttype = type || 'Length';\r\n\t\t\t\tthis._parent._showTooltip(type, ev);\r\n\t\t\t} else if (this.mode !== 'add') {\r\n\t\t\t\tthis._parent.hideTooltip(ev);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n    _recheckContextItems: function (type, map) {\r\n        var _this = this;\r\n\t\tthis[type].options.contextmenuItems = (map.gmxDrawing.contextmenu.getItems()[type] || [])\r\n\t\t\t.concat(this._parent.contextmenu.getItems()[type] || [])\r\n\t\t\t.concat(this.contextmenu.getItems()[type] || [])\r\n\t\t\t.map(function(obj) {\r\n\t\t\t\tvar ph = {\r\n\t\t\t\t\tid: obj.text,\r\n\t\t\t\t\ttext: Utils.getLocale(obj.text),\r\n\t\t\t\t\ticon: obj.icon,\r\n\t\t\t\t\tretinaIcon: obj.retinaIcon,\r\n\t\t\t\t\ticonCls: obj.iconCls,\r\n\t\t\t\t\tretinaIconCls: obj.retinaIconCls,\r\n\t\t\t\t\tcallback: function (ev) {\r\n\t\t\t\t\t\t_this._eventsCmd(obj, ev);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcontext: obj.context || _this,\r\n\t\t\t\t\tdisabled: 'disabled' in obj ? obj.disabled : false,\r\n\t\t\t\t\tseparator: obj.separator,\r\n\t\t\t\t\thideOnSelect: 'hideOnSelect' in obj ? obj.hideOnSelect : true\r\n\t\t\t\t};\r\n\t\t\t\treturn ph;\r\n\t\t\t});\r\n\t\treturn this[type].options.contextmenuItems;\r\n    },\r\n\r\n    _eventsCmd: function (obj, ev) {\r\n\t\tvar ring = ev.relatedTarget && ev.relatedTarget._parent || this;\r\n\t\tvar downAttr = Utils.getDownType.call(this, ev, this._map, this._parent);\r\n\t\tif (downAttr) {\r\n\t\t\tvar type = obj.text;\r\n\t\t\tif (obj.callback) {\r\n\t\t\t\tobj.callback(downAttr, this._parent);\r\n\t\t\t} else if (type === 'Delete feature') {\r\n                this._parent.remove(this);\r\n\t\t\t\t// this._parent._parent._clearCreate();\r\n\t\t\t\tthis._fireEvent('drawstop');\r\n\t\t\t} else if (type === 'Remove point') {\r\n\t\t\t\tring._removePoint(downAttr.num);\r\n\t\t\t\tthis._fireEvent('editstop', ev);\r\n\t\t\t} else if (type === 'Save' || type === 'Move' || type === 'Rotate' || type === 'Rotate around Point') {\r\n                this._toggleRotate(type, downAttr);\r\n\t\t\t} else if (type === 'Cancel' && this._editHistory.length) {\r\n\t\t\t\tif (this._editHistory.length) {\r\n\t\t\t\t\tthis.setLatLngs(this._editHistory[0]);\r\n\t\t\t\t\tthis._editHistory = [];\r\n\t\t\t\t}\r\n                this._toggleRotate('Save', downAttr);\r\n\t\t\t}\r\n        }\r\n    },\r\n\r\n    getFeature: function () {\r\n\t\treturn this._parent;\r\n    },\r\n\r\n    onAdd: function (map) {\r\n        L.LayerGroup.prototype.onAdd.call(this, map);\r\n        this.setEditMode();\r\n\t\tif (this.points.bindContextMenu) {\r\n\t\t\tvar contextmenuItems = this._recheckContextItems('points', map);\r\n\t\t\tthis.points.bindContextMenu({\r\n\t\t\t\tcontextmenu: true,\r\n\t\t\t\tcontextmenuInheritItems: false,\r\n\t\t\t\tcontextmenuItems: contextmenuItems\r\n\t\t\t});\r\n\t\t}\r\n\r\n    },\r\n\r\n    onRemove: function (map) {\r\n        if (this.points) {\r\n            this._pointUp();\r\n            this.removeAddMode();\r\n            this.removeEditMode();\r\n\r\n            if ('hideTooltip' in this._parent) { this._parent.hideTooltip(); }\r\n        }\r\n        L.LayerGroup.prototype.onRemove.call(this, map);\r\n        if (this.options.type === 'Point') {\r\n            map.removeLayer(this._obj);\r\n        }\r\n        this._fireEvent('removefrommap');\r\n    },\r\n\r\n    getAngleLength: function (downAttr) {\r\n        if (L.GeometryUtil && downAttr && downAttr.num) {\r\n            var num = downAttr.num,\r\n\t\t\t\tlatlngs = this.points._latlngs[0],\r\n                prev = latlngs[num - 1],\r\n                curr = latlngs[num] || downAttr.latlng,\r\n\t\t\t\t_parts = this.points._parts[0],\r\n\t\t\t\tangle = L.GeometryUtil.computeAngle(_parts[num - 1], _parts[num] || downAttr.layerPoint);\r\n\t\t\tangle += 90;\r\n\t\t\tangle %= 360;\r\n\t\t\tangle += angle < 0 ? 360 : 0;\r\n\t\t\treturn {\r\n\t\t\t\tlength: L.gmxUtil.distVincenty(prev.lng, prev.lat, curr.lng, curr.lat),\r\n\t\t\t\tangle: L.gmxUtil.formatDegrees(angle, 0)\r\n\t\t\t};\r\n\t\t}\r\n        return null;\r\n    },\r\n\r\n    getLength: function (downAttr) {\r\n        var length = 0,\r\n            latlngs = this._getLatLngsArr(),\r\n            len = latlngs.length;\r\n\r\n        if (len) {\r\n            var beg = 1,\r\n                prev = latlngs[0];\r\n            if (downAttr) {\r\n                if (downAttr.type === 'node') {\r\n                    len = downAttr.num + 1;\r\n                } else {\r\n                    beg = downAttr.num;\r\n                    if (beg === len) {\r\n                        prev = latlngs[beg - 1];\r\n                        beg = 0;\r\n                    } else {\r\n                        prev = latlngs[beg - 1];\r\n                    }\r\n                    len = beg + 1;\r\n                }\r\n            }\r\n            for (var i = beg; i < len; i++) {\r\n                var leg = this._legLength[i] || null;\r\n                if (leg === null) {\r\n                    leg = L.gmxUtil.distVincenty(prev.lng, prev.lat, latlngs[i].lng, latlngs[i].lat);\r\n                    this._legLength[i] = leg;\r\n                }\r\n                prev = latlngs[i];\r\n                length += leg;\r\n            }\r\n        }\r\n        return length;\r\n    },\r\n\r\n    _setPoint: function (latlng, nm, type) {\r\n        if (!this.points) { return; }\r\n        var latlngs = this._getLatLngsArr();\r\n        if (this.options.type === 'Rectangle') {\r\n\t\t\tif (type === 'edge') {\r\n                nm--;\r\n                if (nm === 0) { latlngs[0].lng = latlngs[1].lng = latlng.lng; }\r\n                else if (nm === 1) { latlngs[1].lat = latlngs[2].lat = latlng.lat; }\r\n                else if (nm === 2) { latlngs[2].lng = latlngs[3].lng = latlng.lng; }\r\n                else if (nm === 3) { latlngs[0].lat = latlngs[3].lat = latlng.lat; }\r\n            } else {\r\n                latlngs[nm] = latlng;\r\n                if (nm === 0) { latlngs[3].lat = latlng.lat; latlngs[1].lng = latlng.lng; }\r\n                else if (nm === 1) { latlngs[2].lat = latlng.lat; latlngs[0].lng = latlng.lng; }\r\n                else if (nm === 2) { latlngs[1].lat = latlng.lat; latlngs[3].lng = latlng.lng; }\r\n                else if (nm === 3) { latlngs[0].lat = latlng.lat; latlngs[2].lng = latlng.lng; }\r\n            }\r\n            this._legLength = [];\r\n        } else {\r\n            latlngs[nm] = latlng;\r\n            this._legLength[nm] = null;\r\n            this._legLength[nm + 1] = null;\r\n        }\r\n        this.setLatLngs(latlngs);\r\n    },\r\n\r\n    addLatLng: function (point, delta) {\r\n        this._legLength = [];\r\n        if (this.points) {\r\n            var points = this._getLatLngsArr(),\r\n                maxPoints = this.options.maxPoints,\r\n                len = points.length,\r\n                lastPoint = points[len - 2],\r\n\t\t\t\tflag = !lastPoint || !lastPoint.equals(point);\r\n\r\n            if (maxPoints && len >= maxPoints) {\r\n\t\t\t\tthis.setEditMode();\r\n\t\t\t\tthis._fireEvent('drawstop', {latlng: point});\r\n\t\t\t\tlen--;\r\n\t\t\t}\r\n            if (flag) {\r\n                if (delta) { len -= delta; }    // reset existing point\r\n                this._setPoint(point, len, 'node');\r\n            }\r\n\t\t\tthis._parent.lastAddLatLng = point;\r\n        } else if ('addLatLng' in this._obj) {\r\n            this._obj.addLatLng(point);\r\n        }\r\n    },\r\n\r\n    setPositionOffset: function (p) {\r\n        L.DomUtil.setPosition(this.points._container, p);\r\n        L.DomUtil.setPosition(this.fill._container, p);\r\n        L.DomUtil.setPosition(this.lines._container, p);\r\n    },\r\n\r\n    setLatLngs: function (latlngs) {\t// TODO: latlngs не учитывает дырки полигонов\r\n\t\tif (this.points) {\r\n            var points = this.points;\r\n            this.fill.setLatLngs(latlngs);\r\n            this.lines.setLatLngs(latlngs);\r\n            if (!this.lineType && this.mode === 'edit' && latlngs.length > 2) {\r\n                this.lines.addLatLng(latlngs[0]);\r\n                this.fill.addLatLng(latlngs[0]);\r\n            }\r\n            if (this.bbox) {\r\n\t\t\t\tthis.bbox.setBounds(this.lines._bounds);\r\n            }\r\n\r\n            points.setLatLngs(latlngs);\r\n        } else if ('setLatLngs' in this._obj) {\r\n            this._obj.setLatLngs(latlngs);\r\n        }\r\n        this._fireEvent('edit');\r\n    },\r\n\r\n    _getLatLngsArr: function () {\r\n\t\treturn Utils.isOldVersion ? this.points._latlngs : this.points._latlngs[0];\r\n    },\r\n\r\n    // edit mode\r\n    _pointDown: function (ev) {\r\n        if (!this._map) {\r\n            return;\r\n        }\r\n        if (L.Browser.ie || (L.gmxUtil && L.gmxUtil.gtIE11)) {\r\n            this._map.dragging._draggable._onUp(ev); // error in IE\r\n        }\r\n        if (ev.originalEvent) {\r\n            var originalEvent = ev.originalEvent;\r\n            if (originalEvent.altKey) {\t// altKey, shiftKey\r\n                this._onDragStart(ev);\r\n                return;\r\n            } else if (originalEvent.which !== 1 && originalEvent.button !== 1) {\r\n                return;\r\n            }\r\n        }\r\n        var downAttr = Utils.getDownType.call(this, ev, this._map, this._parent),\r\n            type = downAttr.type,\r\n            opt = this.options;\r\n\r\n        this._lastDownTime = Date.now() + 100;\r\n        this.down = downAttr;\r\n        if (type === 'edge' && opt.type !== 'Rectangle') {\r\n            if (opt.disableAddPoints) { return; }\r\n            this._legLength = [];\r\n            var num = downAttr.num,\r\n                points = this._getLatLngsArr();\r\n            points.splice(num, 0, points[num]);\r\n            this._setPoint(ev.latlng, num, type);\r\n        }\r\n        this.downObject = true;\r\n        this._parent._disableDrag();\r\n        this._map\r\n            .on('mousemove', this._pointMove, this)\r\n            .on('mouseup', this._mouseupPoint, this);\r\n    },\r\n\r\n    _mouseupPoint: function (ev) {\r\n\t\tthis._pointUp(ev);\r\n        if (this.__mouseupPointTimer) { cancelIdleCallback(this.__mouseupPointTimer); }\r\n\t\tthis.__mouseupPointTimer = requestIdleCallback(function() {\r\n\t\t\tthis._fireEvent('editstop', ev);\r\n\t\t}.bind(this), {timeout: 250});\r\n    },\r\n\r\n    _pointMove: function (ev) {\r\n        if (this.down && this._lastDownTime < Date.now()) {\r\n            if (!this.lineType) {\r\n                this._parent.showFill();\r\n            }\r\n            this._clearLineAddPoint();\r\n            this._moved = true;\r\n\r\n\t\t\tvar latlng = ev.originalEvent.ctrlKey ? Utils.snapPoint(ev.latlng, this, this._map) : ev.latlng;\r\n            this._setPoint(latlng, this.down.num, this.down.type);\r\n\t\t\tif ('_showTooltip' in this._parent) {\r\n\t\t\t\tev.ring = this;\r\n\t\t\t\tthis._parent._showTooltip(this.lineType ? 'Length' : 'Area', ev);\r\n\t\t\t}\r\n        }\r\n    },\r\n\r\n    _pointUp: function (ev) {\r\n        this.downObject = false;\r\n        this._parent._enableDrag();\r\n        if (!this.points) { return; }\r\n        if (this._map) {\r\n            this._map\r\n                .off('mousemove', this._pointMove, this)\r\n                .off('mouseup', this._mouseupPoint, this);\r\n\r\n            var target = ev && ev.originalEvent ? ev.originalEvent.target : null;\r\n            if (target && target._leaflet_pos && /leaflet-marker-icon/.test(target.className)) {\r\n                var latlng = Utils.getMarkerByPos(target._leaflet_pos, this._map.gmxDrawing.getFeatures());\r\n                this._setPoint(latlng, this.down.num, this.down.type);\r\n            }\r\n            this._map._skipClick = true;    // for EventsManager\r\n        }\r\n        if (this._drawstop) {\r\n            this._fireEvent('drawstop', ev);\r\n        }\r\n        this._drawstop = false;\r\n        this.down = null;\r\n        var lineStyle = this.options.lineStyle || {};\r\n        if (!lineStyle.fill && !this.lineType) {\r\n            this._parent.hideFill();\r\n        }\r\n    },\r\n    _lastPointClickTime: 0,  // Hack for emulate dblclick on Point\r\n\r\n    _removePoint: function (num) {\r\n        var points = this._getLatLngsArr();\r\n        if (points.length > num) {\r\n            this._legLength = [];\r\n            points.splice(num, 1);\r\n            if (this.options.type === 'Rectangle'\r\n                || points.length < 2\r\n                || (points.length < 3 && !this.lineType)\r\n                ) {\r\n                this._parent.remove(this);\r\n            } else {\r\n                this._setPoint(points[0], 0);\r\n            }\r\n        }\r\n\t},\r\n\r\n    _clearLineAddPoint: function () {\r\n        if (this._lineAddPointID) { clearTimeout(this._lineAddPointID); }\r\n        this._lineAddPointID = null;\r\n    },\r\n\r\n    _pointDblClick: function (ev) {\r\n        this._clearLineAddPoint();\r\n        if (!this.options.disableAddPoints && (!this._lastAddTime || Date.now() > this._lastAddTime)) {\r\n            var downAttr = Utils.getDownType.call(this, ev, this._map, this._parent);\r\n            this._removePoint(downAttr.num);\r\n        }\r\n    },\r\n\r\n    _pointClick: function (ev) {\r\n        if (ev.originalEvent && ev.originalEvent.ctrlKey) { return; }\r\n        var clickTime = Date.now(),\r\n            prevClickTime = this._lastPointClickTime;\r\n\r\n        this._lastPointClickTime = clickTime + 300;\r\n        if (this._moved || clickTime < prevClickTime) { this._moved = false; return; }\r\n\r\n        var downAttr = Utils.getDownType.call(this, ev, this._map, this._parent),\r\n            mode = this.mode;\r\n        if (downAttr.type === 'node') {\r\n            var num = downAttr.num;\r\n            if (downAttr.end) {  // this is click on first or last Point\r\n                if (mode === 'add') {\r\n                    this._pointUp();\r\n                    this.setEditMode();\r\n                    if (this.lineType && num === 0) {\r\n                        this._parent.options.type = this.options.type = 'Polygon';\r\n                        this.lineType = false;\r\n                        this._removePoint(this._getLatLngsArr().length - 1);\r\n                    }\r\n                    this._fireEvent('drawstop', downAttr);\r\n                    this._removePoint(num);\r\n                } else if (this.lineType) {\r\n\t\t\t\t\tthis._clearLineAddPoint();\r\n                    this._lineAddPointID = setTimeout(function () {\r\n\t\t\t\t\t\tif (num === 0) { this._getLatLngsArr().reverse(); }\r\n\t\t\t\t\t\tthis.points.addLatLng(downAttr.latlng);\r\n\t\t\t\t\t\tthis.setAddMode();\r\n\t\t\t\t\t\tthis._fireEvent('drawstop', downAttr);\r\n\t\t\t\t\t}.bind(this), 250);\r\n                }\r\n            } else if (mode === 'add') { // this is add pont\r\n                this.addLatLng(ev.latlng);\r\n            }\r\n        }\r\n    },\r\n\r\n    _editHistory: [],\r\n    // _dragType: 'Save',\r\n    _needRotate: false,\r\n    _toggleRotate: function (type, downAttr) {\r\n\t\tthis._needRotate = type === 'Rotate' || type === 'Rotate around Point';\r\n\t\tthis._editHistory = [];\r\n\r\n\t\tif (this.bbox) {\r\n\t\t\tthis.bbox\r\n\t\t\t\t.off('contextmenu', this._onContextmenu, this)\r\n\t\t\t\t.off('mousedown', this._onRotateStart, this);\r\n\t\t\tthis.removeLayer(this.bbox);\r\n\t\t\tthis.bbox = null;\r\n\t\t} else {\r\n\t\t\tL.DomUtil.TRANSFORM_ORIGIN = L.DomUtil.TRANSFORM_ORIGIN || L.DomUtil.testProp(\r\n\t\t\t\t['transformOrigin', 'WebkitTransformOrigin', 'OTransformOrigin', 'MozTransformOrigin', 'msTransformOrigin']);\r\n\r\n\t\t\tthis.bbox = L.rectangle(this.lines.getBounds(), {\r\n\t\t\t\tcolor: this.lines.options.color, //||'rgb(51, 136, 255)',\r\n\t\t\t\topacity: this.lines.options.opacity,\r\n\t\t\t\tclassName: 'leaflet-drawing-bbox ' + type,\r\n\t\t\t\tdashArray: '6, 3',\r\n\t\t\t\tsmoothFactor: 0,\r\n\t\t\t\tnoClip: true,\r\n\t\t\t\tfillOpacity: 0,\r\n\t\t\t\tfill: true,\r\n\t\t\t\tweight: 1\r\n\t\t\t});\r\n\t\t\tthis.addLayer(this.bbox);\r\n\t\t\tthis.bbox\r\n\t\t\t\t.on('contextmenu', this._onContextmenu, this)\r\n\t\t\t\t.on('mousedown', this._onRotateStart, this);\r\n\r\n\t\t\tif (this.bbox.bindContextMenu) {\r\n\t\t\t\tthis.bbox.bindContextMenu({\r\n\t\t\t\t\tcontextmenu: false,\r\n\t\t\t\t\tcontextmenuInheritItems: false,\r\n\t\t\t\t\tcontextmenuItems: []\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n            this._recheckContextItems('bbox', this._map);\r\n\t\t\tthis._rotateCenterPoint = type === 'Rotate' ? this.bbox.getCenter() : downAttr.latlng;\r\n\r\n\t\t}\r\n    },\r\n\r\n    _onContextmenu: function () {\r\n\t\tthis.bbox.options.contextmenuItems[1].disabled = this._editHistory.length < 1;\r\n    },\r\n\r\n    _isContextMenuEvent: function (ev) {\r\n\t\tvar e = ev.originalEvent;\r\n\t\treturn e.which !== 1 && e.button !== 1 && !e.touches;\r\n    },\r\n\r\n    _onRotateStart: function (ev) {\r\n\t\tif (this._isContextMenuEvent(ev)) { return; }\r\n\t\tthis._editHistory.push(this._getLatLngsArr().map(function(it) { return it.clone(); }));\r\n\t\tvar flagRotate = this._needRotate;\r\n\t\tif (ev.originalEvent.altKey) {\r\n\t\t\tflagRotate = !flagRotate;\r\n\t\t}\r\n\t\tif (this._map.contextmenu) { this._map.contextmenu.hide(); }\r\n\t\tif (flagRotate) {\r\n\t\t\tthis._rotateStartPoint = ev.latlng;\r\n\t\t\tthis._rotateCenter = this._rotateCenterPoint;\r\n\r\n\t\t\tthis._map\r\n\t\t\t\t.on('mouseup', this._onRotateEnd, this)\r\n\t\t\t\t.on('mousemove', this._onRotate, this);\r\n\t\t\tthis._parent._disableDrag();\r\n\t\t\tthis._fireEvent('rotatestart', ev);\r\n\t\t} else {\r\n\t\t\tthis._onDragStart(ev);\r\n\t\t}\r\n    },\r\n\r\n    _onRotateEnd: function (ev) {\t// TODO: не учитывает дырки полигонов\r\n        this._map\r\n            .off('mouseup', this._onRotateEnd, this)\r\n            .off('mousemove', this._onRotate, this);\r\n\r\n\t\tthis.toggleTooltip(ev);\r\n\r\n\t\tif (this._center) {\r\n\t\t\tvar center = this._center,\r\n\t\t\t\tshiftPoint = this._map.getPixelOrigin().add(center),\r\n\t\t\t\tcos = Math.cos(-this._angle),\r\n\t\t\t\tsin = Math.sin(-this._angle),\r\n\t\t\t\tmap = this._map,\r\n\t\t\t\t_latlngs = this.points._parts[0].map(function (p) {\r\n\t\t\t\t\tvar ps = p.subtract(center);\r\n\t\t\t\t\treturn map.unproject(L.point(\r\n\t\t\t\t\t\tps.x * cos + ps.y * sin,\r\n\t\t\t\t\t\tps.y * cos - ps.x * sin\r\n\t\t\t\t\t).add(shiftPoint));\r\n\t\t\t\t});\r\n\t\t\tthis.setLatLngs(_latlngs);\r\n\r\n\t\t\tthis._rotateItem();\r\n\t\t\tthis.bbox.setBounds(this.lines._bounds);\r\n\t\t\t// console.log('_onRotateEnd', this.mode, this.points._latlngs, _latlngs);\r\n\t\t}\r\n\t\tthis._parent._enableDrag();\r\n        this._fireEvent('rotateend', ev);\r\n    },\r\n\r\n    _onRotate: function (ev) {\r\n        var pos = ev.latlng,\t\t\t// текущая точка\r\n\t\t\ts = this._rotateStartPoint,\t// точка начала вращения\r\n\t\t\tc = this._rotateCenter;\t\t// центр объекта\r\n\r\n\t\tthis._rotateItem(\r\n\t\t\tMath.atan2(s.lat - c.lat, s.lng - c.lng) - Math.atan2(pos.lat - c.lat, pos.lng - c.lng),\r\n\t\t\tthis._map.project(c).subtract(this._map.getPixelOrigin())\r\n\t\t);\r\n\t\tthis._fireEvent('rotate', ev);\r\n    },\r\n\r\n    _rotateItem: function (angle, center) {\r\n        var originStr = '',\r\n\t\t\trotate = '';\r\n\r\n\t\tif (center) {\r\n\t\t\toriginStr = center.x + 'px ' + center.y + 'px';\r\n\t\t\trotate = 'rotate(' + angle + 'rad)';\r\n\t\t}\r\n\r\n\t\tthis._angle = angle;\r\n\t\tthis._center = center;\r\n\r\n        [this.bbox, this.lines, this.fill, this.points].forEach(function(it) {\r\n\t\t\tit._path.style[L.DomUtil.TRANSFORM_ORIGIN] = originStr;\r\n\t\t\tit._path.style.transform = rotate;\r\n\t\t});\r\n   },\r\n\r\n    _onDragEnd: function () {\r\n        this._map\r\n            .off('mouseup', this._onDragEnd, this)\r\n            .off('mousemove', this._onDrag, this);\r\n\r\n\t\tthis._parent._enableDrag();\r\n        this._fireEvent('dragend');\r\n    },\r\n\r\n    _onDragStart: function (ev) {\r\n        this._dragstartPoint = ev.latlng;\r\n        this._map\r\n            .on('mouseup', this._onDragEnd, this)\r\n            .on('mousemove', this._onDrag, this);\r\n\t\tthis._parent._disableDrag();\r\n        this._fireEvent('dragstart');\r\n    },\r\n\r\n    _onDrag: function (ev) {\r\n        var lat = this._dragstartPoint.lat - ev.latlng.lat,\r\n            lng = this._dragstartPoint.lng - ev.latlng.lng,\r\n            points = this._getLatLngsArr();\r\n\r\n        points.forEach(function (item) {\r\n            item.lat -= lat;\r\n            item.lng -= lng;\r\n        });\r\n        this._dragstartPoint = ev.latlng;\r\n\r\n        this._legLength = [];\r\n        this.setLatLngs(points);\r\n        this._fireEvent('drag');\r\n    },\r\n\r\n    _fireEvent: function (name, options) {\r\n        this._parent._fireEvent(name, options);\r\n    },\r\n\r\n    _startTouchMove: function (ev, drawstop) {\r\n        var downAttr = Utils.getDownType.call(this, ev, this._map, this._parent);\r\n        if (downAttr.type === 'node') {\r\n            this._parent._disableDrag();\r\n            this.down = downAttr;\r\n            //var num = downAttr.num;\r\n            var my = this;\r\n            var _touchmove = function (ev) {\r\n                downAttr = Utils.getDownType.call(my, ev, my._map, this._parent);\r\n                    if (ev.touches.length === 1) { // Only deal with one finger\r\n                        my._pointMove(downAttr);\r\n                  }\r\n            };\r\n            var _touchend = function () {\r\n                L.DomEvent\r\n                    .off(my._map._container, 'touchmove', _touchmove, my)\r\n                    .off(my._map._container, 'touchend', _touchend, my);\r\n                my._parent._enableDrag();\r\n                if (drawstop) {\r\n                    my._parent.fire('drawstop', {mode: my.options.type, object: my});\r\n                }\r\n            };\r\n            L.DomEvent\r\n                .on(my._map._container, 'touchmove', _touchmove, my)\r\n                .on(my._map._container, 'touchend', _touchend, my);\r\n        }\r\n    },\r\n\r\n    _editHandlers: function (flag) {\r\n        //if (!this.points) { return; }\r\n        var stop = L.DomEvent.stopPropagation,\r\n\t\t\tprevent = L.DomEvent.preventDefault;\r\n        if (this.touchstart) {\r\n            L.DomEvent.off(this.points._container, 'touchstart', this.touchstart, this);\r\n        }\r\n        if (this.touchstartFill) {\r\n            L.DomEvent.off(this.fill._container, 'touchstart', this.touchstartFill, this);\r\n        }\r\n        this.touchstart = null;\r\n        this.touchstartFill = null;\r\n        if (flag) {\r\n            this.points\r\n                .on('dblclick click', stop, this)\r\n                .on('dblclick click', prevent, this)\r\n                .on('dblclick', this._pointDblClick, this)\r\n                .on('click', this._pointClick, this);\r\n            if (L.Browser.mobile) {\r\n                if (this._EditOpacity) {\r\n                    this._parent._setPointsStyle({fillOpacity: this._EditOpacity});\r\n                }\r\n                var my = this;\r\n                this.touchstart = function (ev) {\r\n                    my._startTouchMove(ev);\r\n                };\r\n                L.DomEvent.on(this.points._container, 'touchstart', this.touchstart, this);\r\n                this.touchstartFill = function (ev) {\r\n                    var downAttr = Utils.getDownType.call(my, ev, my._map, this._parent);\r\n                    if (downAttr.type === 'edge' && my.options.type !== 'Rectangle') {\r\n                        var points = my.points._latlngs;\r\n                        points.splice(downAttr.num, 0, points[downAttr.num]);\r\n                        my._legLength = [];\r\n                        my._setPoint(downAttr.latlng, downAttr.num, downAttr.type);\r\n                    }\r\n                };\r\n                L.DomEvent.on(this.fill._container, 'touchstart', this.touchstartFill, this);\r\n            } else {\r\n                this.points\r\n                    .on('mousemove', stop)\r\n                    .on('mousedown', this._pointDown, this);\r\n                this.lines\r\n                    .on('mousedown', this._pointDown, this);\r\n                this.fill\r\n                    .on('dblclick click', stop, this)\r\n                    .on('mousedown', this._pointDown, this);\r\n                this._fireEvent('editmode');\r\n            }\r\n        } else {\r\n            this._pointUp();\r\n            this.points\r\n                .off('dblclick click', stop, this)\r\n                .off('dblclick click', prevent, this)\r\n                .off('dblclick', this._pointDblClick, this)\r\n                .off('click', this._pointClick, this);\r\n            if (!L.Browser.mobile) {\r\n                this.points\r\n                    .off('mousemove', stop)\r\n                    .off('mousedown', this._pointDown, this);\r\n                this.lines\r\n                    .off('mousedown', this._pointDown, this);\r\n                this.fill\r\n                    .off('dblclick click', stop, this)\r\n                    .off('mousedown', this._pointDown, this);\r\n            }\r\n        }\r\n    },\r\n\r\n    _createHandlers: function (flag) {\r\n        if (!this.points || !this._map) { return; }\r\n        var stop = L.DomEvent.stopPropagation;\r\n        if (flag) {\r\n\t\t\tif (this._map.contextmenu) {\r\n\t\t\t\tthis._map.contextmenu.disable();\r\n\t\t\t}\r\n\r\n            this._parent._enableDrag();\r\n            this._map\r\n                .on('dblclick', stop)\r\n                .on('mousedown', this._mouseDown, this)\r\n                .on('mouseup', this._mouseUp, this)\r\n                .on('mousemove', this._moseMove, this);\r\n            this.points\r\n                .on('click', this._pointClick, this);\r\n            this._fireEvent('addmode');\r\n            if (!this.lineType) { this.lines.setStyle({fill: true}); }\r\n        } else {\r\n            if (this._map) {\r\n                this._map\r\n                    .off('dblclick', stop)\r\n                    .off('mouseup', this._mouseUp, this)\r\n                    .off('mousemove', this._moseMove, this);\r\n                this.points\r\n                    .off('click', this._pointClick, this);\r\n            }\r\n            var lineStyle = this.options.lineStyle || {};\r\n            if (!this.lineType && !lineStyle.fill) {\r\n                this.lines.setStyle({fill: false});\r\n            }\r\n        }\r\n    },\r\n\r\n    setEditMode: function () {\r\n        if (this.options.editable) {\r\n            this._editHandlers(false);\r\n            this._createHandlers(false);\r\n            this._editHandlers(true);\r\n            this.mode = 'edit';\r\n        }\r\n        return this;\r\n    },\r\n\r\n    setAddMode: function () {\r\n        if (this.options.editable) {\r\n            this._editHandlers(false);\r\n            this._createHandlers(false);\r\n            this._createHandlers(true);\r\n            this.mode = 'add';\r\n        }\r\n        return this;\r\n    },\r\n\r\n    removeAddMode: function () {\r\n        this._createHandlers(false);\r\n        this.mode = '';\r\n    },\r\n\r\n    removeEditMode: function () {\r\n        this._editHandlers(false);\r\n        this.mode = '';\r\n    },\r\n\r\n    // add mode\r\n    _moseMove: function (ev) {\r\n        if (this.points) {\r\n            var points = this._getLatLngsArr(),\r\n\t\t\t\tlatlng = ev.latlng;\r\n            if (ev.originalEvent.ctrlKey) { latlng = Utils.snapPoint(latlng, this, this._map); }\r\n            if (points.length === 1) { this._setPoint(latlng, 1); }\r\n\r\n            this._setPoint(latlng, points.length - 1);\r\n\t\t\tthis.toggleTooltip(ev, true, this.lineType ? 'Length' : 'Area');\r\n        }\r\n    },\r\n\r\n    _mouseDown: function () {\r\n        this._lastMouseDownTime = Date.now() + 200;\r\n\t\tif (this._map && this._map.contextmenu) { this._map.contextmenu.hide(); }\r\n\t\tif ('hideTooltip' in this._parent) { this._parent.hideTooltip(); }\r\n    },\r\n\r\n    _mouseUp: function (ev) {\r\n        var timeStamp = Date.now();\r\n        if (ev.delta || timeStamp < this._lastMouseDownTime) {\r\n            this._lastAddTime = timeStamp + 1000;\r\n\r\n\t\t\tvar _latlngs = this._getLatLngsArr();\r\n\t\t\tif (ev.originalEvent && ev.originalEvent.which === 3\r\n\t\t\t\t&& this.points && _latlngs && _latlngs.length) {\t// for click right button\r\n\r\n\t\t\t\tthis.setEditMode();\r\n\t\t\t\tthis._removePoint(_latlngs.length - 1);\r\n\t\t\t\tthis._pointUp();\r\n\t\t\t\tthis._fireEvent('drawstop');\r\n\t\t\t\tif (this._map && this._map.contextmenu) {\r\n\t\t\t\t\trequestIdleCallback(this._map.contextmenu.enable.bind(this._map.contextmenu), {timeout: 250});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar latlng = ev._latlng || ev.latlng;\r\n\t\t\t\tif (ev.delta) { this.addLatLng(latlng, ev.delta); }    // for click on marker\r\n\t\t\t\tthis.addLatLng(latlng);\r\n\t\t\t}\r\n\t\t\tthis._parent._parent._clearCreate();\r\n        }\r\n    }\r\n});\r\n\r\nexport default L.GmxDrawing.Ring;","import L from 'leaflet';\r\nimport Utils from './Utils.js';\r\n\r\nL.GmxDrawing.PointMarkers = L.Polygon.extend({\r\n    options: {\r\n        className: 'leaflet-drawing-points',\r\n        noClip: true,\r\n        smoothFactor: 0,\r\n        opacity: 1,\r\n        shape: 'circle',\r\n        fill: true,\r\n        fillColor: '#ffffff',\r\n        fillOpacity: 1,\r\n        size: L.Browser.mobile ? 40 : 8,\r\n        weight: 2\r\n    },\r\n\t_convertLatLngs: function (latlngs) {\r\n\t\treturn L.Polyline.prototype._convertLatLngs.call(this, latlngs);\r\n\t},\r\n\r\n    getRing: function () {\r\n\t\treturn this._parent;\r\n    },\r\n\r\n    getFeature: function () {\r\n\t\treturn this.getRing()._parent;\r\n    },\r\n\r\n    getPathLatLngs: function () {\r\n        var out = [],\r\n            size = this.options.size,\r\n            dontsmooth = this._parent.options.type === 'Rectangle',\r\n            points = this._parts[0],\r\n            prev;\r\n\r\n        for (var i = 0, len = points.length, p; i < len; i++) {\r\n            p = points[i];\r\n            if (i === 0 || dontsmooth || Math.abs(prev.x - p.x) > size || Math.abs(prev.y - p.y) > size) {\r\n                out.push(this._latlngs[i]);\r\n                prev = p;\r\n            }\r\n        }\r\n        return out;\r\n    },\r\n\r\n    _getPathPartStr: function (points) {\r\n        var round = L.Path.VML,\r\n            size = this.options.size / 2,\r\n            dontsmooth = this._parent && this._parent.options.type === 'Rectangle',\r\n            skipLastPoint = this._parent && this._parent.mode === 'add' && !L.Browser.mobile ? 1 : 0,\r\n            radius = (this.options.shape === 'circle' ? true : false),\r\n            prev;\r\n\r\n        for (var j = 0, len2 = points.length - skipLastPoint, str = '', p; j < len2; j++) {\r\n            p = points[j];\r\n            if (round) { p._round(); }\r\n            if (j === 0 || dontsmooth || Math.abs(prev.x - p.x) > this.options.size || Math.abs(prev.y - p.y) > this.options.size) {\r\n                if (radius) {\r\n                    str += 'M' + p.x + ',' + (p.y - size) +\r\n                           ' A' + size + ',' + size + ',0,1,1,' +\r\n                           (p.x - 0.1) + ',' + (p.y - size) + ' ';\r\n                } else {\r\n                    var px = p.x, px1 = px - size, px2 = px + size,\r\n                        py = p.y, py1 = py - size, py2 = py + size;\r\n                    str += 'M' + px1 + ' ' + py1 + 'L' + px2 + ' ' + py1 + 'L' + px2 + ' ' + py2 + 'L' + px1 + ' ' + py2 + 'L' + px1 + ' ' + py1;\r\n                }\r\n                prev = p;\r\n            }\r\n        }\r\n        return str;\r\n    },\r\n\r\n    _onMouseClick: function (e) {\r\n        //if (this._map.dragging && this._map.dragging.moved()) { return; }\r\n        this._fireMouseEvent(e);\r\n    },\r\n\r\n\t_updatePath: function () {\r\n\t\tif (Utils.isOldVersion) {\r\n\t\t\tif (!this._map) { return; }\r\n\t\t\tthis._clipPoints();\r\n\t\t\tthis.projectLatlngs();\r\n\t\t\tvar pathStr = this.getPathString();\r\n\r\n\t\t\tif (pathStr !== this._pathStr) {\r\n\t\t\t\tthis._pathStr = pathStr;\r\n\t\t\t\tif (this._path.getAttribute('fill-rule') !== 'inherit') {\r\n\t\t\t\t\tthis._path.setAttribute('fill-rule', 'inherit');\r\n\t\t\t\t}\r\n\t\t\t\tthis._path.setAttribute('d', this._pathStr || 'M0 0');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar str = this._parts.length ? this._getPathPartStr(this._parts[0]) : '';\r\n\t\t\tthis._renderer._setPath(this, str);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport default L.GmxDrawing.PointMarkers;","import L from 'leaflet';\r\nimport './Drawing.js';\r\n\r\nL.GmxDrawing.utils = {\r\n\tsnaping: 10,\t\t\t// snap distance\r\n\tisOldVersion: L.version.substr(0, 3) === '0.7',\r\n\tdefaultStyles: {\r\n        mode: '',\r\n        map: true,\r\n        editable: true,\r\n        holeStyle: {\r\n            opacity: 0.5,\r\n            color: '#003311'\r\n        },\r\n        lineStyle: {\r\n            opacity:1,\r\n            weight:2,\r\n            clickable: false,\r\n            className: 'leaflet-drawing-lines',\r\n            color: '#0033ff',\r\n            dashArray: null,\r\n            lineCap: null,\r\n            lineJoin: null,\r\n            fill: false,\r\n            fillColor: null,\r\n            fillOpacity: 0.2,\r\n            smoothFactor: 0,\r\n\t\t\tnoClip: true,\r\n            stroke: true\r\n        },\r\n        pointStyle: {\r\n            className: 'leaflet-drawing-points',\r\n            smoothFactor: 0,\r\n\t\t\tnoClip: true,\r\n            opacity: 1,\r\n            shape: 'circle',\r\n            fill: true,\r\n            fillColor: '#ffffff',\r\n            fillOpacity: 1,\r\n            size: L.Browser.mobile ? 40 : 8,\r\n            weight: 2,\r\n            clickable: true,\r\n            color: '#0033ff',\r\n            dashArray: null,\r\n            lineCap: null,\r\n            lineJoin: null,\r\n            stroke: true\r\n        },\r\n        markerStyle: {\r\n            mode: '',\r\n            editable: false,\r\n            title: 'Text example',\r\n            options: {\r\n                alt: '',\r\n                //title: '',\r\n                clickable: true,\r\n                draggable: false,\r\n                keyboard: true,\r\n                opacity: 1,\r\n                zIndexOffset: 0,\r\n                riseOffset: 250,\r\n                riseOnHover: false,\r\n                icon: {\r\n                    className: '',\r\n                    iconUrl: '',\r\n                    iconAnchor: [12, 41],\r\n                    iconSize: [25, 41],\r\n                    popupAnchor: [1, -34],\r\n                    shadowSize: [41, 41]\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    getClosestOnGeometry: function(latlng, gmxGeoJson, map) {\r\n\t\tif (L.GeometryUtil && map) {\r\n\t\t\treturn L.GeometryUtil.closestLayerSnap(\r\n\t\t\t\t\tmap,\r\n\t\t\t\t\t[L.geoJson(L.gmxUtil.geometryToGeoJSON(gmxGeoJson, true, true))],\r\n\t\t\t\t\tlatlng,\r\n\t\t\t\t\tNumber(map.options.snaping || L.GmxDrawing.utils.snaping),\r\n\t\t\t\t\ttrue\r\n\t\t\t\t);\r\n\t\t}\r\n\t\treturn null;\r\n    },\r\n\r\n    snapPoint: function (latlng, obj, map) {\r\n\t\tvar res = latlng;\r\n\t\tif (L.GeometryUtil) {\r\n\t\t\tvar drawingObjects = map.gmxDrawing.getFeatures()\r\n\t\t\t\t\t.filter(function(it) { return it !== obj._parent && it._obj !== obj; })\r\n\t\t\t\t\t.map(function(it) { return it.options.type === 'Point' ? it._obj : it; }),\r\n\t\t\t\t\tsnaping = Number(map.options.snaping || L.GmxDrawing.utils.snaping),\r\n\t\t\t\t\tclosest = L.GeometryUtil.closestLayerSnap(map, drawingObjects, latlng, snaping, true);\r\n\r\n\t\t\tif (closest) {\r\n\t\t\t\tres = closest.latlng;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn res;\r\n   },\r\n\r\n    getNotDefaults: function(from, def) {\r\n        var res = {};\r\n        for (var key in from) {\r\n            if (key === 'icon' || key === 'map') {\r\n                continue;\r\n            } else if (key === 'iconAnchor' || key === 'iconSize' || key === 'popupAnchor' || key === 'shadowSize') {\r\n                if (!def[key]) { continue; }\r\n                if (def[key][0] !== from[key][0] || def[key][1] !== from[key][1]) { res[key] = from[key]; }\r\n            } else if (key === 'lineStyle' || key === 'pointStyle' || key === 'markerStyle') {\r\n                res[key] = this.getNotDefaults(from[key], def[key]);\r\n            } else if (!def || (def[key] !== from[key] || key === 'fill')) {\r\n                res[key] = from[key];\r\n            }\r\n        }\r\n        return res;\r\n    },\r\n\r\n    getShiftLatlng: function (latlng, map, shiftPixel) {\r\n        if (shiftPixel && map) {\r\n            var p = map.latLngToLayerPoint(latlng)._add(shiftPixel);\r\n            latlng = map.layerPointToLatLng(p);\r\n        }\r\n        return latlng;\r\n    },\r\n\r\n    getDownType: function(ev, map, feature) {\r\n        var layerPoint = ev.layerPoint,\r\n\t\t\toriginalEvent = ev.originalEvent,\r\n            ctrlKey = false, shiftKey = false, altKey = false,\r\n            latlng = ev.latlng;\r\n        if (originalEvent) {\r\n            ctrlKey = originalEvent.ctrlKey; shiftKey = originalEvent.shiftKey; altKey = originalEvent.altKey;\r\n        }\r\n        if (ev.touches && ev.touches.length === 1) {\r\n            var first = ev.touches[0],\r\n                containerPoint = map.mouseEventToContainerPoint(first);\r\n            layerPoint = map.containerPointToLayerPoint(containerPoint);\r\n            latlng = map.layerPointToLatLng(layerPoint);\r\n        }\r\n        var out = {type: '', latlng: latlng, ctrlKey: ctrlKey, shiftKey: shiftKey, altKey: altKey},\r\n            ring = this.points ? this : (ev.ring || ev.relatedEvent),\r\n            points = ring.points._originalPoints || ring.points._parts[0] || [],\r\n            len = points.length;\r\n\r\n        if (len === 0) { return out; }\r\n\r\n        var size = (ring.points.options.size || 10) / 2;\r\n        size += 1 + (ring.points.options.weight || 2);\r\n\r\n        var cursorBounds = new L.Bounds(\r\n            L.point(layerPoint.x - size, layerPoint.y - size),\r\n            L.point(layerPoint.x + size, layerPoint.y + size)\r\n            ),\r\n            prev = points[len - 1],\r\n            lastIndex = len - (ring.mode === 'add' ? 2 : 1);\r\n\r\n        out = {\r\n            mode: ring.mode,\r\n            layerPoint: ev.layerPoint,\r\n            ctrlKey: ctrlKey, shiftKey: shiftKey, altKey: altKey,\r\n            latlng: latlng\r\n        };\r\n        for (var i = 0; i < len; i++) {\r\n            var point = points[i];\r\n            if (feature.shiftPixel) { point = points[i].add(feature.shiftPixel); }\r\n            if (cursorBounds.contains(point)) {\r\n                out.type = 'node';\r\n                out.num = i;\r\n                out.end = (i === 0 || i === lastIndex ? true : false);\r\n                break;\r\n            }\r\n            var dist = L.LineUtil.pointToSegmentDistance(layerPoint, prev, point);\r\n            if (dist < size) {\r\n                out.type = 'edge';\r\n                out.num = (i === 0 ? len : i);\r\n            }\r\n            prev = point;\r\n        }\r\n        return out;\r\n    },\r\n\r\n    _getLastObject: function (obj) {\r\n        if (obj.getLayers) {\r\n            var layer = obj.getLayers().shift();\r\n            return layer.getLayers ? this._getLastObject(layer) : obj;\r\n        }\r\n        return obj;\r\n    },\r\n\r\n    getMarkerByPos: function (pos, features) {\r\n        for (var i = 0, len = features.length; i < len; i++) {\r\n            var feature = features[i],\r\n                fobj = feature._obj ? feature._obj : null,\r\n                mpos = fobj && fobj._icon ? fobj._icon._leaflet_pos : null;\r\n            if (mpos && mpos.x === pos.x && mpos.y === pos.y) {\r\n                return fobj._latlng;\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    getLocale: function (key) {\r\n\t\tvar res = L.gmxLocale ? L.gmxLocale.getText(key) : null;\r\n\t\treturn res || key;\r\n    }\r\n};\r\n\r\nexport default L.GmxDrawing.utils;"],"names":["global","classof","IndexedObject","document","DESCRIPTORS","createElement","IE8_DOM_DEFINE","propertyIsEnumerableModule","definePropertyModule","store","WeakMap","has","NATIVE_WEAK_MAP","objectHas","InternalStateModule","min","require$$0","hiddenKeys","internalObjectKeys","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","NATIVE_SYMBOL","Symbol","USE_SYMBOL_AS_UID","userAgent","SPECIES","V8_VERSION","$","aFunction","createMethod","bind","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","max","MAX_SAFE_INTEGER","nativeKeys","GmxDrawingContextMenu","options","points","lines","fill","obj","index","type","optKey","undefined","length","splice","i","len","callback","L","rectDelta","stateVersion","GmxDrawing","Class","extend","includes","Evented","prototype","Mixin","Events","initialize","map","_map","items","current","contextmenu","ContextMenu","text","bbox","gmxUtil","prettifyDistance","svgNS","tooltip","createElementNS","DomUtil","addClass","bg","setAttributeNS","userSelectProperty","testProp","style","appendChild","hideTooltip","showTooltip","point","mouseovertext","x","y","textContent","getAttributeNS","_pathRoot","_renderer","_container","getComputedTextLength","on","ev","drawMode","_drawMode","mode","doubleClickZoom","bringToFront","item","addGeoJSON","arr","isLGeoJSON","GeoJSON","geoJson","layers","getLayers","parseLayer","it","_originalStyle","setStyle","lineStyle","key","f","add","push","layer","feature","geometry","layerGroup","eachLayer","Feature","calcOptions","Marker","_latlng","editable","Rectangle","Polygon","MultiPolygon","Polyline","MultiPolyline","setIcon","draggable","_chkDrawOptions","iconStyle","markerStyle","pointToLayer","icon","geojson","latlng","addLayer","_addItem","setEditMode","_disableDrag","dragging","disable","disableTextSelection","disableImageDrag","removeHooks","_enableDrag","enable","enableTextSelection","enableImageDrag","addHooks","clearCreate","_clearCreate","_createKey","Browser","mobile","DomEvent","off","fn","eventName","_onMouseMove","_firstPoint","removeLayer","drawOptions","defaultStyles","utils","resultStyles","pointStyle","holeStyle","iconUrl","iconAnchor","iconSize","popupAnchor","shadowSize","create","my","originalEvent","ctrlKey","shiftKey","altKey","clickOnTag","target","tagName","_createType","opt","_snaped","markerOpt","rectangle","latLngBounds","latLng","lat","lng","_startTouchMove","_pointDown","rings","ring","_drawstop","polygon","setAddMode","polyline","_mapPane","fire","latlngs","PointMarkers","interactive","setLatLngs","extendDefaultStyles","getFeatures","out","loadState","data","_this","featureCollection","onEachFeature","properties","popupOpened","getBounds","marker","getLatLng","openPopup","saveState","featureGroup","toGeoJSON","getNotDefaults","hasLayer","getPopup","res","_obj","Object","keys","features","concat","version","addFlag","object","_removeItem","remove","clear","Map","addInitHook","gmxDrawing","forEach","UNSUPPORTED_Y","stickyHelpers","exec","fixRegExpWellKnownSymbolLogic","isRegExp","callRegExpExec","DOMIterables","LayerGroup","endTooltip","smoothFactor","simplify","j","len1","hole","getPathLatLngs","holes","bringToBack","onAdd","call","_parent","requestIdleCallback","_fireEvent","timeout","svgContainer","getAttribute","setAttribute","onRemove","_removeStaticTooltip","name","event","removeClass","getStyle","_drawOptions","setOptions","_setStyleOptions","enableEdit","disableEdit","redraw","_setLinesStyle","_setPointsStyle","getOptions","_latLngsToCoords","closed","coords","latLngsToCoords","isOldVersion","lastCoord","_latlngsAddShift","shiftPixel","getShiftLatlng","getPixelOffset","p","mInPixel","tileSizes","_zoom","Point","Math","floor","_dx","_dy","setOffsetToGeometry","dx","dy","getLatLngs","setPositionOffset","mercX","mercY","_getCoords","withoutShift","_geoJsonToLayer","setGeoJSON","_initialize","_toGeoJSON","_getLastObject","getFeature","coordinates","getType","hideFill","_fill","showFill","geoJSON","geometryToLayer","weight","clearLayers","fillColor","bounds","LatLngBounds","_getBounds","parent","_layers","removeEditMode","getArea","geoJSONGetArea","getLength","geoJSONGetLength","lastAddLatLng","_getTooltipAnchor","getSummary","str","mapOpt","distanceUnit","prettifyArea","squareUnit","formatCoordinates","it1","_latlngs","shift","_holes","_setMarker","Ring","e","_initStaticTooltip","_showTooltip","_gtxt","getLocale","down","buttons","button","downObject","azimutUnit","layerPoint","downAttr","getDownType","angleLeg","getAngleLength","angle","titleName","num","title","_angle","PI","getTitle","staticTooltip","tCont","info","closeBtn","tOptions","sticky","permanent","className","direction","getCenter","innerHTML","offset","setLatLng","setContent","addTo","bindPopup","maxWidth","closeOnClick","maxPopupCount","snapPoint","popup","_input","_contentNode","value","width","rows","split","cols","update","focus","_popup","delta","_isOpen","defineProperties","STRICT_METHOD","setPrototypeOf","require$$1","defineProperty","require$$2","require$$3","snaping","substr","opacity","color","clickable","dashArray","lineCap","lineJoin","fillOpacity","noClip","stroke","shape","size","alt","keyboard","zIndexOffset","riseOffset","riseOnHover","getClosestOnGeometry","gmxGeoJson","GeometryUtil","closestLayerSnap","geometryToGeoJSON","Number","drawingObjects","filter","closest","from","def","latLngToLayerPoint","_add","layerPointToLatLng","touches","first","containerPoint","mouseEventToContainerPoint","containerPointToLayerPoint","relatedEvent","_originalPoints","_parts","cursorBounds","Bounds","prev","lastIndex","contains","end","dist","LineUtil","pointToSegmentDistance","getMarkerByPos","pos","fobj","mpos","_icon","_leaflet_pos","gmxLocale","getText","maxPoints","_activeZIndex","activeZIndex","_notActiveZIndex","notActiveZIndex","_coords","_legLength","lineType","indexOf","disableAddPoints","Utils","addLatLng","toggleTooltip","_recheckContextItems","bindContextMenu","contextmenuInheritItems","contextmenuItems","_toggleBboxClass","_getLatLngsArr","_setPoint","flagRotate","_needRotate","_path","flag","getItems","ph","id","retinaIcon","iconCls","retinaIconCls","_eventsCmd","context","disabled","separator","hideOnSelect","relatedTarget","_removePoint","_toggleRotate","_editHistory","_pointUp","removeAddMode","curr","computeAngle","distVincenty","formatDegrees","beg","leg","nm","lastPoint","equals","setPosition","setBounds","_bounds","ie","gtIE11","_draggable","_onUp","_onDragStart","which","_lastDownTime","Date","now","_pointMove","_mouseupPoint","__mouseupPointTimer","cancelIdleCallback","_clearLineAddPoint","_moved","test","_skipClick","_lastPointClickTime","_lineAddPointID","clearTimeout","_pointDblClick","_lastAddTime","_pointClick","clickTime","prevClickTime","setTimeout","reverse","_onContextmenu","_onRotateStart","TRANSFORM_ORIGIN","_rotateCenterPoint","_isContextMenuEvent","clone","hide","_rotateStartPoint","_rotateCenter","_onRotateEnd","_onRotate","_center","center","shiftPoint","getPixelOrigin","cos","sin","ps","subtract","unproject","_rotateItem","s","c","atan2","project","originStr","rotate","transform","_onDragEnd","_onDrag","_dragstartPoint","drawstop","_touchmove","_touchend","_editHandlers","stop","stopPropagation","prevent","preventDefault","touchstart","touchstartFill","_EditOpacity","_createHandlers","_mouseDown","_mouseUp","_moseMove","_lastMouseDownTime","timeStamp","_convertLatLngs","getRing","dontsmooth","abs","_getPathPartStr","round","Path","VML","skipLastPoint","radius","len2","_round","px","px1","px2","py","py1","py2","_onMouseClick","_fireMouseEvent","_updatePath","_clipPoints","projectLatlngs","pathStr","getPathString","_pathStr","_setPath"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAI,KAAK,GAAG,UAAU,EAAE,EAAE;AAC1B,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;AACrC,CAAC,CAAC;AACF;AACA;AACA,YAAc;AACd;AACA,EAAE,KAAK,CAAC,OAAO,UAAU,IAAI,QAAQ,IAAI,UAAU,CAAC;AACpD,EAAE,KAAK,CAAC,OAAO,MAAM,IAAI,QAAQ,IAAI,MAAM,CAAC;AAC5C,EAAE,KAAK,CAAC,OAAO,IAAI,IAAI,QAAQ,IAAI,IAAI,CAAC;AACxC,EAAE,KAAK,CAAC,OAAOA,cAAM,IAAI,QAAQ,IAAIA,cAAM,CAAC;AAC5C;AACA,EAAE,QAAQ,CAAC,aAAa,CAAC,EAAE;;ACZ3B,SAAc,GAAG,UAAU,IAAI,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,OAAO,CAAC,CAAC,IAAI,EAAE,CAAC;AACpB,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,OAAO,IAAI,CAAC;AAChB,GAAG;AACH,CAAC;;ACJD;AACA,eAAc,GAAG,CAAC,KAAK,CAAC,YAAY;AACpC,EAAE,OAAO,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAClF,CAAC,CAAC;;ACJF,IAAI,0BAA0B,GAAG,EAAE,CAAC,oBAAoB,CAAC;AACzD,IAAI,wBAAwB,GAAG,MAAM,CAAC,wBAAwB,CAAC;AAC/D;AACA;AACA,IAAI,WAAW,GAAG,wBAAwB,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC5F;AACA;AACA;AACA,KAAS,GAAG,WAAW,GAAG,SAAS,oBAAoB,CAAC,CAAC,EAAE;AAC3D,EAAE,IAAI,UAAU,GAAG,wBAAwB,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AACrD,EAAE,OAAO,CAAC,CAAC,UAAU,IAAI,UAAU,CAAC,UAAU,CAAC;AAC/C,CAAC,GAAG,0BAA0B;;;;;;ACZ9B,4BAAc,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;AAC1C,EAAE,OAAO;AACT,IAAI,UAAU,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;AAC7B,IAAI,YAAY,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;AAC/B,IAAI,QAAQ,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;AAC3B,IAAI,KAAK,EAAE,KAAK;AAChB,GAAG,CAAC;AACJ,CAAC;;ACPD,IAAI,QAAQ,GAAG,EAAE,CAAC,QAAQ,CAAC;AAC3B;AACA,cAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,OAAO,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACxC,CAAC;;ACDD,IAAI,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC;AACrB;AACA;AACA,iBAAc,GAAG,KAAK,CAAC,YAAY;AACnC;AACA;AACA,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC,CAAC,GAAG,UAAU,EAAE,EAAE;AACnB,EAAE,OAAOC,UAAO,CAAC,EAAE,CAAC,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;AACnE,CAAC,GAAG,MAAM;;ACZV;AACA;AACA,0BAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,IAAI,EAAE,IAAI,SAAS,EAAE,MAAM,SAAS,CAAC,uBAAuB,GAAG,EAAE,CAAC,CAAC;AACrE,EAAE,OAAO,EAAE,CAAC;AACZ,CAAC;;ACLD;AAC2D;AACmB;AAC9E;AACA,mBAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,OAAOC,aAAa,CAAC,sBAAsB,CAAC,EAAE,CAAC,CAAC,CAAC;AACnD,CAAC;;ACND,YAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,OAAO,OAAO,EAAE,KAAK,QAAQ,GAAG,EAAE,KAAK,IAAI,GAAG,OAAO,EAAE,KAAK,UAAU,CAAC;AACzE,CAAC;;ACAD;AACA;AACA;AACA;AACA,eAAc,GAAG,UAAU,KAAK,EAAE,gBAAgB,EAAE;AACpD,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;AACrC,EAAE,IAAI,EAAE,EAAE,GAAG,CAAC;AACd,EAAE,IAAI,gBAAgB,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;AACpH,EAAE,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;AAC/F,EAAE,IAAI,CAAC,gBAAgB,IAAI,QAAQ,EAAE,GAAG,KAAK,CAAC,QAAQ,CAAC,IAAI,UAAU,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC;AACrH,EAAE,MAAM,SAAS,CAAC,yCAAyC,CAAC,CAAC;AAC7D,CAAC;;ACbD,IAAI,cAAc,GAAG,EAAE,CAAC,cAAc,CAAC;AACvC;AACA,OAAc,GAAG,UAAU,EAAE,EAAE,GAAG,EAAE;AACpC,EAAE,OAAO,cAAc,CAAC,IAAI,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;AACtC,CAAC;;ACDD,IAAIC,UAAQ,GAAGH,QAAM,CAAC,QAAQ,CAAC;AAC/B;AACA,IAAI,MAAM,GAAG,QAAQ,CAACG,UAAQ,CAAC,IAAI,QAAQ,CAACA,UAAQ,CAAC,aAAa,CAAC,CAAC;AACpE;AACA,yBAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,OAAO,MAAM,GAAGA,UAAQ,CAAC,aAAa,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;AAClD,CAAC;;ACLD;AACA,gBAAc,GAAG,CAACC,WAAW,IAAI,CAAC,KAAK,CAAC,YAAY;AACpD,EAAE,OAAO,MAAM,CAAC,cAAc,CAACC,qBAAa,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE;AAC1D,IAAI,GAAG,EAAE,YAAY,EAAE,OAAO,CAAC,CAAC,EAAE;AAClC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACZ,CAAC,CAAC;;ACDF,IAAI,8BAA8B,GAAG,MAAM,CAAC,wBAAwB,CAAC;AACrE;AACA;AACA;AACA,OAAS,GAAGD,WAAW,GAAG,8BAA8B,GAAG,SAAS,wBAAwB,CAAC,CAAC,EAAE,CAAC,EAAE;AACnG,EAAE,CAAC,GAAG,eAAe,CAAC,CAAC,CAAC,CAAC;AACzB,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAC3B,EAAE,IAAIE,YAAc,EAAE,IAAI;AAC1B,IAAI,OAAO,8BAA8B,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAChD,GAAG,CAAC,OAAO,KAAK,EAAE,eAAe;AACjC,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,wBAAwB,CAAC,CAACC,0BAA0B,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjG,CAAC;;;;;;ACjBD,YAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE;AACrB,IAAI,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,mBAAmB,CAAC,CAAC;AACtD,GAAG,CAAC,OAAO,EAAE,CAAC;AACd,CAAC;;ACDD,IAAI,oBAAoB,GAAG,MAAM,CAAC,cAAc,CAAC;AACjD;AACA;AACA;AACA,OAAS,GAAGH,WAAW,GAAG,oBAAoB,GAAG,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,EAAE;AAC3F,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AACd,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAC3B,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC;AACvB,EAAE,IAAIE,YAAc,EAAE,IAAI;AAC1B,IAAI,OAAO,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,UAAU,CAAC,CAAC;AAClD,GAAG,CAAC,OAAO,KAAK,EAAE,eAAe;AACjC,EAAE,IAAI,KAAK,IAAI,UAAU,IAAI,KAAK,IAAI,UAAU,EAAE,MAAM,SAAS,CAAC,yBAAyB,CAAC,CAAC;AAC7F,EAAE,IAAI,OAAO,IAAI,UAAU,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,KAAK,CAAC;AACrD,EAAE,OAAO,CAAC,CAAC;AACX,CAAC;;;;;;ACfD,+BAAc,GAAGF,WAAW,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE;AAC7D,EAAE,OAAOI,oBAAoB,CAAC,CAAC,CAAC,MAAM,EAAE,GAAG,EAAE,wBAAwB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AACjF,CAAC,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE;AAClC,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACtB,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;;ACND,aAAc,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;AACvC,EAAE,IAAI;AACN,IAAI,2BAA2B,CAACR,QAAM,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;AACpD,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAIA,QAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AACxB,GAAG,CAAC,OAAO,KAAK,CAAC;AACjB,CAAC;;ACND,IAAI,MAAM,GAAG,oBAAoB,CAAC;AAClC,IAAI,KAAK,GAAGA,QAAM,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AACpD;AACA,eAAc,GAAG,KAAK;;ACJtB,IAAI,gBAAgB,GAAG,QAAQ,CAAC,QAAQ,CAAC;AACzC;AACA;AACA,IAAI,OAAOS,WAAK,CAAC,aAAa,IAAI,UAAU,EAAE;AAC9C,EAAEA,WAAK,CAAC,aAAa,GAAG,UAAU,EAAE,EAAE;AACtC,IAAI,OAAO,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACrC,GAAG,CAAC;AACJ,CAAC;AACD;AACA,iBAAc,GAAGA,WAAK,CAAC,aAAa;;ACRpC,IAAI,OAAO,GAAGT,QAAM,CAAC,OAAO,CAAC;AAC7B;AACA,iBAAc,GAAG,OAAO,OAAO,KAAK,UAAU,IAAI,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;;;ACF5F,CAAC,cAAc,GAAG,UAAU,GAAG,EAAE,KAAK,EAAE;AACxC,EAAE,OAAOS,WAAK,CAAC,GAAG,CAAC,KAAKA,WAAK,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,SAAS,GAAG,KAAK,GAAG,EAAE,CAAC,CAAC;AACvE,CAAC,EAAE,UAAU,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC;AACxB,EAAE,OAAO,EAAE,OAAO;AAClB,EAAE,IAAI,GAAqB,QAAQ;AACnC,EAAE,SAAS,EAAE,sCAAsC;AACnD,CAAC,CAAC;;;ACTF,IAAI,EAAE,GAAG,CAAC,CAAC;AACX,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AAC5B;AACA,OAAc,GAAG,UAAU,GAAG,EAAE;AAChC,EAAE,OAAO,SAAS,GAAG,MAAM,CAAC,GAAG,KAAK,SAAS,GAAG,EAAE,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,EAAE,EAAE,GAAG,OAAO,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;AACjG,CAAC;;ACFD,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;AAC1B;AACA,aAAc,GAAG,UAAU,GAAG,EAAE;AAChC,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAC7C,CAAC;;ACPD,cAAc,GAAG,EAAE;;ACQnB,IAAIC,SAAO,GAAGV,QAAM,CAAC,OAAO,CAAC;AAC7B,IAAI,GAAG,EAAE,GAAG,EAAEW,KAAG,CAAC;AAClB;AACA,IAAI,OAAO,GAAG,UAAU,EAAE,EAAE;AAC5B,EAAE,OAAOA,KAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AACzC,CAAC,CAAC;AACF;AACA,IAAI,SAAS,GAAG,UAAU,IAAI,EAAE;AAChC,EAAE,OAAO,UAAU,EAAE,EAAE;AACvB,IAAI,IAAI,KAAK,CAAC;AACd,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,KAAK,IAAI,EAAE;AAC1D,MAAM,MAAM,SAAS,CAAC,yBAAyB,GAAG,IAAI,GAAG,WAAW,CAAC,CAAC;AACtE,KAAK,CAAC,OAAO,KAAK,CAAC;AACnB,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,IAAIC,aAAe,EAAE;AACrB,EAAE,IAAIH,OAAK,GAAG,IAAIC,SAAO,EAAE,CAAC;AAC5B,EAAE,IAAI,KAAK,GAAGD,OAAK,CAAC,GAAG,CAAC;AACxB,EAAE,IAAI,KAAK,GAAGA,OAAK,CAAC,GAAG,CAAC;AACxB,EAAE,IAAI,KAAK,GAAGA,OAAK,CAAC,GAAG,CAAC;AACxB,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE,QAAQ,EAAE;AAChC,IAAI,KAAK,CAAC,IAAI,CAACA,OAAK,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC;AACpC,IAAI,OAAO,QAAQ,CAAC;AACpB,GAAG,CAAC;AACJ,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE;AACtB,IAAI,OAAO,KAAK,CAAC,IAAI,CAACA,OAAK,EAAE,EAAE,CAAC,IAAI,EAAE,CAAC;AACvC,GAAG,CAAC;AACJ,EAAEE,KAAG,GAAG,UAAU,EAAE,EAAE;AACtB,IAAI,OAAO,KAAK,CAAC,IAAI,CAACF,OAAK,EAAE,EAAE,CAAC,CAAC;AACjC,GAAG,CAAC;AACJ,CAAC,MAAM;AACP,EAAE,IAAI,KAAK,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;AACjC,EAAE,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;AAC3B,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE,QAAQ,EAAE;AAChC,IAAI,2BAA2B,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;AACrD,IAAI,OAAO,QAAQ,CAAC;AACpB,GAAG,CAAC;AACJ,EAAE,GAAG,GAAG,UAAU,EAAE,EAAE;AACtB,IAAI,OAAOI,GAAS,CAAC,EAAE,EAAE,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;AACjD,GAAG,CAAC;AACJ,EAAEF,KAAG,GAAG,UAAU,EAAE,EAAE;AACtB,IAAI,OAAOE,GAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;AAChC,GAAG,CAAC;AACJ,CAAC;AACD;AACA,iBAAc,GAAG;AACjB,EAAE,GAAG,EAAE,GAAG;AACV,EAAE,GAAG,EAAE,GAAG;AACV,EAAE,GAAG,EAAEF,KAAG;AACV,EAAE,OAAO,EAAE,OAAO;AAClB,EAAE,SAAS,EAAE,SAAS;AACtB,CAAC;;;ACrDD,IAAI,gBAAgB,GAAGG,aAAmB,CAAC,GAAG,CAAC;AAC/C,IAAI,oBAAoB,GAAGA,aAAmB,CAAC,OAAO,CAAC;AACvD,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAC9C;AACA,CAAC,cAAc,GAAG,UAAU,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE;AACpD,EAAE,IAAI,MAAM,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC;AAClD,EAAE,IAAI,MAAM,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,KAAK,CAAC;AACtD,EAAE,IAAI,WAAW,GAAG,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC,WAAW,GAAG,KAAK,CAAC;AAC5D,EAAE,IAAI,OAAO,KAAK,IAAI,UAAU,EAAE;AAClC,IAAI,IAAI,OAAO,GAAG,IAAI,QAAQ,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,EAAE,2BAA2B,CAAC,KAAK,EAAE,MAAM,EAAE,GAAG,CAAC,CAAC;AACvG,IAAI,oBAAoB,CAAC,KAAK,CAAC,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;AAC1F,GAAG;AACH,EAAE,IAAI,CAAC,KAAKd,QAAM,EAAE;AACpB,IAAI,IAAI,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAC/B,SAAS,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;AAC/B,IAAI,OAAO;AACX,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE;AACtB,IAAI,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,GAAG,MAAM,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE;AACrC,IAAI,MAAM,GAAG,IAAI,CAAC;AAClB,GAAG;AACH,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAC7B,OAAO,2BAA2B,CAAC,CAAC,EAAE,GAAG,EAAE,KAAK,CAAC,CAAC;AAClD;AACA,CAAC,EAAE,QAAQ,CAAC,SAAS,EAAE,UAAU,EAAE,SAAS,QAAQ,GAAG;AACvD,EAAE,OAAO,OAAO,IAAI,IAAI,UAAU,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,MAAM,IAAI,aAAa,CAAC,IAAI,CAAC,CAAC;AAC3F,CAAC,CAAC;;;AC/BF,QAAc,GAAGA,QAAM;;ACCvB,IAAI,SAAS,GAAG,UAAU,QAAQ,EAAE;AACpC,EAAE,OAAO,OAAO,QAAQ,IAAI,UAAU,GAAG,QAAQ,GAAG,SAAS,CAAC;AAC9D,CAAC,CAAC;AACF;AACA,cAAc,GAAG,UAAU,SAAS,EAAE,MAAM,EAAE;AAC9C,EAAE,OAAO,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,SAAS,CAACA,QAAM,CAAC,SAAS,CAAC,CAAC;AAC1F,MAAM,IAAI,CAAC,SAAS,CAAC,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,IAAIA,QAAM,CAAC,SAAS,CAAC,IAAIA,QAAM,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC;AACnG,CAAC;;ACVD,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACrB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;AACvB;AACA;AACA;AACA,aAAc,GAAG,UAAU,QAAQ,EAAE;AACrC,EAAE,OAAO,KAAK,CAAC,QAAQ,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,GAAG,CAAC,GAAG,KAAK,GAAG,IAAI,EAAE,QAAQ,CAAC,CAAC;AACnF,CAAC;;ACLD,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB;AACA;AACA;AACA,YAAc,GAAG,UAAU,QAAQ,EAAE;AACrC,EAAE,OAAO,QAAQ,GAAG,CAAC,GAAG,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC;AACvE,CAAC;;ACND,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB,IAAIe,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB;AACA;AACA;AACA;AACA,mBAAc,GAAG,UAAU,KAAK,EAAE,MAAM,EAAE;AAC1C,EAAE,IAAI,OAAO,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;AACjC,EAAE,OAAO,OAAO,GAAG,CAAC,GAAG,GAAG,CAAC,OAAO,GAAG,MAAM,EAAE,CAAC,CAAC,GAAGA,KAAG,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AACvE,CAAC;;ACPD;AACA,IAAI,YAAY,GAAG,UAAU,WAAW,EAAE;AAC1C,EAAE,OAAO,UAAU,KAAK,EAAE,EAAE,EAAE,SAAS,EAAE;AACzC,IAAI,IAAI,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,CAAC;AACnC,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACpC,IAAI,IAAI,KAAK,GAAG,eAAe,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACnD,IAAI,IAAI,KAAK,CAAC;AACd;AACA;AACA,IAAI,IAAI,WAAW,IAAI,EAAE,IAAI,EAAE,EAAE,OAAO,MAAM,GAAG,KAAK,EAAE;AACxD,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC;AACzB;AACA,MAAM,IAAI,KAAK,IAAI,KAAK,EAAE,OAAO,IAAI,CAAC;AACtC;AACA,KAAK,MAAM,MAAM,MAAM,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE;AAC1C,MAAM,IAAI,CAAC,WAAW,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,EAAE,EAAE,OAAO,WAAW,IAAI,KAAK,IAAI,CAAC,CAAC;AAC3F,KAAK,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;AAChC,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,iBAAc,GAAG;AACjB;AACA;AACA,EAAE,QAAQ,EAAE,YAAY,CAAC,IAAI,CAAC;AAC9B;AACA;AACA,EAAE,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC;AAC9B,CAAC;;AC7BD,IAAI,OAAO,GAAGC,aAAsC,CAAC,OAAO,CAAC;AACR;AACrD;AACA,sBAAc,GAAG,UAAU,MAAM,EAAE,KAAK,EAAE;AAC1C,EAAE,IAAI,CAAC,GAAG,eAAe,CAAC,MAAM,CAAC,CAAC;AAClC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACZ,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;AAClB,EAAE,IAAI,GAAG,CAAC;AACV,EAAE,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC1E;AACA,EAAE,OAAO,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE;AACzD,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC9C,GAAG;AACH,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;;AChBD;AACA,eAAc,GAAG;AACjB,EAAE,aAAa;AACf,EAAE,gBAAgB;AAClB,EAAE,eAAe;AACjB,EAAE,sBAAsB;AACxB,EAAE,gBAAgB;AAClB,EAAE,UAAU;AACZ,EAAE,SAAS;AACX,CAAC;;ACND,IAAIC,YAAU,GAAG,WAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;AAC3D;AACA;AACA;AACA,OAAS,GAAG,MAAM,CAAC,mBAAmB,IAAI,SAAS,mBAAmB,CAAC,CAAC,EAAE;AAC1E,EAAE,OAAOC,kBAAkB,CAAC,CAAC,EAAED,YAAU,CAAC,CAAC;AAC3C,CAAC;;;;;;ACTD,OAAS,GAAG,MAAM,CAAC,qBAAqB;;;;;;ACKxC;AACA,WAAc,GAAG,UAAU,CAAC,SAAS,EAAE,SAAS,CAAC,IAAI,SAAS,OAAO,CAAC,EAAE,EAAE;AAC1E,EAAE,IAAI,IAAI,GAAGE,yBAAyB,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACvD,EAAE,IAAI,qBAAqB,GAAGC,2BAA2B,CAAC,CAAC,CAAC;AAC5D,EAAE,OAAO,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;AAC/E,CAAC;;ACLD,6BAAc,GAAG,UAAU,MAAM,EAAE,MAAM,EAAE;AAC3C,EAAE,IAAI,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,EAAE,IAAI,cAAc,GAAGZ,oBAAoB,CAAC,CAAC,CAAC;AAC9C,EAAE,IAAI,wBAAwB,GAAGa,8BAA8B,CAAC,CAAC,CAAC;AAClE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACxC,IAAI,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;AACtB,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,cAAc,CAAC,MAAM,EAAE,GAAG,EAAE,wBAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,CAAC;AAC9F,GAAG;AACH,CAAC;;ACXD,IAAI,WAAW,GAAG,iBAAiB,CAAC;AACpC;AACA,IAAI,QAAQ,GAAG,UAAU,OAAO,EAAE,SAAS,EAAE;AAC7C,EAAE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;AACvC,EAAE,OAAO,KAAK,IAAI,QAAQ,GAAG,IAAI;AACjC,MAAM,KAAK,IAAI,MAAM,GAAG,KAAK;AAC7B,MAAM,OAAO,SAAS,IAAI,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC;AACvD,MAAM,CAAC,CAAC,SAAS,CAAC;AAClB,CAAC,CAAC;AACF;AACA,IAAI,SAAS,GAAG,QAAQ,CAAC,SAAS,GAAG,UAAU,MAAM,EAAE;AACvD,EAAE,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC,CAAC,WAAW,EAAE,CAAC;AAChE,CAAC,CAAC;AACF;AACA,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,GAAG,EAAE,CAAC;AAC9B,IAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,GAAG,GAAG,CAAC;AACnC,IAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,GAAG,GAAG,CAAC;AACvC;AACA,cAAc,GAAG,QAAQ;;ACnBzB,IAAIC,0BAAwB,GAAGN,8BAA0D,CAAC,CAAC,CAAC;AACH;AACzC;AACG;AACiC;AACnC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAc,GAAG,UAAU,OAAO,EAAE,MAAM,EAAE;AAC5C,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;AAC9B,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;AAC9B,EAAE,IAAI,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;AAC5B,EAAE,IAAI,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,cAAc,EAAE,UAAU,CAAC;AACtE,EAAE,IAAI,MAAM,EAAE;AACd,IAAI,MAAM,GAAGhB,QAAM,CAAC;AACpB,GAAG,MAAM,IAAI,MAAM,EAAE;AACrB,IAAI,MAAM,GAAGA,QAAM,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;AACrD,GAAG,MAAM;AACT,IAAI,MAAM,GAAG,CAACA,QAAM,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE,SAAS,CAAC;AAC9C,GAAG;AACH,EAAE,IAAI,MAAM,EAAE,KAAK,GAAG,IAAI,MAAM,EAAE;AAClC,IAAI,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AACjC,IAAI,IAAI,OAAO,CAAC,WAAW,EAAE;AAC7B,MAAM,UAAU,GAAGsB,0BAAwB,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;AACzD,MAAM,cAAc,GAAG,UAAU,IAAI,UAAU,CAAC,KAAK,CAAC;AACtD,KAAK,MAAM,cAAc,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AACxC,IAAI,MAAM,GAAGC,UAAQ,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,IAAI,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;AAC1F;AACA,IAAI,IAAI,CAAC,MAAM,IAAI,cAAc,KAAK,SAAS,EAAE;AACjD,MAAM,IAAI,OAAO,cAAc,KAAK,OAAO,cAAc,EAAE,SAAS;AACpE,MAAM,yBAAyB,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC;AAChE,KAAK;AACL;AACA,IAAI,IAAI,OAAO,CAAC,IAAI,KAAK,cAAc,IAAI,cAAc,CAAC,IAAI,CAAC,EAAE;AACjE,MAAM,2BAA2B,CAAC,cAAc,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;AAChE,KAAK;AACL;AACA,IAAI,QAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,cAAc,EAAE,OAAO,CAAC,CAAC;AACnD,GAAG;AACH,CAAC;;ACnDD;AACA;AACA,WAAc,GAAG,KAAK,CAAC,OAAO,IAAI,SAAS,OAAO,CAAC,GAAG,EAAE;AACxD,EAAE,OAAOtB,UAAO,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC;AACjC,CAAC;;ACJD;AACA;AACA,YAAc,GAAG,UAAU,QAAQ,EAAE;AACrC,EAAE,OAAO,MAAM,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClD,CAAC;;ACDD,kBAAc,GAAG,UAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE;AAC/C,EAAE,IAAI,WAAW,GAAG,WAAW,CAAC,GAAG,CAAC,CAAC;AACrC,EAAE,IAAI,WAAW,IAAI,MAAM,EAAEO,oBAAoB,CAAC,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,wBAAwB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;AAC7G,OAAO,MAAM,CAAC,WAAW,CAAC,GAAG,KAAK,CAAC;AACnC,CAAC;;ACPD,gBAAc,GAAG,CAAC,CAAC,MAAM,CAAC,qBAAqB,IAAI,CAAC,KAAK,CAAC,YAAY;AACtE;AACA;AACA,EAAE,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;AAC3B,CAAC,CAAC;;ACJF,kBAAc,GAAGgB,YAAa;AAC9B;AACA,KAAK,CAAC,MAAM,CAAC,IAAI;AACjB;AACA,KAAK,OAAO,MAAM,CAAC,QAAQ,IAAI,QAAQ;;ACCvC,IAAI,qBAAqB,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AAC1C,IAAIC,QAAM,GAAGzB,QAAM,CAAC,MAAM,CAAC;AAC3B,IAAI,qBAAqB,GAAG0B,cAAiB,GAAGD,QAAM,GAAGA,QAAM,IAAIA,QAAM,CAAC,aAAa,IAAI,GAAG,CAAC;AAC/F;AACA,mBAAc,GAAG,UAAU,IAAI,EAAE;AACjC,EAAE,IAAI,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,CAAC,EAAE;AACzC,IAAI,IAAID,YAAa,IAAI,GAAG,CAACC,QAAM,EAAE,IAAI,CAAC,EAAE,qBAAqB,CAAC,IAAI,CAAC,GAAGA,QAAM,CAAC,IAAI,CAAC,CAAC;AACvF,SAAS,qBAAqB,CAAC,IAAI,CAAC,GAAG,qBAAqB,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;AAC/E,GAAG,CAAC,OAAO,qBAAqB,CAAC,IAAI,CAAC,CAAC;AACvC,CAAC;;ACZD,IAAI,OAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;AACzC;AACA;AACA;AACA,sBAAc,GAAG,UAAU,aAAa,EAAE,MAAM,EAAE;AAClD,EAAE,IAAI,CAAC,CAAC;AACR,EAAE,IAAI,OAAO,CAAC,aAAa,CAAC,EAAE;AAC9B,IAAI,CAAC,GAAG,aAAa,CAAC,WAAW,CAAC;AAClC;AACA,IAAI,IAAI,OAAO,CAAC,IAAI,UAAU,KAAK,CAAC,KAAK,KAAK,IAAI,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC;AACvF,SAAS,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;AAC1B,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC;AACrB,MAAM,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,SAAS,CAAC;AACpC,KAAK;AACL,GAAG,CAAC,OAAO,KAAK,CAAC,KAAK,SAAS,GAAG,KAAK,GAAG,CAAC,EAAE,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,CAAC;AACxE,CAAC;;ACjBD,mBAAc,GAAG,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,IAAI,EAAE;;ACC3D,IAAI,OAAO,GAAGzB,QAAM,CAAC,OAAO,CAAC;AAC7B,IAAI,QAAQ,GAAG,OAAO,IAAI,OAAO,CAAC,QAAQ,CAAC;AAC3C,IAAI,EAAE,GAAG,QAAQ,IAAI,QAAQ,CAAC,EAAE,CAAC;AACjC,IAAI,KAAK,EAAE,OAAO,CAAC;AACnB;AACA,IAAI,EAAE,EAAE;AACR,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACxB,EAAE,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AAChC,CAAC,MAAM,IAAI2B,eAAS,EAAE;AACtB,EAAE,KAAK,GAAGA,eAAS,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;AACzC,EAAE,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,CAAC,IAAI,EAAE,EAAE;AAChC,IAAI,KAAK,GAAGA,eAAS,CAAC,KAAK,CAAC,eAAe,CAAC,CAAC;AAC7C,IAAI,IAAI,KAAK,EAAE,OAAO,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AAClC,GAAG;AACH,CAAC;AACD;AACA,mBAAc,GAAG,OAAO,IAAI,CAAC,OAAO;;ACfpC,IAAIC,SAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;AACzC;AACA,gCAAc,GAAG,UAAU,WAAW,EAAE;AACxC;AACA;AACA;AACA,EAAE,OAAOC,eAAU,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY;AAChD,IAAI,IAAI,KAAK,GAAG,EAAE,CAAC;AACnB,IAAI,IAAI,WAAW,GAAG,KAAK,CAAC,WAAW,GAAG,EAAE,CAAC;AAC7C,IAAI,WAAW,CAACD,SAAO,CAAC,GAAG,YAAY;AACvC,MAAM,OAAO,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;AACxB,KAAK,CAAC;AACN,IAAI,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;AACjD,GAAG,CAAC,CAAC;AACL,CAAC;;ACLD,IAAI,oBAAoB,GAAG,eAAe,CAAC,oBAAoB,CAAC,CAAC;AACjE,IAAI,gBAAgB,GAAG,gBAAgB,CAAC;AACxC,IAAI,8BAA8B,GAAG,gCAAgC,CAAC;AACtE;AACA;AACA;AACA;AACA,IAAI,4BAA4B,GAAGC,eAAU,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,YAAY;AAC1E,EAAE,IAAI,KAAK,GAAG,EAAE,CAAC;AACjB,EAAE,KAAK,CAAC,oBAAoB,CAAC,GAAG,KAAK,CAAC;AACtC,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC;AACrC,CAAC,CAAC,CAAC;AACH;AACA,IAAI,eAAe,GAAG,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AAC7D;AACA,IAAI,kBAAkB,GAAG,UAAU,CAAC,EAAE;AACtC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK,CAAC;AACjC,EAAE,IAAI,UAAU,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC;AAC3C,EAAE,OAAO,UAAU,KAAK,SAAS,GAAG,CAAC,CAAC,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC9D,CAAC,CAAC;AACF;AACA,IAAI,MAAM,GAAG,CAAC,4BAA4B,IAAI,CAAC,eAAe,CAAC;AAC/D;AACA;AACA;AACA;AACAC,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,EAAE,EAAE;AACpD,EAAE,MAAM,EAAE,SAAS,MAAM,CAAC,GAAG,EAAE;AAC/B,IAAI,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC3B,IAAI,IAAI,CAAC,GAAG,kBAAkB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACrC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC;AACd,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC;AAC7B,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE;AAC7D,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;AACtC,MAAM,IAAI,kBAAkB,CAAC,CAAC,CAAC,EAAE;AACjC,QAAQ,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACjC,QAAQ,IAAI,CAAC,GAAG,GAAG,GAAG,gBAAgB,EAAE,MAAM,SAAS,CAAC,8BAA8B,CAAC,CAAC;AACxF,QAAQ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9E,OAAO,MAAM;AACb,QAAQ,IAAI,CAAC,IAAI,gBAAgB,EAAE,MAAM,SAAS,CAAC,8BAA8B,CAAC,CAAC;AACnF,QAAQ,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAClC,OAAO;AACP,KAAK;AACL,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;AACjB,IAAI,OAAO,CAAC,CAAC;AACb,GAAG;AACH,CAAC,CAAC;;AC3DF,eAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,IAAI,OAAO,EAAE,IAAI,UAAU,EAAE;AAC/B,IAAI,MAAM,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,oBAAoB,CAAC,CAAC;AACvD,GAAG,CAAC,OAAO,EAAE,CAAC;AACd,CAAC;;ACFD;AACA,uBAAc,GAAG,UAAU,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;AAC7C,EAAEC,WAAS,CAAC,EAAE,CAAC,CAAC;AAChB,EAAE,IAAI,IAAI,KAAK,SAAS,EAAE,OAAO,EAAE,CAAC;AACpC,EAAE,QAAQ,MAAM;AAChB,IAAI,KAAK,CAAC,EAAE,OAAO,YAAY;AAC/B,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC3B,KAAK,CAAC;AACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE;AAChC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;AAC9B,KAAK,CAAC;AACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE;AACnC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACjC,KAAK,CAAC;AACN,IAAI,KAAK,CAAC,EAAE,OAAO,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;AACtC,MAAM,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,KAAK,CAAC;AACN,GAAG;AACH,EAAE,OAAO,yBAAyB;AAClC,IAAI,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AACrC,GAAG,CAAC;AACJ,CAAC;;ACjBD,IAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC;AACnB;AACA;AACA,IAAIC,cAAY,GAAG,UAAU,IAAI,EAAE;AACnC,EAAE,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,CAAC;AACzB,EAAE,IAAI,SAAS,GAAG,IAAI,IAAI,CAAC,CAAC;AAC5B,EAAE,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC;AAC1B,EAAE,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,CAAC;AAC3B,EAAE,IAAI,aAAa,GAAG,IAAI,IAAI,CAAC,CAAC;AAChC,EAAE,IAAI,QAAQ,GAAG,IAAI,IAAI,CAAC,IAAI,aAAa,CAAC;AAC5C,EAAE,OAAO,UAAU,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,cAAc,EAAE;AAC5D,IAAI,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC5B,IAAI,IAAI,IAAI,GAAG9B,aAAa,CAAC,CAAC,CAAC,CAAC;AAChC,IAAI,IAAI,aAAa,GAAG+B,mBAAI,CAAC,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;AAClD,IAAI,IAAI,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACvC,IAAI,IAAI,KAAK,GAAG,CAAC,CAAC;AAClB,IAAI,IAAI,MAAM,GAAG,cAAc,IAAI,kBAAkB,CAAC;AACtD,IAAI,IAAI,MAAM,GAAG,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,SAAS,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,SAAS,CAAC;AAC3F,IAAI,IAAI,KAAK,EAAE,MAAM,CAAC;AACtB,IAAI,MAAM,MAAM,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE,IAAI,QAAQ,IAAI,KAAK,IAAI,IAAI,EAAE;AAClE,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;AAC1B,MAAM,MAAM,GAAG,aAAa,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC;AAC9C,MAAM,IAAI,IAAI,EAAE;AAChB,QAAQ,IAAI,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;AAC3C,aAAa,IAAI,MAAM,EAAE,QAAQ,IAAI;AACrC,UAAU,KAAK,CAAC,EAAE,OAAO,IAAI,CAAC;AAC9B,UAAU,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;AAC/B,UAAU,KAAK,CAAC,EAAE,OAAO,KAAK,CAAC;AAC/B,UAAU,KAAK,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC3C,SAAS,MAAM,IAAI,QAAQ,EAAE,OAAO,KAAK,CAAC;AAC1C,OAAO;AACP,KAAK;AACL,IAAI,OAAO,aAAa,GAAG,CAAC,CAAC,GAAG,OAAO,IAAI,QAAQ,GAAG,QAAQ,GAAG,MAAM,CAAC;AACxE,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,kBAAc,GAAG;AACjB;AACA;AACA,EAAE,OAAO,EAAED,cAAY,CAAC,CAAC,CAAC;AAC1B;AACA;AACA,EAAE,GAAG,EAAEA,cAAY,CAAC,CAAC,CAAC;AACtB;AACA;AACA,EAAE,MAAM,EAAEA,cAAY,CAAC,CAAC,CAAC;AACzB;AACA;AACA,EAAE,IAAI,EAAEA,cAAY,CAAC,CAAC,CAAC;AACvB;AACA;AACA,EAAE,KAAK,EAAEA,cAAY,CAAC,CAAC,CAAC;AACxB;AACA;AACA,EAAE,IAAI,EAAEA,cAAY,CAAC,CAAC,CAAC;AACvB;AACA;AACA,EAAE,SAAS,EAAEA,cAAY,CAAC,CAAC,CAAC;AAC5B,CAAC;;AC5DD,IAAI,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;AAC3C,IAAI,KAAK,GAAG,EAAE,CAAC;AACf;AACA,IAAI,OAAO,GAAG,UAAU,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;AAC1C;AACA,2BAAc,GAAG,UAAU,WAAW,EAAE,OAAO,EAAE;AACjD,EAAE,IAAI,GAAG,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC;AACzD,EAAE,IAAI,CAAC,OAAO,EAAE,OAAO,GAAG,EAAE,CAAC;AAC7B,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;AAC/B,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,WAAW,CAAC,GAAG,OAAO,CAAC,SAAS,GAAG,KAAK,CAAC;AACxE,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC;AACzD,EAAE,IAAI,SAAS,GAAG,GAAG,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;AAC3D;AACA,EAAE,OAAO,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,MAAM,IAAI,CAAC,KAAK,CAAC,YAAY;AAC7D,IAAI,IAAI,SAAS,IAAI,CAAC5B,WAAW,EAAE,OAAO,IAAI,CAAC;AAC/C,IAAI,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC;AAC3B;AACA,IAAI,IAAI,SAAS,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;AAC5E,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB;AACA,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC;AACzC,GAAG,CAAC,CAAC;AACL,CAAC;;ACxBD,IAAI,IAAI,GAAGY,cAAuC,CAAC,GAAG,CAAC;AACqC;AACV;AAClF;AACA,IAAI,mBAAmB,GAAG,4BAA4B,CAAC,KAAK,CAAC,CAAC;AAC9D;AACA,IAAI,cAAc,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;AACpD;AACA;AACA;AACA;AACAc,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,mBAAmB,IAAI,CAAC,cAAc,EAAE,EAAE;AACrF,EAAE,GAAG,EAAE,SAAS,GAAG,CAAC,UAAU,kBAAkB;AAChD,IAAI,OAAO,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;AACnF,GAAG;AACH,CAAC,CAAC;;ACNF,IAAII,qBAAmB,GAAG,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AACjE,IAAIC,gBAAc,GAAG,uBAAuB,CAAC,QAAQ,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AACxF;AACA,IAAIC,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB,IAAIrB,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB,IAAIsB,kBAAgB,GAAG,gBAAgB,CAAC;AACxC,IAAI,+BAA+B,GAAG,iCAAiC,CAAC;AACxE;AACA;AACA;AACA;AACAP,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAACI,qBAAmB,IAAI,CAACC,gBAAc,EAAE,EAAE;AACrF,EAAE,MAAM,EAAE,SAAS,MAAM,CAAC,KAAK,EAAE,WAAW,mBAAmB;AAC/D,IAAI,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC3B,IAAI,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AACjC,IAAI,IAAI,WAAW,GAAG,eAAe,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAClD,IAAI,IAAI,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC;AAC3C,IAAI,IAAI,WAAW,EAAE,iBAAiB,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,EAAE,CAAC;AACvD,IAAI,IAAI,eAAe,KAAK,CAAC,EAAE;AAC/B,MAAM,WAAW,GAAG,iBAAiB,GAAG,CAAC,CAAC;AAC1C,KAAK,MAAM,IAAI,eAAe,KAAK,CAAC,EAAE;AACtC,MAAM,WAAW,GAAG,CAAC,CAAC;AACtB,MAAM,iBAAiB,GAAG,GAAG,GAAG,WAAW,CAAC;AAC5C,KAAK,MAAM;AACX,MAAM,WAAW,GAAG,eAAe,GAAG,CAAC,CAAC;AACxC,MAAM,iBAAiB,GAAGpB,KAAG,CAACqB,KAAG,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,GAAG,WAAW,CAAC,CAAC;AACjF,KAAK;AACL,IAAI,IAAI,GAAG,GAAG,WAAW,GAAG,iBAAiB,GAAGC,kBAAgB,EAAE;AAClE,MAAM,MAAM,SAAS,CAAC,+BAA+B,CAAC,CAAC;AACvD,KAAK;AACL,IAAI,CAAC,GAAG,kBAAkB,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;AACjD,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,iBAAiB,EAAE,CAAC,EAAE,EAAE;AAC5C,MAAM,IAAI,GAAG,WAAW,GAAG,CAAC,CAAC;AAC7B,MAAM,IAAI,IAAI,IAAI,CAAC,EAAE,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;AACnD,KAAK;AACL,IAAI,CAAC,CAAC,MAAM,GAAG,iBAAiB,CAAC;AACjC,IAAI,IAAI,WAAW,GAAG,iBAAiB,EAAE;AACzC,MAAM,KAAK,CAAC,GAAG,WAAW,EAAE,CAAC,GAAG,GAAG,GAAG,iBAAiB,EAAE,CAAC,EAAE,EAAE;AAC9D,QAAQ,IAAI,GAAG,CAAC,GAAG,iBAAiB,CAAC;AACrC,QAAQ,EAAE,GAAG,CAAC,GAAG,WAAW,CAAC;AAC7B,QAAQ,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACvC,aAAa,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1B,OAAO;AACP,MAAM,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,iBAAiB,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACpF,KAAK,MAAM,IAAI,WAAW,GAAG,iBAAiB,EAAE;AAChD,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,iBAAiB,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;AAC9D,QAAQ,IAAI,GAAG,CAAC,GAAG,iBAAiB,GAAG,CAAC,CAAC;AACzC,QAAQ,EAAE,GAAG,CAAC,GAAG,WAAW,GAAG,CAAC,CAAC;AACjC,QAAQ,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;AACvC,aAAa,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1B,OAAO;AACP,KAAK;AACL,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,EAAE,CAAC,EAAE,EAAE;AACtC,MAAM,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AAC5C,KAAK;AACL,IAAI,CAAC,CAAC,MAAM,GAAG,GAAG,GAAG,iBAAiB,GAAG,WAAW,CAAC;AACrD,IAAI,OAAO,CAAC,CAAC;AACb,GAAG;AACH,CAAC,CAAC;;AClEF;AACA;AACA,cAAc,GAAG,MAAM,CAAC,IAAI,IAAI,SAAS,IAAI,CAAC,CAAC,EAAE;AACjD,EAAE,OAAOnB,kBAAkB,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;AAC5C,CAAC;;ACFD,IAAI,mBAAmB,GAAG,KAAK,CAAC,YAAY,EAAEoB,UAAU,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;AAChE;AACA;AACA;AACAR,OAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,mBAAmB,EAAE,EAAE;AACjE,EAAE,IAAI,EAAE,SAAS,IAAI,CAAC,EAAE,EAAE;AAC1B,IAAI,OAAOQ,UAAU,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;AACpC,GAAG;AACH,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ICXIC;AACL,mCAAyD;AAAA,QAA7CC,OAA6C,uEAAnC;AAACC,MAAAA,MAAM,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE,EAApB;AAAwBC,MAAAA,IAAI,EAAE;AAA9B,KAAmC;;AAAA;;AACxD,SAAKH,OAAL,GAAeA,OAAf;AACA;;;;+BACUI,KAAKC,OAAOC,MAAM;AAC5B,UAAIC,MAAM,GAAGD,IAAI,IAAI,QAArB;;AACA,UAAID,KAAK,KAAKG,SAAd,EAAyB;AAAEH,QAAAA,KAAK,GAAG,KAAKL,OAAL,CAAaO,MAAb,EAAqBE,MAA7B;AAAsC;;AACjE,WAAKT,OAAL,CAAaO,MAAb,EAAqBG,MAArB,CAA4BL,KAA5B,EAAmC,CAAnC,EAAsCD,GAAtC;AACA,aAAO,IAAP;AACA;;;+BACWA,KAAKE,MAAM;AACtB,UAAIC,MAAM,GAAGD,IAAI,IAAI,QAArB;;AACA,WAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKZ,OAAL,CAAaO,MAAb,EAAqBE,MAA3C,EAAmDE,CAAC,GAAGC,GAAvD,EAA4DD,CAAC,EAA7D,EAAiE;AAChE,YAAI,KAAKX,OAAL,CAAaO,MAAb,EAAqBI,CAArB,EAAwBE,QAAxB,KAAqCT,GAAG,CAACS,QAA7C,EAAuD;AACtD,eAAKb,OAAL,CAAaO,MAAb,EAAqBG,MAArB,CAA4BC,CAA5B,EAA+B,CAA/B;AACA;AACA;AACD;;AACD,aAAO,IAAP;AACA;;;mCACcL,MAAM;AACpB,UAAI,CAACA,IAAL,EAAW;AACV,aAAKN,OAAL,GAAe;AAACC,UAAAA,MAAM,EAAE,EAAT;AAAaC,UAAAA,KAAK,EAAE;AAApB,SAAf;AACA,OAFD,MAEO,IAAII,IAAI,KAAK,OAAb,EAAsB;AAC5B,aAAKN,OAAL,CAAaE,KAAb,GAAqB,EAArB;AACA,OAFM,MAEA;AACN,aAAKF,OAAL,CAAaC,MAAb,GAAsB,EAAtB;AACA;;AACD,aAAO,IAAP;AACA;;;+BACU;AACV,aAAO,KAAKD,OAAZ;AACA;;;;;;AAGFc,CAAC,CAACf,qBAAF,GAA0BA,qBAA1B;AAEA,8BAAee,CAAC,CAACf,qBAAjB;;AClCA,IAAMgB,SAAS,GAAG,SAAlB;AACA,IAAMC,YAAY,GAAG,OAArB;AAEAF,CAAC,CAACG,UAAF,GAAeH,CAAC,CAACI,KAAF,CAAQC,MAAR,CAAe;AAC1BnB,EAAAA,OAAO,EAAE;AACLM,IAAAA,IAAI,EAAE;AADD,GADiB;AAI1Bc,EAAAA,QAAQ,EAAEN,CAAC,CAACO,OAAF,GAAYP,CAAC,CAACO,OAAF,CAAUC,SAAtB,GAAkCR,CAAC,CAACS,KAAF,CAAQC,MAJ1B;AAM1BC,EAAAA,UAAU,EAAE,oBAAUC,GAAV,EAAe;AACvB,SAAKC,IAAL,GAAYD,GAAZ;AACA,SAAKE,KAAL,GAAa,EAAb;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,WAAL,GAAmB,IAAIC,uBAAJ,CAAgB;AACxC;AACA9B,MAAAA,MAAM,EAAE,CAAC;AAAC+B,QAAAA,IAAI,EAAE;AAAP,OAAD,EAAiB;AAACA,QAAAA,IAAI,EAAE;AAAP,OAAjB,EAAmC;AAACA,QAAAA,IAAI,EAAE;AAAP,OAAnC,EAA2D;AAACA,QAAAA,IAAI,EAAE;AAAP,OAA3D,CAFgC;AAEsD;AAC9FC,MAAAA,IAAI,EAAE,CAAC;AAACD,QAAAA,IAAI,EAAE;AAAP,OAAD,EAAiB;AAACA,QAAAA,IAAI,EAAE;AAAP,OAAjB,CAHkC;AAIxC7B,MAAAA,IAAI,EAAE,CAAC;AAAC6B,QAAAA,IAAI,EAAE;AAAP,OAAD,EAAmB;AAACA,QAAAA,IAAI,EAAE;AAAP,OAAnB;AAJkC,KAAhB,CAAnB;;AAOA,QAAIlB,CAAC,CAACoB,OAAF,IAAapB,CAAC,CAACoB,OAAF,CAAUC,gBAA3B,EAA6C;AAClD,UAAIC,KAAK,GAAG,4BAAZ;AACA,UAAIC,OAAO,GAAG1E,QAAQ,CAAC2E,eAAT,CAAyBF,KAAzB,EAAgC,GAAhC,CAAd;AACStB,MAAAA,CAAC,CAACyB,OAAF,CAAUC,QAAV,CAAmBH,OAAnB,EAA4B,YAA5B;AACA,UAAII,EAAE,GAAG9E,QAAQ,CAAC2E,eAAT,CAAyBF,KAAzB,EAAgC,MAAhC,CAAT;AACAK,MAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B,CAA9B;AACAD,MAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,IAAxB,EAA8B,CAA9B;AACAD,MAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,QAAxB,EAAkC,EAAlC;AACA5B,MAAAA,CAAC,CAACyB,OAAF,CAAUC,QAAV,CAAmBC,EAAnB,EAAuB,cAAvB;AAEA,UAAIT,IAAI,GAAGrE,QAAQ,CAAC2E,eAAT,CAAyBF,KAAzB,EAAgC,MAAhC,CAAX;AACA,UAAIO,kBAAkB,GAAG7B,CAAC,CAACyB,OAAF,CAAUK,QAAV,CACrB,CAAC,YAAD,EAAe,kBAAf,EAAmC,aAAnC,EAAkD,eAAlD,EAAmE,cAAnE,CADqB,CAAzB;AAEAZ,MAAAA,IAAI,CAACa,KAAL,CAAWF,kBAAX,IAAiC,MAAjC;AACAN,MAAAA,OAAO,CAACS,WAAR,CAAoBL,EAApB;AACAJ,MAAAA,OAAO,CAACS,WAAR,CAAoBd,IAApB;;AAEA,WAAKe,WAAL,GAAmB,YAAW;AAC1BV,QAAAA,OAAO,CAACK,cAAR,CAAuB,IAAvB,EAA6B,YAA7B,EAA2C,QAA3C;AACH,OAFD;;AAGA,WAAKM,WAAL,GAAmB,UAASC,KAAT,EAAgBC,aAAhB,EAA+B;AAC9C,YAAIC,CAAC,GAAGF,KAAK,CAACE,CAAN,GAAU,EAAlB;AAAA,YACIC,CAAC,GAAGH,KAAK,CAACG,CAAN,GAAU,EADlB;AAEApB,QAAAA,IAAI,CAACU,cAAL,CAAoB,IAApB,EAA0B,GAA1B,EAA+BS,CAA/B;AACAnB,QAAAA,IAAI,CAACU,cAAL,CAAoB,IAApB,EAA0B,GAA1B,EAA+BU,CAA/B;AACApB,QAAAA,IAAI,CAACqB,WAAL,GAAmBH,aAAnB;;AACA,YAAIb,OAAO,CAACiB,cAAR,CAAuB,IAAvB,EAA6B,YAA7B,MAA+C,SAAnD,EAA8D;AAC1D,WAAC,KAAK3B,IAAL,CAAU4B,SAAV,IAAuB,KAAK5B,IAAL,CAAU6B,SAAV,CAAoBC,UAA5C,EAAwDX,WAAxD,CAAoET,OAApE;;AACAA,UAAAA,OAAO,CAACK,cAAR,CAAuB,IAAvB,EAA6B,YAA7B,EAA2C,SAA3C;AACH;;AACD,YAAIjC,MAAM,GAAGuB,IAAI,CAAC0B,qBAAL,EAAb;AACAjB,QAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,OAAxB,EAAiCjC,MAAM,GAAG,CAA1C;AACAgC,QAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BS,CAAC,GAAG,CAAjC;AACAV,QAAAA,EAAE,CAACC,cAAH,CAAkB,IAAlB,EAAwB,GAAxB,EAA6BU,CAAC,GAAG,EAAjC;AACH,OAdD;AAeH;;AACD,SAAKO,EAAL,CAAQ,oBAAR,EAA8B,UAAUC,EAAV,EAAc;AACxC,WAAKC,QAAL,GAAgB,KAAKC,SAAL,GAAiBF,EAAE,CAACG,IAApC;;AACT,WAAKpC,IAAL,CAAUqC,eAAV,CAA0B,KAAKH,QAAL,KAAkB,MAAlB,GAA2B,SAA3B,GAAuC,QAAjE;AACM,KAHD,EAGG,IAHH;AAIH,GAzDyB;AA2D1BI,EAAAA,YAAY,EAAE,wBAAY;AACtB,SAAK,IAAItD,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIuD,IAAI,GAAG,KAAKtC,KAAL,CAAWjB,CAAX,CAAX;;AACA,UAAIuD,IAAI,CAACvC,IAAL,IAAa,kBAAkBuC,IAAnC,EAAyC;AAAEA,QAAAA,IAAI,CAACD,YAAL;AAAsB;AACpE;AACJ,GAhEyB;AAkE1BE,EAAAA,UAAU,EAAE,oBAAU/D,GAAV,EAAeJ,OAAf,EAAwB;AAChC,QAAIoE,GAAG,GAAG,EAAV;AAAA,QACIC,UAAU,GAAGjE,GAAG,YAAYU,CAAC,CAACwD,OADlC;;AAEA,QAAI,CAACD,UAAL,EAAiB;AACbjE,MAAAA,GAAG,GAAGU,CAAC,CAACyD,OAAF,CAAUnE,GAAV,EAAeJ,OAAf,CAAN;AACH;;AACD,QAAII,GAAG,YAAYU,CAAC,CAACwD,OAArB,EAA8B;AAC1B,UAAIE,MAAM,GAAGpE,GAAG,CAACqE,SAAJ,EAAb;;AACA,UAAID,MAAJ,EAAY;AACR,YAAIE,UAAU,GAAG,SAAbA,UAAa,CAAUC,EAAV,EAAc;AAC3B,cAAIC,cAAc,GAAG,IAArB;;AACA,cAAID,EAAE,CAACE,QAAH,IAAe7E,OAAf,IAA0BA,OAAO,CAAC8E,SAAtC,EAAiD;AAC7CF,YAAAA,cAAc,GAAG,EAAjB;;AACA,iBAAK,IAAIG,GAAT,IAAgB/E,OAAO,CAAC8E,SAAxB,EAAmC;AAC/BF,cAAAA,cAAc,CAACG,GAAD,CAAd,GAAsB/E,OAAO,CAAC8E,SAAR,CAAkBC,GAAlB,CAAtB;AACH;;AACDJ,YAAAA,EAAE,CAACE,QAAH,CAAY7E,OAAO,CAAC8E,SAApB;AACH;;AACD,cAAIE,CAAC,GAAG,KAAKC,GAAL,CAASN,EAAT,EAAa3E,OAAb,CAAR;AACAgF,UAAAA,CAAC,CAACJ,cAAF,GAAmBA,cAAnB;AACAR,UAAAA,GAAG,CAACc,IAAJ,CAASF,CAAT;AACH,SAZD;;AAaA,aAAK,IAAIrE,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG4D,MAAM,CAAC/D,MAA7B,EAAqCE,CAAC,GAAGC,GAAzC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/C,cAAIwE,KAAK,GAAGX,MAAM,CAAC7D,CAAD,CAAlB;;AAEA,cAAIwE,KAAK,CAACC,OAAN,CAAcC,QAAd,CAAuB/E,IAAvB,KAAgC,oBAApC,EAA0D;AACtD6E,YAAAA,KAAK,GAAGrE,CAAC,CAACwE,UAAF,CAAa,CAACH,KAAD,CAAb,CAAR;AACH;;AACDA,UAAAA,KAAK,CAACI,SAAN,CAAgBb,UAAhB,EAA4B,IAA5B;AACH;AACJ;AACJ;;AACD,WAAON,GAAP;AACH,GAnGyB;AAqG1Ba,EAAAA,GAAG,EAAE,aAAU7E,GAAV,EAAeJ,OAAf,EAAwB;AACzB,QAAIkE,IAAI,GAAG,IAAX;AACNlE,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;AACM,QAAII,GAAJ,EAAS;AACL,UAAIA,GAAG,YAAYU,CAAC,CAACG,UAAF,CAAauE,OAAhC,EAAyC;AACrCtB,QAAAA,IAAI,GAAG9D,GAAP;AACH,OAFD,MAEO;AACH,YAAIqF,WAAW,GAAG,EAAlB;;AACZ,YAAIrF,GAAG,CAACgF,OAAJ,IAAehF,GAAG,CAACgF,OAAJ,CAAYC,QAA/B,EAAyC;AACxC,cAAI/E,IAAI,GAAGF,GAAG,CAACgF,OAAJ,CAAYC,QAAZ,CAAqB/E,IAAhC;;AACA,cAAIA,IAAI,KAAK,OAAb,EAAsB;AACrBF,YAAAA,GAAG,GAAG,IAAIU,CAAC,CAAC4E,MAAN,CAAatF,GAAG,CAACuF,OAAjB,CAAN;AACA,WAFD,MAEO,IAAIrF,IAAI,KAAK,cAAb,EAA6B;AACnCmF,YAAAA,WAAW,CAACnF,IAAZ,GAAmBA,IAAnB;AACA;AACD,SATc;AAWH;;;AACA,YAAI,CAACN,OAAD,IAAY,EAAE,cAAcA,OAAhB,CAAhB,EAA0C;AAAEyF,UAAAA,WAAW,CAACG,QAAZ,GAAuB,IAAvB;AAA8B;;AAC1E,YAAIxF,GAAG,CAACiF,QAAR,EAAsB;AAAEI,UAAAA,WAAW,CAACnF,IAAZ,GAAmBF,GAAG,CAACiF,QAAJ,CAAa/E,IAAhC;AAAuC,SAA/D,MACK,IAAIF,GAAG,YAAYU,CAAC,CAAC+E,SAArB,EAAoC;AAAEJ,UAAAA,WAAW,CAACnF,IAAZ,GAAmB,WAAnB;AAAiC,SAAvE,MACA,IAAIF,GAAG,YAAYU,CAAC,CAACgF,OAArB,EAA+B;AAAEL,UAAAA,WAAW,CAACnF,IAAZ,GAAmBmF,WAAW,CAACnF,IAAZ,IAAoB,SAAvC;AAAmD,SAApF,MACA,IAAIQ,CAAC,CAACiF,YAAF,IAAkB3F,GAAG,YAAYU,CAAC,CAACiF,YAAvC,EAAsD;AAAEN,UAAAA,WAAW,CAACnF,IAAZ,GAAmB,cAAnB;AAAoC,SAA5F,MACA,IAAIF,GAAG,YAAYU,CAAC,CAACkF,QAArB,EAA+B;AAAEP,UAAAA,WAAW,CAACnF,IAAZ,GAAmB,UAAnB;AAAgC,SAAjE,MACA,IAAIQ,CAAC,CAACmF,aAAF,IAAmB7F,GAAG,YAAYU,CAAC,CAACmF,aAAxC,EAAuD;AAAER,UAAAA,WAAW,CAACnF,IAAZ,GAAmB,eAAnB;AAAqC,SAA9F,MACA,IAAIF,GAAG,CAAC8F,OAAJ,IAAe9F,GAAG,YAAYU,CAAC,CAAC4E,MAApC,EAA4C;AAC7CD,UAAAA,WAAW,CAACnF,IAAZ,GAAmB,OAAnB;AAA4BmF,UAAAA,WAAW,CAACG,QAAZ,GAAuB,KAAvB;AAC5BxF,UAAAA,GAAG,CAACJ,OAAJ,CAAYmG,SAAZ,GAAwB,IAAxB;AACH;;AACDnG,QAAAA,OAAO,GAAG,KAAKoG,eAAL,CAAqBX,WAAW,CAACnF,IAAjC,EAAuCN,OAAvC,CAAV;AACAc,QAAAA,CAAC,CAACK,MAAF,CAASnB,OAAT,EAAkByF,WAAlB;;AACA,YAAIrF,GAAG,CAACiF,QAAR,EAAkB;AACd,cAAIgB,SAAS,GAAGrG,OAAO,CAACsG,WAAR,IAAuBtG,OAAO,CAACsG,WAAR,CAAoBD,SAA3D;;AACA,cAAIrG,OAAO,CAACM,IAAR,KAAiB,OAAjB,IACA,CAACN,OAAO,CAACuG,YADT,IAEAF,SAFJ,EAGE;AACErG,YAAAA,OAAO,CAACwG,IAAR,GAAe1F,CAAC,CAAC0F,IAAF,CAAOH,SAAP,CAAf;;AACArG,YAAAA,OAAO,CAACuG,YAAR,GAAuB,UAAUE,OAAV,EAAmBC,MAAnB,EAA2B;AAC7C,qBAAO,IAAI5F,CAAC,CAAC4E,MAAN,CAAagB,MAAb,EAAqB1G,OAArB,CAAP;AACJ,aAFD;AAGH;;AACD,iBAAO,KAAKmE,UAAL,CAAgB/D,GAAhB,EAAqBJ,OAArB,CAAP;AACH;;AACDkE,QAAAA,IAAI,GAAG,IAAIpD,CAAC,CAACG,UAAF,CAAauE,OAAjB,CAAyB,IAAzB,EAA+BpF,GAA/B,EAAoCJ,OAApC,CAAP;AACH;;AACD,UAAI,EAAE,SAASA,OAAX,CAAJ,EAAyB;AAAEA,QAAAA,OAAO,CAAC0B,GAAR,GAAc,IAAd;AAAqB;;AAChD,UAAI1B,OAAO,CAAC0B,GAAR,IAAe,CAACwC,IAAI,CAACvC,IAArB,IAA6B,KAAKA,IAAtC,EAA4C;AAAE,aAAKA,IAAL,CAAUgF,QAAV,CAAmBzC,IAAnB;AAA2B,OAAzE,MACK;AAAE,aAAK0C,QAAL,CAAc1C,IAAd;AAAsB,OA7CxB;AA+CL;;;AACA,UAAI,iBAAiBA,IAArB,EAA2B;AAAEA,QAAAA,IAAI,CAAC2C,WAAL;AAAqB;AACrD;;AACD,WAAO3C,IAAP;AACH,GA3JyB;AA6J1B4C,EAAAA,YAAY,EAAE,wBAAY;AAC5B,QAAI,KAAKnF,IAAT,EAAe;AACd,WAAKA,IAAL,CAAUoF,QAAV,CAAmBC,OAAnB;;AACAlG,MAAAA,CAAC,CAACyB,OAAF,CAAU0E,oBAAV;AACAnG,MAAAA,CAAC,CAACyB,OAAF,CAAU2E,gBAAV;;AACA,WAAKvF,IAAL,CAAUqC,eAAV,CAA0BmD,WAA1B;AACA;AACE,GApKyB;AAsK1BC,EAAAA,WAAW,EAAE,uBAAY;AAC3B,QAAI,KAAKzF,IAAT,EAAe;AACd,WAAKA,IAAL,CAAUoF,QAAV,CAAmBM,MAAnB;;AACAvG,MAAAA,CAAC,CAACyB,OAAF,CAAU+E,mBAAV;AACAxG,MAAAA,CAAC,CAACyB,OAAF,CAAUgF,eAAV;;AACA,WAAK5F,IAAL,CAAUqC,eAAV,CAA0BwD,QAA1B;AACA;AACE,GA7KyB;AA+K1BC,EAAAA,WAAW,EAAE,uBAAY;AAC3B,SAAKC,YAAL;AACG,GAjLyB;AAmL1BA,EAAAA,YAAY,EAAE,wBAAY;AACtB,QAAI,KAAKC,UAAL,IAAmB,KAAKhG,IAA5B,EAAkC;AAC9B,UAAI,KAAKgG,UAAL,CAAgBrH,IAAhB,KAAyB,WAAzB,IAAwCQ,CAAC,CAAC8G,OAAF,CAAUC,MAAtD,EAA8D;AAC1D/G,QAAAA,CAAC,CAACgH,QAAF,CAAWC,GAAX,CAAe,KAAKpG,IAAL,CAAU8B,UAAzB,EAAqC,YAArC,EAAmD,KAAKkE,UAAL,CAAgBK,EAAnE,EAAuE,IAAvE;AACH,OAFD,MAEO;AACH,aAAKrG,IAAL,CAAUoG,GAAV,CAAc,KAAKJ,UAAL,CAAgBM,SAA9B,EAAyC,KAAKN,UAAL,CAAgBK,EAAzD,EAA6D,IAA7D;;AACA,aAAKrG,IAAL,CAAUoG,GAAV,CAAc,WAAd,EAA2B,KAAKG,YAAhC,EAA8C,IAA9C;AACH;;AACD,WAAKd,WAAL;AACH;;AACP,QAAI,KAAKe,WAAT,EAAsB;AACrB,WAAKxG,IAAL,CAAUyG,WAAV,CAAsB,KAAKD,WAA3B;;AACA,WAAKA,WAAL,GAAmB,IAAnB;AACA;;AAEK,SAAKR,UAAL,GAAkB,IAAlB;AACH,GAnMyB;AAqM1BvB,EAAAA,eAAe,EAAE,yBAAU9F,IAAV,EAAgB+H,WAAhB,EAA6B;AAC1C,QAAIC,aAAa,GAAGxH,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAvC;AAAA,QACIE,YAAY,GAAG,EADnB;;AAEA,QAAI,CAACH,WAAL,EAAkB;AACdA,MAAAA,WAAW,GAAGvH,CAAC,CAACK,MAAF,CAAS,EAAT,EAAamH,aAAb,CAAd;AACH;;AACD,QAAIhI,IAAI,KAAK,OAAb,EAAsB;AAClBQ,MAAAA,CAAC,CAACK,MAAF,CAASqH,YAAT,EAAuBF,aAAa,CAAChC,WAAd,CAA0BtG,OAA1B,CAAkCwG,IAAzD,EAA+D6B,WAA/D;AACH,KAFD,MAEO;AACHvH,MAAAA,CAAC,CAACK,MAAF,CAASqH,YAAT,EAAuBH,WAAvB;AACAG,MAAAA,YAAY,CAAC1D,SAAb,GAAyBhE,CAAC,CAACK,MAAF,CAAS,EAAT,EAAamH,aAAa,CAACxD,SAA3B,EAAsCuD,WAAW,CAACvD,SAAlD,CAAzB;AACA0D,MAAAA,YAAY,CAACC,UAAb,GAA0B3H,CAAC,CAACK,MAAF,CAAS,EAAT,EAAamH,aAAa,CAACG,UAA3B,EAAuCJ,WAAW,CAACI,UAAnD,CAA1B;AACAD,MAAAA,YAAY,CAACE,SAAb,GAAyB5H,CAAC,CAACK,MAAF,CAAS,EAAT,EAAamH,aAAa,CAACI,SAA3B,EAAsCL,WAAW,CAACK,SAAlD,CAAzB;AACH;;AAED,QAAIF,YAAY,CAACG,OAAjB,EAA0B;AACtB,UAAItC,SAAS,GAAG;AACZsC,QAAAA,OAAO,EAAEH,YAAY,CAACG;AADV,OAAhB;AAGA,aAAOH,YAAY,CAACG,OAApB;;AACA,UAAIH,YAAY,CAACI,UAAjB,EAA6B;AACzBvC,QAAAA,SAAS,CAACuC,UAAV,GAAuBJ,YAAY,CAACI,UAApC;AACA,eAAOJ,YAAY,CAACI,UAApB;AACH;;AACD,UAAIJ,YAAY,CAACK,QAAjB,EAA2B;AACvBxC,QAAAA,SAAS,CAACwC,QAAV,GAAqBL,YAAY,CAACK,QAAlC;AACA,eAAOL,YAAY,CAACK,QAApB;AACH;;AACD,UAAIL,YAAY,CAACM,WAAjB,EAA8B;AAC1BzC,QAAAA,SAAS,CAACyC,WAAV,GAAwBN,YAAY,CAACM,WAArC;AACA,eAAON,YAAY,CAACM,WAApB;AACH;;AACD,UAAIN,YAAY,CAACO,UAAjB,EAA6B;AACzB1C,QAAAA,SAAS,CAAC0C,UAAV,GAAuBP,YAAY,CAACO,UAApC;AACA,eAAOP,YAAY,CAACO,UAApB;AACH;;AACDP,MAAAA,YAAY,CAAClC,WAAb,GAA2B;AACvBD,QAAAA,SAAS,EAAEA;AADY,OAA3B;AAGH;;AACD,WAAOmC,YAAP;AACH,GA9OyB;AAgP1BQ,EAAAA,MAAM,EAAE,gBAAU1I,IAAV,EAAgBN,OAAhB,EAAyB;AAC7B,SAAK0H,YAAL,CAAkB,IAAlB;;AACA,QAAIpH,IAAI,IAAI,KAAKqB,IAAjB,EAAuB;AACnB,UAAID,GAAG,GAAG,KAAKC,IAAf;AAAA,UACI0G,WAAW,GAAG,KAAKjC,eAAL,CAAqB9F,IAArB,EAA2BN,OAA3B,CADlB;AAAA,UAEIiJ,EAAE,GAAG,IAFT;;AAIA,UAAI3I,IAAI,KAAK,WAAb,EAA0B;AACtB;AACAoB,QAAAA,GAAG,CAACqF,QAAJ,CAAaC,OAAb;AACH;;AAED,WAAKW,UAAL,GAAkB;AACdrH,QAAAA,IAAI,EAAEA,IADQ;AAEd2H,QAAAA,SAAS,EAAE3H,IAAI,KAAK,WAAT,GAAwBQ,CAAC,CAAC8G,OAAF,CAAUC,MAAV,GAAmB,YAAnB,GAAkC,WAA1D,GAAyE,OAFtE;AAGdG,QAAAA,EAAE,EAAE,YAAUpE,EAAV,EAAc;AAC7B,cAAIsF,aAAa,GAAGtF,EAAE,IAAIA,EAAE,CAACsF,aAA7B;AAAA,cACmBC,OAAO,GAAG,KAD7B;AAAA,cACoCC,QAAQ,GAAG,KAD/C;AAAA,cACsDC,MAAM,GAAG,KAD/D;;AAEA,cAAIH,aAAJ,EAAmB;AACAC,YAAAA,OAAO,GAAGD,aAAa,CAACC,OAAxB;AACAC,YAAAA,QAAQ,GAAGF,aAAa,CAACE,QAAzB;AACAC,YAAAA,MAAM,GAAGH,aAAa,CAACG,MAAvB;AAClB,gBAAIC,UAAU,GAAGJ,aAAa,CAACK,MAAd,CAAqBC,OAAtC;;AACA,gBAAIF,UAAU,KAAK,GAAf,IAAsBA,UAAU,KAAK,MAAzC,EAAiD;AAAE;AAAS;AAC5D;;AACcL,UAAAA,EAAE,CAACQ,WAAH,GAAiB,EAAjB;AACA,cAAIrJ,GAAJ;AAAA,cAAS2E,GAAT;AAAA,cACI2E,GAAG,GAAG,EADV;AAAA,cAEIhD,MAAM,GAAG9C,EAAE,CAAC8C,MAFhB;;AAIA,eAAK3B,GAAL,IAAYsD,WAAZ,EAAyB;AACrB,gBAAI,EAAEtD,GAAG,IAAIjE,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAA5B,CAAJ,EAAgD;AAC5CoB,cAAAA,GAAG,CAAC3E,GAAD,CAAH,GAAWsD,WAAW,CAACtD,GAAD,CAAtB;AACH;AACJ;;AAChB,cAAIoE,OAAO,IAAIF,EAAE,CAACd,WAAd,IAA6Bc,EAAE,CAACd,WAAH,CAAewB,OAAhD,EAAyD;AACxDjD,YAAAA,MAAM,GAAGuC,EAAE,CAACd,WAAH,CAAewB,OAAxB;AACA;;AAEc,cAAIrJ,IAAI,KAAK,OAAb,EAAsB;AAClB,gBAAIgG,WAAW,GAAG+B,WAAW,CAAC/B,WAAZ,IAA2B,EAA7C;AAAA,gBACIsD,SAAS,GAAG;AACRzD,cAAAA,SAAS,EAAE;AADH,aADhB;;AAIA,gBAAI+C,aAAJ,EAAmB;AACfU,cAAAA,SAAS,CAACT,OAAV,GAAoBA,OAApB;AACAS,cAAAA,SAAS,CAACR,QAAV,GAAqBA,QAArB;AACAQ,cAAAA,SAAS,CAACP,MAAV,GAAmBA,MAAnB;AACH;;AACD,gBAAI/C,WAAW,CAACD,SAAhB,EAA2B;AACvBuD,cAAAA,SAAS,CAACpD,IAAV,GAAiB1F,CAAC,CAAC0F,IAAF,CAAOF,WAAW,CAACD,SAAnB,CAAjB;AACH;;AACDjG,YAAAA,GAAG,GAAG6I,EAAE,CAAChE,GAAH,CAAO,IAAInE,CAAC,CAAC4E,MAAN,CAAagB,MAAb,EAAqBkD,SAArB,CAAP,EAAwCF,GAAxC,CAAN;AACH,WAdD,MAcO;AACH,gBAAIrB,WAAW,CAACI,UAAhB,EAA4B;AAAEiB,cAAAA,GAAG,CAACjB,UAAJ,GAAiBJ,WAAW,CAACI,UAA7B;AAA0C;;AACxE,gBAAIJ,WAAW,CAACvD,SAAhB,EAA2B;AAAE4E,cAAAA,GAAG,CAAC5E,SAAJ,GAAgBuD,WAAW,CAACvD,SAA5B;AAAwC;;AACvF,gBAAIxE,IAAI,KAAK,WAAb,EAA0B;AACJ;AACI;AACA;AACJ;AACAoJ,cAAAA,GAAG,CAAC3F,IAAJ,GAAW,MAAX;AACA3D,cAAAA,GAAG,GAAG6I,EAAE,CAAChE,GAAH,CACFnE,CAAC,CAAC+I,SAAF,CAAY/I,CAAC,CAACgJ,YAAF,CAAehJ,CAAC,CAACiJ,MAAF,CAASrD,MAAM,CAACsD,GAAP,GAAajJ,SAAtB,EAAiC2F,MAAM,CAACuD,GAAP,GAAalJ,SAA9C,CAAf,EAAyE2F,MAAzE,CAAZ,CADE,EAEJgD,GAFI,CAAN;;AAGA,kBAAI5I,CAAC,CAAC8G,OAAF,CAAUC,MAAd,EAAsB;AAAEzH,gBAAAA,GAAG,CAAC8J,eAAJ,CAAoBtG,EAApB,EAAwB,IAAxB;AAAgC,eAAxD,MACK;AAAExD,gBAAAA,GAAG,CAAC+J,UAAJ,CAAevG,EAAf;AAAqB;;AAE5BxD,cAAAA,GAAG,CAACgK,KAAJ,CAAU,CAAV,EAAaC,IAAb,CAAkBC,SAAlB,GAA8B,IAA9B;AACH,aAbnB,MAayB,IAAIhK,IAAI,KAAK,SAAb,EAAwB;AAC3BoJ,cAAAA,GAAG,CAAC3F,IAAJ,GAAW,KAAX;AACA3D,cAAAA,GAAG,GAAG6I,EAAE,CAAChE,GAAH,CAAOnE,CAAC,CAACyJ,OAAF,CAAU,CAAC7D,MAAD,CAAV,CAAP,EAA4BgD,GAA5B,CAAN;AACAtJ,cAAAA,GAAG,CAACoK,UAAJ;AACH,aAJM,MAIA,IAAIlK,IAAI,KAAK,UAAb,EAAyB;AAC5BoJ,cAAAA,GAAG,CAAC3F,IAAJ,GAAW,KAAX;AACA3D,cAAAA,GAAG,GAAG6I,EAAE,CAAChE,GAAH,CAAOnE,CAAC,CAAC2J,QAAF,CAAW,CAAC/D,MAAD,CAAX,CAAP,EAA6BgD,GAA7B,EAAkCc,UAAlC,EAAN;AACH;AACJ;;AACDvB,UAAAA,EAAE,CAACvB,YAAH;AACH;AAnEa,OAAlB;;AAqEA,UAAIpH,IAAI,KAAK,WAAT,IAAwBQ,CAAC,CAAC8G,OAAF,CAAUC,MAAtC,EAA8C;AAC1C/G,QAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAcjC,GAAG,CAAC+B,UAAlB,EAA8B,YAA9B,EAA4C,KAAKkE,UAAL,CAAgBK,EAA5D,EAAgE,IAAhE;AACH,OAFD,MAEO;AACHtG,QAAAA,GAAG,CAACiC,EAAJ,CAAO,KAAKgE,UAAL,CAAgBM,SAAvB,EAAkC,KAAKN,UAAL,CAAgBK,EAAlD,EAAsD,IAAtD;AACAtG,QAAAA,GAAG,CAACiC,EAAJ,CAAO,WAAP,EAAoB,KAAKuE,YAAzB,EAAuC,IAAvC;AACH;;AACD,WAAKuB,WAAL,GAAmBnJ,IAAnB;AACAQ,MAAAA,CAAC,CAACyB,OAAF,CAAUC,QAAV,CAAmBd,GAAG,CAACgJ,QAAvB,EAAiC,mBAAjC;AACA,WAAKC,IAAL,CAAU,WAAV,EAAuB;AAAC5G,QAAAA,IAAI,EAAEzD;AAAP,OAAvB;AACH;;AACD,SAAKN,OAAL,CAAaM,IAAb,GAAoBA,IAApB;AACH,GA5UyB;AA8U1B4H,EAAAA,YAAY,EAAE,sBAAUtE,EAAV,EAAc;AAC9B,QAAIgH,OAAO,GAAG,CAAChH,EAAE,CAAC8C,MAAJ,CAAd;;AAEA,QAAI,CAAC,KAAKyB,WAAV,EAAuB;AACtB,WAAKA,WAAL,GAAmB,IAAIrH,CAAC,CAACG,UAAF,CAAa4J,YAAjB,CAA8BD,OAA9B,EAAuC;AAACE,QAAAA,WAAW,EAAE;AAAd,OAAvC,CAAnB;;AACA,WAAKnJ,IAAL,CAAUgF,QAAV,CAAmB,KAAKwB,WAAxB;AACA,KAHD,MAGO;AACN,WAAKA,WAAL,CAAiB4C,UAAjB,CAA4BH,OAA5B;AACA;AACE,GAvVyB;AAyV1BI,EAAAA,mBAAmB,EAAE,6BAAU3C,WAAV,EAAuB;AACxC,QAAIC,aAAa,GAAGxH,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAvC;AACAD,IAAAA,WAAW,GAAGA,WAAW,IAAI,EAA7B;;AACA,QAAIA,WAAW,CAACM,OAAhB,EAAyB;AACrB,UAAItC,SAAS,GAAGiC,aAAa,CAAChC,WAAd,CAA0BtG,OAA1B,CAAkCwG,IAAlD;AACAH,MAAAA,SAAS,CAACsC,OAAV,GAAoBN,WAAW,CAACM,OAAhC;AACA,aAAON,WAAW,CAACM,OAAnB;;AACA,UAAIN,WAAW,CAACO,UAAhB,EAA4B;AACxBvC,QAAAA,SAAS,CAACuC,UAAV,GAAuBP,WAAW,CAACO,UAAnC;AACA,eAAOP,WAAW,CAACO,UAAnB;AACH;;AACD,UAAIP,WAAW,CAACQ,QAAhB,EAA0B;AACtBxC,QAAAA,SAAS,CAACwC,QAAV,GAAqBR,WAAW,CAACQ,QAAjC;AACA,eAAOR,WAAW,CAACQ,QAAnB;AACH;;AACD,UAAIR,WAAW,CAACS,WAAhB,EAA6B;AACzBzC,QAAAA,SAAS,CAACyC,WAAV,GAAwBT,WAAW,CAACS,WAApC;AACA,eAAOT,WAAW,CAACS,WAAnB;AACH;;AACD,UAAIT,WAAW,CAACU,UAAhB,EAA4B;AACxB1C,QAAAA,SAAS,CAAC0C,UAAV,GAAuBV,WAAW,CAACU,UAAnC;AACA,eAAOV,WAAW,CAACU,UAAnB;AACH;AACJ;;AACD,QAAIV,WAAW,CAACvD,SAAhB,EAA2B;AACvBhE,MAAAA,CAAC,CAACK,MAAF,CAASmH,aAAa,CAACxD,SAAvB,EAAkCuD,WAAW,CAACvD,SAA9C;AACA,aAAOuD,WAAW,CAACvD,SAAnB;AACH;;AACD,QAAIuD,WAAW,CAACI,UAAhB,EAA4B;AACxB3H,MAAAA,CAAC,CAACK,MAAF,CAASmH,aAAa,CAACG,UAAvB,EAAmCJ,WAAW,CAACI,UAA/C;AACA,aAAOJ,WAAW,CAACI,UAAnB;AACH;;AACD,QAAIJ,WAAW,CAACK,SAAhB,EAA2B;AACvB5H,MAAAA,CAAC,CAACK,MAAF,CAASmH,aAAa,CAACI,SAAvB,EAAkCL,WAAW,CAACK,SAA9C;AACA,aAAOL,WAAW,CAACK,SAAnB;AACH;;AACD5H,IAAAA,CAAC,CAACK,MAAF,CAASmH,aAAT,EAAwBD,WAAxB;AACA,WAAO,IAAP;AACH,GA/XyB;AAiY1B4C,EAAAA,WAAW,EAAE,uBAAY;AACrB,QAAIC,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIvK,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnDuK,MAAAA,GAAG,CAAChG,IAAJ,CAAS,KAAKtD,KAAL,CAAWjB,CAAX,CAAT;AACH;;AACD,WAAOuK,GAAP;AACH,GAvYyB;AAyY1BC,EAAAA,SAAS,EAAE,mBAAUC,IAAV,EAAgB;AACvB;AAEA,QAAIC,KAAK,GAAG,IAAZ;AAAA,QACIC,iBAAiB,GAAGF,IAAI,CAACE,iBAD7B;;AAEAxK,IAAAA,CAAC,CAACyD,OAAF,CAAU+G,iBAAV,EAA6B;AACzBC,MAAAA,aAAa,EAAE,uBAAUnG,OAAV,EAAmBD,KAAnB,EAA0B;AACrC,YAAInF,OAAO,GAAGoF,OAAO,CAACoG,UAAtB;AAAA,YACIC,WAAW,GAAGzL,OAAO,CAACyL,WAD1B;;AAEA,YAAIzL,OAAO,CAACM,IAAR,KAAiB,WAArB,EAAkC;AAC9B6E,UAAAA,KAAK,GAAGrE,CAAC,CAAC+I,SAAF,CAAY1E,KAAK,CAACuG,SAAN,EAAZ,CAAR;AACH,SAFD,MAEO,IAAI1L,OAAO,CAACM,IAAR,KAAiB,OAArB,EAA8B;AACjCN,UAAAA,OAAO,GAAGA,OAAO,CAACA,OAAlB;AACA,cAAIwG,IAAI,GAAGxG,OAAO,CAACwG,IAAnB;;AACA,cAAIA,IAAJ,EAAU;AACN,mBAAOxG,OAAO,CAACwG,IAAf;;AACA,gBAAIA,IAAI,CAACmC,OAAT,EAAkB;AAAE3I,cAAAA,OAAO,CAACwG,IAAR,GAAe1F,CAAC,CAAC0F,IAAF,CAAOA,IAAP,CAAf;AAA8B;AACrD;;AACDrB,UAAAA,KAAK,GAAGrE,CAAC,CAAC6K,MAAF,CAASxG,KAAK,CAACyG,SAAN,EAAT,EAA4B5L,OAA5B,CAAR;AACH;;AACD,YAAImF,KAAK,CAACN,QAAN,IAAkB7E,OAAlB,IAA6BA,OAAO,CAAC8E,SAAzC,EAAoD;AAChDK,UAAAA,KAAK,CAACN,QAAN,CAAe7E,OAAO,CAAC8E,SAAvB;AACH;;AACDuG,QAAAA,KAAK,CAACpG,GAAN,CAAUE,KAAV,EAAiBnF,OAAjB;;AACA,YAAIyL,WAAJ,EAAiB;AACbtG,UAAAA,KAAK,CAAC0G,SAAN;AACH;AACJ;AAtBwB,KAA7B;AAwBH,GAtayB;AAwa1BC,EAAAA,SAAS,EAAE,qBAAY;AACnB,QAAIC,YAAY,GAAGjL,CAAC,CAACiL,YAAF,EAAnB;AACA,QAAI9L,MAAM,GAAG,EAAb;;AACA,SAAK,IAAIU,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIgE,EAAE,GAAG,KAAK/C,KAAL,CAAWjB,CAAX,CAAT;;AACA,UAAIgE,EAAE,CAAC3E,OAAH,CAAWM,IAAX,KAAoB,OAAxB,EAAiC;AAC7B,YAAImG,OAAO,GAAG9B,EAAE,CAACqH,SAAH,EAAd;AACAvF,QAAAA,OAAO,CAAC+E,UAAR,GAAqB1K,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkCtH,EAAE,CAAC3E,OAArC,EAA8Cc,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAnB,CAAiChC,WAA/E,CAArB;;AACA,YAAI,CAAC3B,EAAE,CAAChD,IAAR,EAAc;AAAE8E,UAAAA,OAAO,CAAC+E,UAAR,CAAmB9J,GAAnB,GAAyB,KAAzB;AAAiC,SAAjD,MACK,IAAIiD,EAAE,CAAChD,IAAH,CAAQuK,QAAR,CAAiBvH,EAAE,CAACwH,QAAH,EAAjB,CAAJ,EAAqC;AACtC1F,UAAAA,OAAO,CAAC+E,UAAR,CAAmBC,WAAnB,GAAiC,IAAjC;AACH;;AACD,YAAIW,GAAG,GAAGtL,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkCtH,EAAE,CAAC0H,IAAH,CAAQrM,OAA1C,EAAmDc,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAnB,CAAiChC,WAAjC,CAA6CtG,OAAhG,CAAV;;AACA,YAAIsM,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiB3L,MAArB,EAA6B;AAAEgG,UAAAA,OAAO,CAAC+E,UAAR,CAAmBxL,OAAnB,GAA6BoM,GAA7B;AAAmC;;AAClEA,QAAAA,GAAG,GAAGtL,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkCtH,EAAE,CAAC0H,IAAH,CAAQrM,OAAR,CAAgBwG,IAAhB,CAAqBxG,OAAvD,EAAgEc,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAnB,CAAiChC,WAAjC,CAA6CtG,OAA7C,CAAqDwG,IAArH,CAAN;;AACA,YAAI8F,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiB3L,MAArB,EAA6B;AACzB,cAAI,CAACgG,OAAO,CAAC+E,UAAR,CAAmBxL,OAAxB,EAAiC;AAAEyG,YAAAA,OAAO,CAAC+E,UAAR,CAAmBxL,OAAnB,GAA6B,EAA7B;AAAkC;;AACrEyG,UAAAA,OAAO,CAAC+E,UAAR,CAAmBxL,OAAnB,CAA2BwG,IAA3B,GAAkC4F,GAAlC;AACH;;AACDnM,QAAAA,MAAM,CAACiF,IAAP,CAAYuB,OAAZ;AACH,OAfD,MAeO;AACHsF,QAAAA,YAAY,CAACpF,QAAb,CAAsBhC,EAAtB;AACH;AACJ;;AACD,QAAI2G,iBAAiB,GAAGS,YAAY,CAACC,SAAb,EAAxB;AACAV,IAAAA,iBAAiB,CAACkB,QAAlB,GAA6BlB,iBAAiB,CAACkB,QAAlB,CAA2BC,MAA3B,CAAkCxM,MAAlC,CAA7B;AACA,WAAO;AACHyM,MAAAA,OAAO,EAAE1L,YADN;AAEHsK,MAAAA,iBAAiB,EAAEA;AAFhB,KAAP;AAIH,GAtcyB;AAwc1B1E,EAAAA,QAAQ,EAAE,kBAAU1C,IAAV,EAAgB;AACtB,QAAIyI,OAAO,GAAG,IAAd;;AACA,SAAK,IAAIhM,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIgE,EAAE,GAAG,KAAK/C,KAAL,CAAWjB,CAAX,CAAT;;AACA,UAAIgE,EAAE,KAAKT,IAAX,EAAiB;AACbyI,QAAAA,OAAO,GAAG,KAAV;AACA;AACH;AACJ;;AACD,QAAIA,OAAJ,EAAa;AAAE,WAAK/K,KAAL,CAAWsD,IAAX,CAAgBhB,IAAhB;AAAwB;;AACvC,SAAKyG,IAAL,CAAU,KAAV,EAAiB;AAAC5G,MAAAA,IAAI,EAAEG,IAAI,CAACH,IAAZ;AAAkB6I,MAAAA,MAAM,EAAE1I;AAA1B,KAAjB;AACH,GAndyB;AAqd1B2I,EAAAA,WAAW,EAAE,qBAAUzM,GAAV,EAAe0M,MAAf,EAAuB;AAChC,SAAK,IAAInM,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIuD,IAAI,GAAG,KAAKtC,KAAL,CAAWjB,CAAX,CAAX;;AACA,UAAIuD,IAAI,KAAK9D,GAAb,EAAkB;AACd,YAAI0M,MAAJ,EAAY;AACR,eAAKlL,KAAL,CAAWlB,MAAX,CAAkBC,CAAlB,EAAqB,CAArB;AACA,cAAIiD,EAAE,GAAG;AAACtD,YAAAA,IAAI,EAAE4D,IAAI,CAAClE,OAAL,CAAaM,IAApB;AAA0ByD,YAAAA,IAAI,EAAEG,IAAI,CAACH,IAArC;AAA2C6I,YAAAA,MAAM,EAAE1I;AAAnD,WAAT;AACA,eAAKyG,IAAL,CAAU,QAAV,EAAoB/G,EAApB;AACAM,UAAAA,IAAI,CAACyG,IAAL,CAAU,QAAV,EAAoB/G,EAApB;AACH;;AACD,eAAOM,IAAP;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAneyB;AAqe1B6I,EAAAA,KAAK,EAAE,iBAAY;AACf,SAAK,IAAIpM,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKgB,KAAL,CAAWnB,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIuD,IAAI,GAAG,KAAKtC,KAAL,CAAWjB,CAAX,CAAX;;AACA,UAAIuD,IAAI,IAAIA,IAAI,CAACvC,IAAjB,EAAuB;AACnBuC,QAAAA,IAAI,CAACvC,IAAL,CAAUyG,WAAV,CAAsBlE,IAAtB;AACH;;AACD,UAAIN,EAAE,GAAG;AAACtD,QAAAA,IAAI,EAAE4D,IAAI,CAAClE,OAAL,CAAaM,IAApB;AAA0ByD,QAAAA,IAAI,EAAEG,IAAI,CAACH,IAArC;AAA2C6I,QAAAA,MAAM,EAAE1I;AAAnD,OAAT;AACA,WAAKyG,IAAL,CAAU,QAAV,EAAoB/G,EAApB;AACAM,MAAAA,IAAI,CAACyG,IAAL,CAAU,QAAV,EAAoB/G,EAApB;AACH;;AACD,SAAKhC,KAAL,GAAa,EAAb;AACA,WAAO,IAAP;AACH,GAjfyB;AAmf1BkL,EAAAA,MAAM,EAAE,gBAAU1M,GAAV,EAAe;AACnB,QAAI8D,IAAI,GAAG,KAAK2I,WAAL,CAAiBzM,GAAjB,EAAsB,IAAtB,CAAX;;AACA,QAAI8D,IAAI,IAAIA,IAAI,CAACvC,IAAjB,EAAuB;AACnBuC,MAAAA,IAAI,CAACvC,IAAL,CAAUyG,WAAV,CAAsBlE,IAAtB;AACH;;AACD,WAAOA,IAAP;AACH;AAzfyB,CAAf,CAAf;AA4fApD,CAAC,CAACkM,GAAF,CAAMC,WAAN,CAAkB,YAAY;AAC1B,OAAKC,UAAL,GAAkB,IAAIpM,CAAC,CAACG,UAAN,CAAiB,IAAjB,CAAlB;AACH,CAFD;AAIeH,CAAC,CAACG,UAAjB;;ACrgBA,uBAAc,GAAG,UAAU,WAAW,EAAE,QAAQ,EAAE;AAClD,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,CAAC;AAC/B,EAAE,OAAO,CAAC,CAAC,MAAM,IAAI,KAAK,CAAC,YAAY;AACvC;AACA,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,IAAI,YAAY,EAAE,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AAC/D,GAAG,CAAC,CAAC;AACL,CAAC;;ACRD,IAAI,QAAQ,GAAGzC,cAAuC,CAAC,OAAO,CAAC;AACU;AACS;AAClF;AACA,IAAI,aAAa,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;AACnD,IAAImB,gBAAc,GAAG,uBAAuB,CAAC,SAAS,CAAC,CAAC;AACxD;AACA;AACA;AACA,gBAAc,GAAG,CAAC,CAAC,aAAa,IAAI,CAACA,gBAAc,IAAI,SAAS,OAAO,CAAC,UAAU,kBAAkB;AACpG,EAAE,OAAO,QAAQ,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;AACrF,CAAC,GAAG,EAAE,CAAC,OAAO;;ACRd;AACA;AACAL,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,OAAO,IAAI6N,YAAO,EAAE,EAAE;AACnE,EAAE,OAAO,EAAEA,YAAO;AAClB,CAAC,CAAC;;ACLF;AACA;AACA,eAAc,GAAG,YAAY;AAC7B,EAAE,IAAI,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AAC5B,EAAE,IAAI,MAAM,GAAG,EAAE,CAAC;AAClB,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,MAAM,IAAI,GAAG,CAAC;AACjC,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE,MAAM,IAAI,GAAG,CAAC;AACrC,EAAE,IAAI,IAAI,CAAC,SAAS,EAAE,MAAM,IAAI,GAAG,CAAC;AACpC,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,MAAM,IAAI,GAAG,CAAC;AACjC,EAAE,IAAI,IAAI,CAAC,OAAO,EAAE,MAAM,IAAI,GAAG,CAAC;AAClC,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,MAAM,IAAI,GAAG,CAAC;AACjC,EAAE,OAAO,MAAM,CAAC;AAChB,CAAC;;ACXD;AACA;AACA,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE;AAClB,EAAE,OAAO,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB,CAAC;AACD;AACA,iBAAqB,GAAG,KAAK,CAAC,YAAY;AAC1C;AACA,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AACxB,EAAE,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;AACnB,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;AACjC,CAAC,CAAC,CAAC;AACH;AACA,gBAAoB,GAAG,KAAK,CAAC,YAAY;AACzC;AACA,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC1B,EAAE,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;AACnB,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,CAAC;AAChC,CAAC,CAAC;;;;;;;AClBF,IAAI,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC;AACvC;AACA;AACA;AACA,IAAI,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;AAC7C;AACA,IAAI,WAAW,GAAG,UAAU,CAAC;AAC7B;AACA,IAAI,wBAAwB,GAAG,CAAC,YAAY;AAC5C,EAAE,IAAI,GAAG,GAAG,GAAG,CAAC;AAChB,EAAE,IAAI,GAAG,GAAG,KAAK,CAAC;AAClB,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC5B,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC5B,EAAE,OAAO,GAAG,CAAC,SAAS,KAAK,CAAC,IAAI,GAAG,CAAC,SAAS,KAAK,CAAC,CAAC;AACpD,CAAC,GAAG,CAAC;AACL;AACA,IAAIC,eAAa,GAAGC,mBAAa,CAAC,aAAa,IAAIA,mBAAa,CAAC,YAAY,CAAC;AAC9E;AACA;AACA,IAAI,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC;AACrD;AACA,IAAI,KAAK,GAAG,wBAAwB,IAAI,aAAa,IAAID,eAAa,CAAC;AACvE;AACA,IAAI,KAAK,EAAE;AACX,EAAE,WAAW,GAAG,SAAS,IAAI,CAAC,GAAG,EAAE;AACnC,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC;AAClB,IAAI,IAAI,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,CAAC;AACpC,IAAI,IAAI,MAAM,GAAGA,eAAa,IAAI,EAAE,CAAC,MAAM,CAAC;AAC5C,IAAI,IAAI,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACrC,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;AAC3B,IAAI,IAAI,UAAU,GAAG,CAAC,CAAC;AACvB,IAAI,IAAI,OAAO,GAAG,GAAG,CAAC;AACtB;AACA,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;AACrC,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;AACrC,QAAQ,KAAK,IAAI,GAAG,CAAC;AACrB,OAAO;AACP;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;AAChD;AACA,MAAM,IAAI,EAAE,CAAC,SAAS,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,SAAS,IAAI,EAAE,CAAC,SAAS,IAAI,GAAG,CAAC,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;AACjG,QAAQ,MAAM,GAAG,MAAM,GAAG,MAAM,GAAG,GAAG,CAAC;AACvC,QAAQ,OAAO,GAAG,GAAG,GAAG,OAAO,CAAC;AAChC,QAAQ,UAAU,EAAE,CAAC;AACrB,OAAO;AACP;AACA;AACA,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAM,GAAG,MAAM,GAAG,GAAG,EAAE,KAAK,CAAC,CAAC;AACxD,KAAK;AACL;AACA,IAAI,IAAI,aAAa,EAAE;AACvB,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,GAAG,UAAU,EAAE,KAAK,CAAC,CAAC;AAC5D,KAAK;AACL,IAAI,IAAI,wBAAwB,EAAE,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC;AAC3D;AACA,IAAI,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,MAAM,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC;AAC3D;AACA,IAAI,IAAI,MAAM,EAAE;AAChB,MAAM,IAAI,KAAK,EAAE;AACjB,QAAQ,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AACpD,QAAQ,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;AAC9C,QAAQ,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,SAAS,CAAC;AACnC,QAAQ,EAAE,CAAC,SAAS,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACxC,OAAO,MAAM,EAAE,CAAC,SAAS,GAAG,CAAC,CAAC;AAC9B,KAAK,MAAM,IAAI,wBAAwB,IAAI,KAAK,EAAE;AAClD,MAAM,EAAE,CAAC,SAAS,GAAG,EAAE,CAAC,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC;AAC3E,KAAK;AACL,IAAI,IAAI,aAAa,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;AACpD;AACA;AACA,MAAM,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,YAAY;AACvD,QAAQ,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AACnD,UAAU,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;AAC/D,SAAS;AACT,OAAO,CAAC,CAAC;AACT,KAAK;AACL;AACA,IAAI,OAAO,KAAK,CAAC;AACjB,GAAG,CAAC;AACJ,CAAC;AACD;AACA,cAAc,GAAG,WAAW;;AClF5B9N,OAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,CAAC,IAAI,KAAKgO,UAAI,EAAE,EAAE;AAChE,EAAE,IAAI,EAAEA,UAAI;AACZ,CAAC,CAAC;;ACLF;AACqC;AACW;AACN;AACsB;AACX;AACoC;AACzF;AACA,IAAIlO,SAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;AACzC;AACA,IAAI,6BAA6B,GAAG,CAAC,KAAK,CAAC,YAAY;AACvD;AACA;AACA;AACA,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;AACf,EAAE,EAAE,CAAC,IAAI,GAAG,YAAY;AACxB,IAAI,IAAI,MAAM,GAAG,EAAE,CAAC;AACpB,IAAI,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC;AAC/B,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG,CAAC;AACJ,EAAE,OAAO,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK,GAAG,CAAC;AACxC,CAAC,CAAC,CAAC;AACH;AACA;AACA;AACA,IAAI,gBAAgB,GAAG,CAAC,YAAY;AACpC,EAAE,OAAO,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,IAAI,CAAC;AACzC,CAAC,GAAG,CAAC;AACL;AACA,IAAI,OAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;AACzC;AACA,IAAI,4CAA4C,GAAG,CAAC,YAAY;AAChE,EAAE,IAAI,GAAG,CAAC,OAAO,CAAC,EAAE;AACpB,IAAI,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;AAC1C,GAAG;AACH,EAAE,OAAO,KAAK,CAAC;AACf,CAAC,GAAG,CAAC;AACL;AACA;AACA;AACA,IAAI,iCAAiC,GAAG,CAAC,KAAK,CAAC,YAAY;AAC3D,EAAE,IAAI,EAAE,GAAG,MAAM,CAAC;AAClB,EAAE,IAAI,YAAY,GAAG,EAAE,CAAC,IAAI,CAAC;AAC7B,EAAE,EAAE,CAAC,IAAI,GAAG,YAAY,EAAE,OAAO,YAAY,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE,CAAC;AACxE,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AAC9B,EAAE,OAAO,MAAM,CAAC,MAAM,KAAK,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC;AACvE,CAAC,CAAC,CAAC;AACH;AACA,iCAAc,GAAG,UAAU,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE;AACpD,EAAE,IAAI,MAAM,GAAG,eAAe,CAAC,GAAG,CAAC,CAAC;AACpC;AACA,EAAE,IAAI,mBAAmB,GAAG,CAAC,KAAK,CAAC,YAAY;AAC/C;AACA,IAAI,IAAI,CAAC,GAAG,EAAE,CAAC;AACf,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,YAAY,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC;AAC1C,IAAI,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AAC3B,GAAG,CAAC,CAAC;AACL;AACA,EAAE,IAAI,iBAAiB,GAAG,mBAAmB,IAAI,CAAC,KAAK,CAAC,YAAY;AACpE;AACA,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC;AAC3B,IAAI,IAAI,EAAE,GAAG,GAAG,CAAC;AACjB;AACA,IAAI,IAAI,GAAG,KAAK,OAAO,EAAE;AACzB;AACA;AACA;AACA,MAAM,EAAE,GAAG,EAAE,CAAC;AACd;AACA;AACA,MAAM,EAAE,CAAC,WAAW,GAAG,EAAE,CAAC;AAC1B,MAAM,EAAE,CAAC,WAAW,CAACA,SAAO,CAAC,GAAG,YAAY,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC;AAC3D,MAAM,EAAE,CAAC,KAAK,GAAG,EAAE,CAAC;AACpB,MAAM,EAAE,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;AAC/B,KAAK;AACL;AACA,IAAI,EAAE,CAAC,IAAI,GAAG,YAAY,EAAE,UAAU,GAAG,IAAI,CAAC,CAAC,OAAO,IAAI,CAAC,EAAE,CAAC;AAC9D;AACA,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;AACnB,IAAI,OAAO,CAAC,UAAU,CAAC;AACvB,GAAG,CAAC,CAAC;AACL;AACA,EAAE;AACF,IAAI,CAAC,mBAAmB;AACxB,IAAI,CAAC,iBAAiB;AACtB,KAAK,GAAG,KAAK,SAAS,IAAI;AAC1B,MAAM,6BAA6B;AACnC,MAAM,gBAAgB;AACtB,MAAM,CAAC,4CAA4C;AACnD,KAAK,CAAC;AACN,KAAK,GAAG,KAAK,OAAO,IAAI,CAAC,iCAAiC,CAAC;AAC3D,IAAI;AACJ,IAAI,IAAI,kBAAkB,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;AACzC,IAAI,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,UAAU,YAAY,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,iBAAiB,EAAE;AACtG,MAAM,IAAI,MAAM,CAAC,IAAI,KAAK,UAAU,EAAE;AACtC,QAAQ,IAAI,mBAAmB,IAAI,CAAC,iBAAiB,EAAE;AACvD;AACA;AACA;AACA,UAAU,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,kBAAkB,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC;AACnF,SAAS;AACT,QAAQ,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,CAAC,EAAE,CAAC;AAC3E,OAAO;AACP,MAAM,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;AAC7B,KAAK,EAAE;AACP,MAAM,gBAAgB,EAAE,gBAAgB;AACxC,MAAM,4CAA4C,EAAE,4CAA4C;AAChG,KAAK,CAAC,CAAC;AACP,IAAI,IAAI,YAAY,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAClC,IAAI,IAAI,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACjC;AACA,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,GAAG,EAAE,YAAY,CAAC,CAAC;AAClD,IAAI,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,EAAE,MAAM,IAAI,CAAC;AAClD;AACA;AACA,QAAQ,UAAU,MAAM,EAAE,GAAG,EAAE,EAAE,OAAO,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE;AAC9E;AACA;AACA,QAAQ,UAAU,MAAM,EAAE,EAAE,OAAO,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,EAAE;AACpE,KAAK,CAAC;AACN,GAAG;AACH;AACA,EAAE,IAAI,IAAI,EAAE,2BAA2B,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;AAChF,CAAC;;ACxHD,IAAI,KAAK,GAAG,eAAe,CAAC,OAAO,CAAC,CAAC;AACrC;AACA;AACA;AACA,YAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,IAAI,QAAQ,CAAC;AACf,EAAE,OAAO,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,MAAM,SAAS,GAAG,CAAC,CAAC,QAAQ,GAAG3B,UAAO,CAAC,EAAE,CAAC,IAAI,QAAQ,CAAC,CAAC;AACvG,CAAC;;ACPD,IAAI2B,SAAO,GAAG,eAAe,CAAC,SAAS,CAAC,CAAC;AACzC;AACA;AACA;AACA,sBAAc,GAAG,UAAU,CAAC,EAAE,kBAAkB,EAAE;AAClD,EAAE,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;AAClC,EAAE,IAAI,CAAC,CAAC;AACR,EAAE,OAAO,CAAC,KAAK,SAAS,IAAI,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAACA,SAAO,CAAC,KAAK,SAAS,GAAG,kBAAkB,GAAGG,WAAS,CAAC,CAAC,CAAC,CAAC;AACxG,CAAC;;ACTD;AACA,IAAIC,cAAY,GAAG,UAAU,iBAAiB,EAAE;AAChD,EAAE,OAAO,UAAU,KAAK,EAAE,GAAG,EAAE;AAC/B,IAAI,IAAI,CAAC,GAAG,MAAM,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;AAClD,IAAI,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;AAClC,IAAI,IAAI,IAAI,GAAG,CAAC,CAAC,MAAM,CAAC;AACxB,IAAI,IAAI,KAAK,EAAE,MAAM,CAAC;AACtB,IAAI,IAAI,QAAQ,GAAG,CAAC,IAAI,QAAQ,IAAI,IAAI,EAAE,OAAO,iBAAiB,GAAG,EAAE,GAAG,SAAS,CAAC;AACpF,IAAI,KAAK,GAAG,CAAC,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;AACnC,IAAI,OAAO,KAAK,GAAG,MAAM,IAAI,KAAK,GAAG,MAAM,IAAI,QAAQ,GAAG,CAAC,KAAK,IAAI;AACpE,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,MAAM,IAAI,MAAM,GAAG,MAAM;AAC1E,UAAU,iBAAiB,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,KAAK;AACxD,UAAU,iBAAiB,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,MAAM,IAAI,EAAE,KAAK,MAAM,GAAG,MAAM,CAAC,GAAG,OAAO,CAAC;AACrH,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,mBAAc,GAAG;AACjB;AACA;AACA,EAAE,MAAM,EAAEA,cAAY,CAAC,KAAK,CAAC;AAC7B;AACA;AACA,EAAE,MAAM,EAAEA,cAAY,CAAC,IAAI,CAAC;AAC5B,CAAC;;ACzBD,IAAI,MAAM,GAAGhB,eAAwC,CAAC,MAAM,CAAC;AAC7D;AACA;AACA;AACA,sBAAc,GAAG,UAAU,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE;AAC9C,EAAE,OAAO,KAAK,IAAI,OAAO,GAAG,MAAM,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACzD,CAAC;;ACJD;AACA;AACA,sBAAc,GAAG,UAAU,CAAC,EAAE,CAAC,EAAE;AACjC,EAAE,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;AACpB,EAAE,IAAI,OAAO,IAAI,KAAK,UAAU,EAAE;AAClC,IAAI,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjC,IAAI,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;AACpC,MAAM,MAAM,SAAS,CAAC,oEAAoE,CAAC,CAAC;AAC5F,KAAK;AACL,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG;AACH;AACA,EAAE,IAAIf,UAAO,CAAC,CAAC,CAAC,KAAK,QAAQ,EAAE;AAC/B,IAAI,MAAM,SAAS,CAAC,6CAA6C,CAAC,CAAC;AACnE,GAAG;AACH;AACA,EAAE,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/B,CAAC;;ACRD,IAAI,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC;AACxB,IAAIc,KAAG,GAAG,IAAI,CAAC,GAAG,CAAC;AACnB,IAAI,UAAU,GAAG,UAAU,CAAC;AAC5B;AACA;AACA,IAAI,UAAU,GAAG,CAAC,KAAK,CAAC,YAAY,EAAE,OAAO,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAC1E;AACA;AACAgP,6BAA6B,CAAC,OAAO,EAAE,CAAC,EAAE,UAAU,KAAK,EAAE,WAAW,EAAE,eAAe,EAAE;AACzF,EAAE,IAAI,aAAa,CAAC;AACpB,EAAE;AACF,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG;AAClC,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC;AACxC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,IAAI,CAAC;AACrC,IAAI,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,IAAI,CAAC;AACrC,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,CAAC;AAChC,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM;AACzB,IAAI;AACJ;AACA,IAAI,aAAa,GAAG,UAAU,SAAS,EAAE,KAAK,EAAE;AAChD,MAAM,IAAI,MAAM,GAAG,MAAM,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC,CAAC;AACxD,MAAM,IAAI,GAAG,GAAG,KAAK,KAAK,SAAS,GAAG,UAAU,GAAG,KAAK,KAAK,CAAC,CAAC;AAC/D,MAAM,IAAI,GAAG,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC;AAC/B,MAAM,IAAI,SAAS,KAAK,SAAS,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD;AACA,MAAM,IAAI,CAACC,QAAQ,CAAC,SAAS,CAAC,EAAE;AAChC,QAAQ,OAAO,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;AACxD,OAAO;AACP,MAAM,IAAI,MAAM,GAAG,EAAE,CAAC;AACtB,MAAM,IAAI,KAAK,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE;AAClD,mBAAmB,SAAS,CAAC,SAAS,GAAG,GAAG,GAAG,EAAE,CAAC;AAClD,mBAAmB,SAAS,CAAC,OAAO,GAAG,GAAG,GAAG,EAAE,CAAC;AAChD,mBAAmB,SAAS,CAAC,MAAM,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;AAChD,MAAM,IAAI,aAAa,GAAG,CAAC,CAAC;AAC5B;AACA,MAAM,IAAI,aAAa,GAAG,IAAI,MAAM,CAAC,SAAS,CAAC,MAAM,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;AACpE,MAAM,IAAI,KAAK,EAAE,SAAS,EAAE,UAAU,CAAC;AACvC,MAAM,OAAO,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,MAAM,CAAC,EAAE;AAC7D,QAAQ,SAAS,GAAG,aAAa,CAAC,SAAS,CAAC;AAC5C,QAAQ,IAAI,SAAS,GAAG,aAAa,EAAE;AACvC,UAAU,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;AAChE,UAAU,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACvG,UAAU,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;AACvC,UAAU,aAAa,GAAG,SAAS,CAAC;AACpC,UAAU,IAAI,MAAM,CAAC,MAAM,IAAI,GAAG,EAAE,MAAM;AAC1C,SAAS;AACT,QAAQ,IAAI,aAAa,CAAC,SAAS,KAAK,KAAK,CAAC,KAAK,EAAE,aAAa,CAAC,SAAS,EAAE,CAAC;AAC/E,OAAO;AACP,MAAM,IAAI,aAAa,KAAK,MAAM,CAAC,MAAM,EAAE;AAC3C,QAAQ,IAAI,UAAU,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACnE,OAAO,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC;AACtD,MAAM,OAAO,MAAM,CAAC,MAAM,GAAG,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;AACjE,KAAK,CAAC;AACN;AACA,GAAG,MAAM,IAAI,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,MAAM,EAAE;AAC7C,IAAI,aAAa,GAAG,UAAU,SAAS,EAAE,KAAK,EAAE;AAChD,MAAM,OAAO,SAAS,KAAK,SAAS,IAAI,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;AACpG,KAAK,CAAC;AACN,GAAG,MAAM,aAAa,GAAG,WAAW,CAAC;AACrC;AACA,EAAE,OAAO;AACT;AACA;AACA,IAAI,SAAS,KAAK,CAAC,SAAS,EAAE,KAAK,EAAE;AACrC,MAAM,IAAI,CAAC,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;AAC3C,MAAM,IAAI,QAAQ,GAAG,SAAS,IAAI,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;AAC3E,MAAM,OAAO,QAAQ,KAAK,SAAS;AACnC,UAAU,QAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,EAAE,KAAK,CAAC;AAC5C,UAAU,aAAa,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;AAC1D,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAI,UAAU,MAAM,EAAE,KAAK,EAAE;AAC7B,MAAM,IAAI,GAAG,GAAG,eAAe,CAAC,aAAa,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,KAAK,WAAW,CAAC,CAAC;AACnG,MAAM,IAAI,GAAG,CAAC,IAAI,EAAE,OAAO,GAAG,CAAC,KAAK,CAAC;AACrC;AACA,MAAM,IAAI,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;AAChC,MAAM,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,MAAM,IAAI,CAAC,GAAG,kBAAkB,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;AAC7C;AACA,MAAM,IAAI,eAAe,GAAG,EAAE,CAAC,OAAO,CAAC;AACvC,MAAM,IAAI,KAAK,GAAG,CAAC,EAAE,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE;AAC3C,mBAAmB,EAAE,CAAC,SAAS,GAAG,GAAG,GAAG,EAAE,CAAC;AAC3C,mBAAmB,EAAE,CAAC,OAAO,GAAG,GAAG,GAAG,EAAE,CAAC;AACzC,mBAAmB,UAAU,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;AAC3C;AACA;AACA;AACA,MAAM,IAAI,QAAQ,GAAG,IAAI,CAAC,CAAC,UAAU,GAAG,EAAE,GAAG,MAAM,GAAG,EAAE,CAAC,MAAM,GAAG,GAAG,EAAE,KAAK,CAAC,CAAC;AAC9E,MAAM,IAAI,GAAG,GAAG,KAAK,KAAK,SAAS,GAAG,UAAU,GAAG,KAAK,KAAK,CAAC,CAAC;AAC/D,MAAM,IAAI,GAAG,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC;AAC/B,MAAM,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE,OAAOC,kBAAc,CAAC,QAAQ,EAAE,CAAC,CAAC,KAAK,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACjF,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC;AAChB,MAAM,IAAI,CAAC,GAAG,CAAC,CAAC;AAChB,MAAM,IAAI,CAAC,GAAG,EAAE,CAAC;AACjB,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE;AAC3B,QAAQ,QAAQ,CAAC,SAAS,GAAG,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC;AAChD,QAAQ,IAAI,CAAC,GAAGA,kBAAc,CAAC,QAAQ,EAAE,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACtE,QAAQ,IAAI,CAAC,CAAC;AACd,QAAQ;AACR,UAAU,CAAC,KAAK,IAAI;AACpB,UAAU,CAAC,CAAC,GAAGlP,KAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,IAAI,UAAU,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;AACxF,UAAU;AACV,UAAU,CAAC,GAAG,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,eAAe,CAAC,CAAC;AACxD,SAAS,MAAM;AACf,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAChC,UAAU,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,CAAC,CAAC;AACzC,UAAU,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAClD,YAAY,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,YAAY,IAAI,CAAC,CAAC,MAAM,KAAK,GAAG,EAAE,OAAO,CAAC,CAAC;AAC3C,WAAW;AACX,UAAU,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACpB,SAAS;AACT,OAAO;AACP,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACzB,MAAM,OAAO,CAAC,CAAC;AACf,KAAK;AACL,GAAG,CAAC;AACJ,CAAC,EAAE,CAAC,UAAU,CAAC;;ACrIf;AACA;AACA,gBAAc,GAAG;AACjB,EAAE,WAAW,EAAE,CAAC;AAChB,EAAE,mBAAmB,EAAE,CAAC;AACxB,EAAE,YAAY,EAAE,CAAC;AACjB,EAAE,cAAc,EAAE,CAAC;AACnB,EAAE,WAAW,EAAE,CAAC;AAChB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,YAAY,EAAE,CAAC;AACjB,EAAE,oBAAoB,EAAE,CAAC;AACzB,EAAE,QAAQ,EAAE,CAAC;AACb,EAAE,iBAAiB,EAAE,CAAC;AACtB,EAAE,cAAc,EAAE,CAAC;AACnB,EAAE,eAAe,EAAE,CAAC;AACpB,EAAE,iBAAiB,EAAE,CAAC;AACtB,EAAE,SAAS,EAAE,CAAC;AACd,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,YAAY,EAAE,CAAC;AACjB,EAAE,QAAQ,EAAE,CAAC;AACb,EAAE,gBAAgB,EAAE,CAAC;AACrB,EAAE,MAAM,EAAE,CAAC;AACX,EAAE,WAAW,EAAE,CAAC;AAChB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,cAAc,EAAE,CAAC;AACnB,EAAE,YAAY,EAAE,CAAC;AACjB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,gBAAgB,EAAE,CAAC;AACrB,EAAE,gBAAgB,EAAE,CAAC;AACrB,EAAE,cAAc,EAAE,CAAC;AACnB,EAAE,gBAAgB,EAAE,CAAC;AACrB,EAAE,aAAa,EAAE,CAAC;AAClB,EAAE,SAAS,EAAE,CAAC;AACd,CAAC;;AC7BD,KAAK,IAAI,eAAe,IAAImP,YAAY,EAAE;AAC1C,EAAE,IAAI,UAAU,GAAGlQ,QAAM,CAAC,eAAe,CAAC,CAAC;AAC3C,EAAE,IAAI,mBAAmB,GAAG,UAAU,IAAI,UAAU,CAAC,SAAS,CAAC;AAC/D;AACA,EAAE,IAAI,mBAAmB,IAAI,mBAAmB,CAAC,OAAO,KAAK2P,YAAO,EAAE,IAAI;AAC1E,IAAI,2BAA2B,CAAC,mBAAmB,EAAE,SAAS,EAAEA,YAAO,CAAC,CAAC;AACzE,GAAG,CAAC,OAAO,KAAK,EAAE;AAClB,IAAI,mBAAmB,CAAC,OAAO,GAAGA,YAAO,CAAC;AAC1C,GAAG;AACH;;ACXArM,CAAC,CAACG,UAAF,CAAauE,OAAb,GAAuB1E,CAAC,CAAC6M,UAAF,CAAaxM,MAAb,CAAoB;AACvCnB,EAAAA,OAAO,EAAE;AACL4N,IAAAA,UAAU,EAAE,EADP;AAELC,IAAAA,YAAY,EAAE,CAFT;AAGL9J,IAAAA,IAAI,EAAE,EAHD;;AAAA,GAD8B;AAMvC3C,EAAAA,QAAQ,EAAEN,CAAC,CAACO,OAAF,GAAYP,CAAC,CAACO,OAAF,CAAUC,SAAtB,GAAkCR,CAAC,CAACS,KAAF,CAAQC,MANb;AAQvCsM,EAAAA,QAAQ,EAAE,oBAAY;AAClB,QAAInN,CAAJ,EAAOoN,CAAP,EAAUnN,GAAV,EAAeoN,IAAf,EAAqBC,IAArB;;AACA,SAAKtN,CAAC,GAAG,CAAJ,EAAOC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAA7B,EAAqCE,CAAC,GAAGC,GAAzC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/C,UAAIgE,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,CAAT;AAAA,UACI0J,IAAI,GAAG1F,EAAE,CAAC0F,IADd;AAEAA,MAAAA,IAAI,CAACU,UAAL,CAAgBV,IAAI,CAACpK,MAAL,CAAYiO,cAAZ,EAAhB;;AACA,WAAKH,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGrJ,EAAE,CAACwJ,KAAH,CAAS1N,MAA5B,EAAoCsN,CAAC,GAAGC,IAAxC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/CE,QAAAA,IAAI,GAAGtJ,EAAE,CAACwJ,KAAH,CAASJ,CAAT,CAAP;AACAE,QAAAA,IAAI,CAAClD,UAAL,CAAgBkD,IAAI,CAAChO,MAAL,CAAYiO,cAAZ,EAAhB;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GApBsC;AAsBvCjK,EAAAA,YAAY,EAAE,wBAAY;AAC5B,SAAKmG,KAAL,CAAW+C,OAAX,CAAmB,UAASxI,EAAT,EAAa;AAC/BA,MAAAA,EAAE,CAAC0F,IAAH,CAAQpG,YAAR;AACA,KAFD;AAGA,WAAO,IAAP,CAJ4B;AAMzB,GA5BsC;AA8BvCmK,EAAAA,WAAW,EAAE,uBAAY;AAC3B,SAAKhE,KAAL,CAAW+C,OAAX,CAAmB,UAASxI,EAAT,EAAa;AAC/BA,MAAAA,EAAE,CAAC0F,IAAH,CAAQ+D,WAAR;AACA,KAFD;AAGA,WAAO,IAAP,CAJ2B;AAMxB,GApCsC;AAsCvCC,EAAAA,KAAK,EAAE,eAAU3M,GAAV,EAAe;AAClBZ,IAAAA,CAAC,CAAC6M,UAAF,CAAarM,SAAb,CAAuB+M,KAAvB,CAA6BC,IAA7B,CAAkC,IAAlC,EAAwC5M,GAAxC;;AACA,SAAK6M,OAAL,CAAa3H,QAAb,CAAsB,IAAtB;;AACA,QAAI,KAAK5G,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AAC/BoB,MAAAA,GAAG,CAACiF,QAAJ,CAAa,KAAK0F,IAAlB;AACAmC,MAAAA,mBAAmB,CAAC,YAAY;AAC5B,aAAKC,UAAL,CAAgB,UAAhB,EAA4B,KAAKpC,IAAL,CAAUrM,OAAtC;AACH,OAFmB,CAElBP,IAFkB,CAEb,IAFa,CAAD,EAEL;AAACiP,QAAAA,OAAO,EAAE;AAAV,OAFK,CAAnB;AAGH,KALD,MAKO;AACZ,UAAIC,YAAY,GAAG,KAAKhN,IAAL,CAAU4B,SAAV,IAAwB,KAAK5B,IAAL,CAAU6B,SAAV,IAAuB,KAAK7B,IAAL,CAAU6B,SAAV,CAAoBC,UAAtF;;AACA,UAAIkL,YAAY,IAAIA,YAAY,CAACC,YAAb,CAA0B,gBAA1B,MAAgD,SAApE,EAA+E;AAC9ED,QAAAA,YAAY,CAACE,YAAb,CAA0B,gBAA1B,EAA4C,SAA5C;AACA;AACK;;AACD,SAAKJ,UAAL,CAAgB,UAAhB;AACH,GArDsC;AAuDvCK,EAAAA,QAAQ,EAAE,kBAAUpN,GAAV,EAAe;AACrB,QAAI,iBAAiB,IAArB,EAA2B;AAAE,WAAKqB,WAAL;AAAqB;;AACxD,SAAKgM,oBAAL;;AAEMjO,IAAAA,CAAC,CAAC6M,UAAF,CAAarM,SAAb,CAAuBwN,QAAvB,CAAgCR,IAAhC,CAAqC,IAArC,EAA2C5M,GAA3C;;AAEA,QAAI,KAAK1B,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AAC/BoB,MAAAA,GAAG,CAAC0G,WAAJ,CAAgB,KAAKiE,IAArB;AACH;;AACD,SAAKoC,UAAL,CAAgB,eAAhB;AACH,GAjEsC;AAmEvC3B,EAAAA,MAAM,EAAE,gBAAUzC,IAAV,EAAgB;AACpB,QAAIA,IAAJ,EAAU;AACN,UAAI1J,CAAJ,EAAOoN,CAAP,EAAUnN,GAAV,EAAeoN,IAAf,EAAqBC,IAArB;;AACA,WAAKtN,CAAC,GAAG,CAAJ,EAAOC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAA7B,EAAqCE,CAAC,GAAGC,GAAzC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/C,YAAI0J,IAAI,CAACrK,OAAL,CAAaiO,IAAjB,EAAuB;AACnB,eAAKF,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAG,KAAK5D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoB1N,MAAvC,EAA+CsN,CAAC,GAAGC,IAAnD,EAAyDD,CAAC,EAA1D,EAA8D;AAC1DE,YAAAA,IAAI,GAAG,KAAK7D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoBJ,CAApB,CAAP;;AACA,gBAAI1D,IAAI,KAAK4D,IAAb,EAAmB;AACf,mBAAK7D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoBzN,MAApB,CAA2BqN,CAA3B,EAA8B,CAA9B;;AACA,kBAAIE,IAAI,CAACtM,IAAT,EAAe;AACXsM,gBAAAA,IAAI,CAACtM,IAAL,CAAUyG,WAAV,CAAsB6F,IAAtB;AACH;;AACD;AACH;AACJ;;AACD,cAAI,CAAC5D,IAAI,CAAC1I,IAAV,EAAgB;AACZ;AACH;AACJ,SAdD,MAcO,IAAI0I,IAAI,KAAK,KAAKD,KAAL,CAAWzJ,CAAX,EAAc0J,IAA3B,EAAiC;AACpC,eAAK0D,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAG,KAAK5D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoB1N,MAAvC,EAA+CsN,CAAC,GAAGC,IAAnD,EAAyDD,CAAC,EAA1D,EAA8D;AAC1DE,YAAAA,IAAI,GAAG,KAAK7D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoBJ,CAApB,CAAP;;AACA,gBAAIE,IAAI,CAACtM,IAAT,EAAe;AACXsM,cAAAA,IAAI,CAACtM,IAAL,CAAUyG,WAAV,CAAsB6F,IAAtB;AACH;AACJ;;AACD,eAAK7D,KAAL,CAAW1J,MAAX,CAAkBC,CAAlB,EAAqB,CAArB;;AACA,cAAI0J,IAAI,CAAC1I,IAAT,EAAe;AACX0I,YAAAA,IAAI,CAAC1I,IAAL,CAAUyG,WAAV,CAAsBiC,IAAtB;AACH;;AACD;AACH;AACJ;AACJ,KA/BD,MA+BO;AACH,WAAKD,KAAL,GAAa,EAAb;AACH;;AACD,QAAI,KAAKA,KAAL,CAAW3J,MAAX,GAAoB,CAAxB,EAA2B;AACvB,UAAI,KAAKmE,cAAT,EAAyB;AACrB,aAAKyH,IAAL,CAAUxH,QAAV,CAAmB,KAAKD,cAAxB;AACH;;AACD,WAAK2J,OAAL,CAAazB,MAAb,CAAoB,IAApB;AACH;;AACD,WAAO,IAAP;AACH,GA7GsC;AA+GvC2B,EAAAA,UAAU,EAAE,oBAAUO,IAAV,EAAgBhP,OAAhB,EAAyB;AACjC;AACA,QAAIgP,IAAI,KAAK,eAAT,IAA4B,KAAK5E,KAAL,CAAW3J,MAAX,GAAoB,CAApD,EAAuD;AACnD;AACH;;AACD,QAAIwO,KAAK,GAAGnO,CAAC,CAACK,MAAF,CAAS,EAAT,EAAa;AAAC4C,MAAAA,IAAI,EAAE,KAAKA,IAAL,IAAa,EAApB;AAAwB6I,MAAAA,MAAM,EAAE;AAAhC,KAAb,EAAoD5M,OAApD,CAAZ;AACA,SAAK2K,IAAL,CAAUqE,IAAV,EAAgBC,KAAhB;;AACA,SAAKV,OAAL,CAAa5D,IAAb,CAAkBqE,IAAlB,EAAwBC,KAAxB;;AACA,QAAID,IAAI,KAAK,UAAT,IAAuB,KAAKrN,IAAhC,EAAsC;AAClCb,MAAAA,CAAC,CAACyB,OAAF,CAAU2M,WAAV,CAAsB,KAAKvN,IAAL,CAAU+I,QAAhC,EAA0C,mBAA1C;AACH;AACJ,GA1HsC;AA4HvCyE,EAAAA,QAAQ,EAAE,oBAAY;AAClB,QAAI3G,YAAY,GAAG1H,CAAC,CAACK,MAAF,CAAS,EAAT,EAAa,KAAKiO,YAAlB,CAAnB;AACA,WAAO5G,YAAY,CAACE,SAApB;;AACA,QAAIF,YAAY,CAAClI,IAAb,KAAsB,OAA1B,EAAmC;AAC/BQ,MAAAA,CAAC,CAACK,MAAF,CAASqH,YAAT,EAAuBA,YAAY,CAAClC,WAAb,CAAyBD,SAAhD;AACA,aAAOmC,YAAY,CAAClC,WAApB;AACH;;AACD,WAAOkC,YAAP;AACH,GApIsC;AAsIvC6G,EAAAA,UAAU,EAAE,oBAAUrP,OAAV,EAAmB;AAC3B,QAAIA,OAAO,CAAC8E,SAAZ,EAAuB;AACnB,WAAKwK,gBAAL,CAAsBtP,OAAO,CAAC8E,SAA9B,EAAyC,OAAzC;AACH;;AACD,QAAI9E,OAAO,CAACyI,UAAZ,EAAwB;AACpB,WAAK6G,gBAAL,CAAsBtP,OAAO,CAACyI,UAA9B,EAA0C,QAA1C;AACH;;AACD,QAAI,cAAczI,OAAlB,EAA2B;AACvB,UAAIA,OAAO,CAAC4F,QAAZ,EAAsB;AAAE,aAAK2J,UAAL;AAAoB,OAA5C,MACK;AAAE,aAAKC,WAAL;AAAqB;AAC/B;;AACD1O,IAAAA,CAAC,CAACuO,UAAF,CAAa,IAAb,EAAmBrP,OAAnB;;AAEA,SAAKyO,UAAL,CAAgB,eAAhB;;AACA,WAAO,IAAP;AACH,GArJsC;AAuJvCa,EAAAA,gBAAgB,EAAE,0BAAUtP,OAAV,EAAmBM,IAAnB,EAAyB;AACvC,SAAK,IAAIK,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIgE,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,EAAc0J,IAAd,CAAmB/J,IAAnB,CAAT;AACAqE,MAAAA,EAAE,CAACE,QAAH,CAAY7E,OAAZ;AACA2E,MAAAA,EAAE,CAAC8K,MAAH;;AACA,WAAK,IAAI1B,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAG,KAAK5D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoB1N,MAA3C,EAAmDsN,CAAC,GAAGC,IAAvD,EAA6DD,CAAC,EAA9D,EAAkE;AAC9DpJ,QAAAA,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoBJ,CAApB,EAAuBzN,IAAvB,CAAL;AACAqE,QAAAA,EAAE,CAACE,QAAH,CAAY7E,OAAZ;AACA2E,QAAAA,EAAE,CAAC8K,MAAH;AACH;AACJ;;AACD,SAAKhB,UAAL,CAAgB,aAAhB;AACH,GAnKsC;AAqKvCiB,EAAAA,cAAc,EAAE,wBAAU1P,OAAV,EAAmB;AAC/B,SAAKsP,gBAAL,CAAsBtP,OAAtB,EAA+B,OAA/B;AACH,GAvKsC;AAyKvC2P,EAAAA,eAAe,EAAE,yBAAU3P,OAAV,EAAmB;AAChC,SAAKsP,gBAAL,CAAsBtP,OAAtB,EAA+B,QAA/B;AACH,GA3KsC;AA6KvC4P,EAAAA,UAAU,EAAE,sBAAY;AACpB,QAAI5P,OAAO,GAAG,KAAKA,OAAnB;AAAA,QACIoL,IAAI,GAAGtK,CAAC,CAACK,MAAF,CAAS,EAAT,EAAanB,OAAb,CADX;AAGAoL,IAAAA,IAAI,CAACtG,SAAL,GAAiB9E,OAAO,CAAC8E,SAAzB;AACAsG,IAAAA,IAAI,CAAC3C,UAAL,GAAkBzI,OAAO,CAACyI,UAA1B;AAEA,QAAI2D,GAAG,GAAGtL,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkCb,IAAlC,EAAwCtK,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAA3D,CAAV;;AACA,QAAI,CAACgE,MAAM,CAACC,IAAP,CAAYH,GAAG,CAACtH,SAAhB,EAA2BrE,MAAhC,EAAwC;AAAE,aAAO2L,GAAG,CAACtH,SAAX;AAAuB;;AACjE,QAAI,CAACwH,MAAM,CAACC,IAAP,CAAYH,GAAG,CAAC3D,UAAhB,EAA4BhI,MAAjC,EAAyC;AAAE,aAAO2L,GAAG,CAAC3D,UAAX;AAAwB;;AACnE,QAAI,CAAC,KAAK9G,IAAV,EAAgB;AAAEyK,MAAAA,GAAG,CAAC1K,GAAJ,GAAU,KAAV;AAAkB;;AAEpC,QAAI1B,OAAO,CAACM,IAAR,KAAiB,OAArB,EAA8B;AAC1B,UAAIoJ,GAAG,GAAG5I,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkC,KAAKI,IAAL,CAAUrM,OAA5C,EAAqDc,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAnB,CAAiChC,WAAjC,CAA6CtG,OAAlG,CAAV;;AACA,UAAIsM,MAAM,CAACC,IAAP,CAAY7C,GAAZ,EAAiBjJ,MAArB,EAA6B;AAAE2L,QAAAA,GAAG,CAACpM,OAAJ,GAAc0J,GAAd;AAAoB;;AACnDA,MAAAA,GAAG,GAAG5I,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0D,cAAnB,CAAkC,KAAKI,IAAL,CAAUrM,OAAV,CAAkBwG,IAAlB,CAAuBxG,OAAzD,EAAkEc,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBD,aAAnB,CAAiChC,WAAjC,CAA6CtG,OAA7C,CAAqDwG,IAAvH,CAAN;;AACA,UAAI8F,MAAM,CAACC,IAAP,CAAY7C,GAAZ,EAAiBjJ,MAArB,EAA6B;AACzB2L,QAAAA,GAAG,CAACpM,OAAJ,CAAYwG,IAAZ,GAAmBkD,GAAnB;AACH;AACJ;;AAED,WAAO0C,GAAP;AACH,GAnMsC;AAqMvCyD,EAAAA,gBAAgB,EAAE,0BAAUjF,OAAV,EAAmBkF,MAAnB,EAA2B;AACzC,QAAIC,MAAM,GAAGjP,CAAC,CAACwD,OAAF,CAAU0L,eAAV,CAA0BlP,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0H,YAAnB,GAAkCrF,OAAlC,GAA4CA,OAAO,CAAC,CAAD,CAA7E,CAAb;;AACA,QAAIkF,MAAJ,EAAY;AACR,UAAII,SAAS,GAAGH,MAAM,CAACA,MAAM,CAACtP,MAAP,GAAgB,CAAjB,CAAtB;;AACA,UAAIyP,SAAS,CAAC,CAAD,CAAT,KAAiBH,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAAjB,IAAiCG,SAAS,CAAC,CAAD,CAAT,KAAiBH,MAAM,CAAC,CAAD,CAAN,CAAU,CAAV,CAAtD,EAAoE;AAChEA,QAAAA,MAAM,CAAC7K,IAAP,CAAY6K,MAAM,CAAC,CAAD,CAAlB;AACH;AACJ;;AACD,WAAOA,MAAP;AACH,GA9MsC;AAgNvCI,EAAAA,gBAAgB,EAAE,0BAAUvF,OAAV,EAAmBwF,UAAnB,EAA+B;AAC7C,QAAIhM,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIzD,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGgK,OAAO,CAACnK,MAA9B,EAAsCE,CAAC,GAAGC,GAA1C,EAA+CD,CAAC,EAAhD,EAAoD;AAChDyD,MAAAA,GAAG,CAACc,IAAJ,CAASpE,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB8H,cAAnB,CAAkCzF,OAAO,CAACjK,CAAD,CAAzC,EAA8C,KAAKgB,IAAnD,EAAyDyO,UAAzD,CAAT;AACH;;AACD,WAAOhM,GAAP;AACH,GAtNsC;AAwNvCkM,EAAAA,cAAc,EAAE,0BAAY;AACxB,QAAIC,CAAC,GAAG,KAAKH,UAAb;;AACA,QAAI,CAACG,CAAD,IAAM,KAAK5O,IAAf,EAAqB;AACjB,UAAI6O,QAAQ,GAAG,MAAM1P,CAAC,CAACoB,OAAF,CAAUuO,SAAV,CAAoB,KAAK9O,IAAL,CAAU+O,KAA9B,CAArB;AACAH,MAAAA,CAAC,GAAG,KAAKH,UAAL,GAAkB,IAAItP,CAAC,CAAC6P,KAAN,CAAYC,IAAI,CAACC,KAAL,CAAWL,QAAQ,GAAG,KAAKM,GAA3B,CAAZ,EAA6C,CAACF,IAAI,CAACC,KAAL,CAAWL,QAAQ,GAAG,KAAKO,GAA3B,CAA9C,CAAtB;AACH;;AACD,WAAOR,CAAC,IAAI,IAAIzP,CAAC,CAAC6P,KAAN,CAAY,CAAZ,EAAe,CAAf,CAAZ;AACH,GA/NsC;AAiOvCK,EAAAA,mBAAmB,EAAE,6BAAUC,EAAV,EAAcC,EAAd,EAAkB;AACnC,QAAIvQ,CAAJ;AAAA,QAAOC,GAAP;AAAA,QAAYmN,CAAZ;AAAA,QAAeC,IAAf;AAAA,QAAqB3D,IAArB;AAAA,QAA2BO,OAA3B;AAAA,QACI4F,QAAQ,GAAG,MAAM1P,CAAC,CAACoB,OAAF,CAAUuO,SAAV,CAAoB,KAAK9O,IAAL,CAAU+O,KAA9B,CADrB;AAAA,QAEIN,UAAU,GAAG,IAAItP,CAAC,CAAC6P,KAAN,CAAYH,QAAQ,IAAI,KAAKM,GAAL,IAAYG,EAAZ,IAAkB,CAAtB,CAApB,EAA8C,CAACT,QAAD,IAAa,KAAKO,GAAL,IAAYG,EAAZ,IAAkB,CAA/B,CAA9C,CAFjB;;AAIA,SAAKvQ,CAAC,GAAG,CAAJ,EAAOC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAA7B,EAAqCE,CAAC,GAAGC,GAAzC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/C,UAAIgE,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,CAAT;AACA0J,MAAAA,IAAI,GAAG1F,EAAE,CAAC0F,IAAV;AACAO,MAAAA,OAAO,GAAGP,IAAI,CAACpK,MAAL,CAAYkR,UAAZ,EAAV;AACA9G,MAAAA,IAAI,CAACU,UAAL,CAAgB,KAAKoF,gBAAL,CAAsBvF,OAAtB,EAA+BwF,UAA/B,CAAhB;;AAEA,UAAIzL,EAAE,CAACwJ,KAAH,IAAYxJ,EAAE,CAACwJ,KAAH,CAAS1N,MAAzB,EAAiC;AAC7B,aAAKsN,CAAC,GAAG,CAAJ,EAAOC,IAAI,GAAGrJ,EAAE,CAACwJ,KAAH,CAAS1N,MAA5B,EAAoCsN,CAAC,GAAGC,IAAxC,EAA8CD,CAAC,EAA/C,EAAmD;AAC/C1D,UAAAA,IAAI,GAAG1F,EAAE,CAACwJ,KAAH,CAASJ,CAAT,EAAY1D,IAAnB;AACAO,UAAAA,OAAO,GAAGP,IAAI,CAACpK,MAAL,CAAYkR,UAAZ,EAAV;AACA9G,UAAAA,IAAI,CAACU,UAAL,CAAgB,KAAKoF,gBAAL,CAAsBvF,OAAtB,EAA+BwF,UAA/B,CAAhB;AACH;AACJ;AACJ;;AACD,SAAKgB,iBAAL;AACA,WAAO,IAAP;AACH,GAtPsC;AAwPvCA,EAAAA,iBAAiB,EAAE,2BAAUC,KAAV,EAAiBC,KAAjB,EAAwB;AACvC,SAAKR,GAAL,GAAWO,KAAK,IAAI,CAApB;AACA,SAAKN,GAAL,GAAWO,KAAK,IAAI,CAApB;;AACA,QAAI,KAAK3P,IAAT,EAAe;AACX,WAAKyO,UAAL,GAAkB,IAAlB;AACA,UAAIG,CAAC,GAAG,KAAKD,cAAL,EAAR;;AACA,WAAK,IAAI3P,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,aAAKyJ,KAAL,CAAWzJ,CAAX,EAAc0J,IAAd,CAAmB+G,iBAAnB,CAAqCb,CAArC;;AACA,aAAK,IAAIxC,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAG,KAAK5D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoB1N,MAA3C,EAAmDsN,CAAC,GAAGC,IAAvD,EAA6DD,CAAC,EAA9D,EAAkE;AAC9D,eAAK3D,KAAL,CAAWzJ,CAAX,EAAcwN,KAAd,CAAoBJ,CAApB,EAAuBqD,iBAAvB,CAAyCb,CAAzC;AACH;AACJ;AACJ;AACJ,GArQsC;AAuQvCgB,EAAAA,UAAU,EAAE,oBAAUC,YAAV,EAAwB;AAChC,QAAIlR,IAAI,GAAG,KAAKN,OAAL,CAAaM,IAAxB;AAAA,QACIwP,MAAM,GAAIxP,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,WAA/B,IAA8CA,IAAI,KAAK,cADrE;AAAA,QAEI8P,UAAU,GAAGoB,YAAY,GAAG,IAAH,GAAU,KAAKpB,UAF5C;AAAA,QAGIL,MAAM,GAAG,EAHb;;AAIA,SAAK,IAAIpP,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,UAAIgE,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,CAAT;AAAA,UACIyD,GAAG,GAAG,KAAKyL,gBAAL,CAAsBlL,EAAE,CAAC0F,IAAH,CAAQpK,MAAR,CAAekR,UAAf,EAAtB,EAAmDrB,MAAnD,EAA2DM,UAA3D,CADV;;AAGA,UAAIN,MAAJ,EAAY;AAAE1L,QAAAA,GAAG,GAAG,CAACA,GAAD,CAAN;AAAc;;AAC5B,UAAIO,EAAE,CAACwJ,KAAH,IAAYxJ,EAAE,CAACwJ,KAAH,CAAS1N,MAAzB,EAAiC;AAC7B,aAAK,IAAIsN,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAGrJ,EAAE,CAACwJ,KAAH,CAAS1N,MAAhC,EAAwCsN,CAAC,GAAGC,IAA5C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD3J,UAAAA,GAAG,CAACc,IAAJ,CAAS,KAAK2K,gBAAL,CAAsBlL,EAAE,CAACwJ,KAAH,CAASJ,CAAT,EAAY9N,MAAZ,CAAmBkR,UAAnB,EAAtB,EAAuDrB,MAAvD,EAA+DM,UAA/D,CAAT;AACH;AACJ;;AACDL,MAAAA,MAAM,CAAC7K,IAAP,CAAYd,GAAZ;AACH;;AACD,QAAI9D,IAAI,KAAK,UAAT,IAAwBwP,MAAM,IAAIxP,IAAI,KAAK,cAA/C,EAAgE;AAAEyP,MAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AAAqB;;AACvF,WAAOA,MAAP;AACH,GA1RsC;AA4RvC0B,EAAAA,eAAe,EAAE,yBAAUlN,OAAV,EAAmB;AACtC,WAAOzD,CAAC,CAACyD,OAAF,CAAUA,OAAV,EAAmBE,SAAnB,GAA+B,CAA/B,CAAP;AACG,GA9RsC;AAgSvCiN,EAAAA,UAAU,EAAE,oBAAUnN,OAAV,EAAmB;AACjC,SAAKoN,WAAL,CAAiB,KAAKpD,OAAtB,EAA+BhK,OAA/B;;AACM,WAAO,IAAP;AACH,GAnSsC;AAqSvCyH,EAAAA,SAAS,EAAE,qBAAY;AACnB,WAAO,KAAK4F,UAAL,CAAgB,IAAhB,CAAP;AACH,GAvSsC;AAySvCA,EAAAA,UAAU,EAAE,oBAAUJ,YAAV,EAAwB;AAChC,QAAIlR,IAAI,GAAG,KAAKN,OAAL,CAAaM,IAAxB;AAAA,QACIkL,UAAU,GAAG,KAAKoE,UAAL,EADjB;AAAA,QAEIG,MAFJ;AAIA,WAAOvE,UAAU,CAACzH,IAAlB;;AAEA,QAAI,CAAC,KAAK/D,OAAL,CAAa4F,QAAd,IAA0BtF,IAAI,KAAK,OAAvC,EAAgD;AAC5C,UAAIF,GAAG,GAAG,KAAKiM,IAAf;;AACA,UAAIjM,GAAG,YAAYU,CAAC,CAACwD,OAArB,EAA8B;AAC1BlE,QAAAA,GAAG,GAAGU,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBsJ,cAAnB,CAAkCzR,GAAlC,EAAuCqE,SAAvC,GAAmD,CAAnD,CAAN;AACH;;AACD,UAAIgC,OAAO,GAAGrG,GAAG,CAAC4L,SAAJ,EAAd;AACAvF,MAAAA,OAAO,CAAC+E,UAAR,GAAqBA,UAArB;AACA,aAAO/E,OAAP;AACH,KARD,MAQO,IAAI,KAAK2D,KAAT,EAAgB;AACnB2F,MAAAA,MAAM,GAAG,KAAKwB,UAAL,CAAgBC,YAAhB,CAAT;;AACA,UAAIlR,IAAI,KAAK,WAAb,EAA0B;AAAEA,QAAAA,IAAI,GAAG,SAAP;AAAmB,OAA/C,MACK,IAAIA,IAAI,KAAK,UAAb,EAAyB;AAAEA,QAAAA,IAAI,GAAG,YAAP;AAAsB,OAAjD,MACA,IAAIA,IAAI,KAAK,eAAb,EAA8B;AAAEA,QAAAA,IAAI,GAAG,iBAAP;AAA2B;AACnE;;AAED,WAAOQ,CAAC,CAACwD,OAAF,CAAUwN,UAAV,CAAqB;AACxB1M,MAAAA,OAAO,EAAE;AACL9E,QAAAA,IAAI,EAAE,SADD;AAELkL,QAAAA,UAAU,EAAEA;AAFP;AADe,KAArB,EAKJ;AACClL,MAAAA,IAAI,EAAEA,IADP;AAECyR,MAAAA,WAAW,EAAEhC;AAFd,KALI,CAAP;AASH,GAxUsC;AA0UvCiC,EAAAA,OAAO,EAAE,mBAAY;AACjB,WAAO,KAAKhS,OAAL,CAAaM,IAApB;AACH,GA5UsC;AA8UvC2R,EAAAA,QAAQ,EAAE,oBAAY;AAClB,QAAI,KAAKC,KAAL,CAAWvQ,IAAf,EAAqB;AAChB,WAAKA,IAAL,CAAUyG,WAAV,CAAsB,KAAK8J,KAA3B;AACJ;AACJ,GAlVsC;AAoVvCC,EAAAA,QAAQ,EAAE,oBAAY;AAClB,QAAIC,OAAO,GAAG,KAAKpG,SAAL,EAAd;AAAA,QACI5L,GAAG,GAAGU,CAAC,CAACwD,OAAF,CAAU+N,eAAV,CAA0BD,OAA1B,EAAmC,IAAnC,EAAyC,IAAzC,EAA+C;AAACE,MAAAA,MAAM,EAAE;AAAT,KAA/C,CADV;;AAGA,SAAKJ,KAAL,CAAWK,WAAX;;AACA,QAAInS,GAAG,YAAYU,CAAC,CAAC6M,UAArB,EAAiC;AAC7BvN,MAAAA,GAAG,CAACmF,SAAJ,CAAc,UAAUJ,KAAV,EAAiB;AAC3B,aAAK+M,KAAL,CAAWvL,QAAX,CAAoBxB,KAApB;AACH,OAFD,EAEG,IAFH;AAGH,KAJD,MAIO;AACH/E,MAAAA,GAAG,CAACyE,QAAJ,CAAa;AAACgJ,QAAAA,YAAY,EAAE,CAAf;AAAkByE,QAAAA,MAAM,EAAE,CAA1B;AAA6BnS,QAAAA,IAAI,EAAE,IAAnC;AAAyCqS,QAAAA,SAAS,EAAE;AAApD,OAAb;;AACA,WAAKN,KAAL,CAAWvL,QAAX,CAAoBvG,GAApB;AACH;;AACD,QAAI,CAAC,KAAK8R,KAAL,CAAWvQ,IAAhB,EAAsB;AAClB,WAAKA,IAAL,CAAUgF,QAAV,CAAmB,KAAKuL,KAAxB;;AACA,WAAKA,KAAL,CAAW9D,WAAX;AACH;;AACD,WAAO,IAAP;AACH,GAtWsC;AAwWvC1C,EAAAA,SAAS,EAAE,qBAAW;AAClB,QAAI+G,MAAM,GAAG,IAAI3R,CAAC,CAAC4R,YAAN,EAAb;;AACA,QAAI,KAAK1S,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AAC/B,UAAIyJ,MAAM,GAAG,KAAKsC,IAAL,CAAUT,SAAV,EAAb;;AACA6G,MAAAA,MAAM,CAACtR,MAAP,CAAc4I,MAAd;AACH,KAHD,MAGO;AACH0I,MAAAA,MAAM,GAAG,KAAKE,UAAL,EAAT;AACH;;AACD,WAAOF,MAAP;AACH,GAjXsC;AAmXvCE,EAAAA,UAAU,EAAE,oBAASzO,IAAT,EAAe;AACvB,QAAIiB,KAAK,GAAGjB,IAAI,IAAI,IAApB;AAAA,QACIuO,MAAM,GAAG,IAAI3R,CAAC,CAAC4R,YAAN,EADb;AAAA,QAEI3I,MAFJ;;AAGA,QAAI5E,KAAK,YAAYrE,CAAC,CAAC6M,UAAvB,EAAmC;AAC/BxI,MAAAA,KAAK,CAACI,SAAN,CAAgB,UAAUZ,EAAV,EAAc;AAC1BoF,QAAAA,MAAM,GAAG,KAAK4I,UAAL,CAAgBhO,EAAhB,CAAT;AACA8N,QAAAA,MAAM,CAACtR,MAAP,CAAc4I,MAAd;AACH,OAHD,EAGG,IAHH;AAIA,aAAO0I,MAAP;AACH,KAND,MAMO,IAAItN,KAAK,YAAYrE,CAAC,CAAC4E,MAAvB,EAA+B;AAClCqE,MAAAA,MAAM,GAAG5E,KAAK,CAACyG,SAAN,EAAT;AACH,KAFM,MAEA;AACH7B,MAAAA,MAAM,GAAG5E,KAAK,CAACuG,SAAN,EAAT;AACH;;AACD+G,IAAAA,MAAM,CAACtR,MAAP,CAAc4I,MAAd;AACA,WAAO0I,MAAP;AACH,GApYsC;AAsYvChR,EAAAA,UAAU,EAAE,oBAAUmR,MAAV,EAAkBxS,GAAlB,EAAuBJ,OAAvB,EAAgC;AACxCA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,SAAK8B,WAAL,GAAmB,IAAIhB,CAAC,CAACf,qBAAN,EAAnB;AACAC,IAAAA,OAAO,CAAC+D,IAAR,GAAe,EAAf;AACA,SAAKqL,YAAL,GAAoBtO,CAAC,CAACK,MAAF,CAAS,EAAT,EAAanB,OAAb,CAApB;AACA,QAAIM,IAAI,GAAGN,OAAO,CAACM,IAAnB;;AACA,QAAIA,IAAI,KAAK,OAAb,EAAsB;AAClB,aAAON,OAAO,CAACyI,UAAf;AACA,aAAOzI,OAAO,CAAC8E,SAAf;AACH,KAHD,MAGO;AACH,aAAO9E,OAAO,CAAC2I,OAAf;AACA,aAAO3I,OAAO,CAAC4I,UAAf;AACA,aAAO5I,OAAO,CAAC6I,QAAf;AACA,aAAO7I,OAAO,CAAC8I,WAAf;AACA,aAAO9I,OAAO,CAAC+I,UAAf;AACA,aAAO/I,OAAO,CAACsG,WAAf;AACH;;AACD,WAAOtG,OAAO,CAAC0I,SAAf;AAEA5H,IAAAA,CAAC,CAACuO,UAAF,CAAa,IAAb,EAAmBrP,OAAnB;AAEA,SAAK6S,OAAL,GAAe,EAAf;AACA,SAAKxG,IAAL,GAAYjM,GAAZ;AACA,SAAKmO,OAAL,GAAeqE,MAAf;AACA,SAAK9B,GAAL,GAAW,CAAX;AACA,SAAKC,GAAL,GAAW,CAAX;;AAEA,SAAKY,WAAL,CAAiBiB,MAAjB,EAAyBxS,GAAzB;AACH,GAnasC;AAqavCmP,EAAAA,UAAU,EAAE,sBAAW;AACnB,SAAKvP,OAAL,CAAa+D,IAAb,GAAoB,MAApB;AACA,QAAIzD,IAAI,GAAG,KAAKN,OAAL,CAAaM,IAAxB;;AACA,QAAIA,IAAI,KAAK,OAAb,EAAsB;AAClB;AACI;AACA;AACA;AACA;AACI;AACA;AACA;AACJ;AACJ;AACA,UAAImG,OAAO,GAAG3F,CAAC,CAACyD,OAAF,CAAU,KAAKyH,SAAL,EAAV,CAAd;AAAA,UACRpK,KAAK,GAAG6E,OAAO,CAAChC,SAAR,EADA;AAEA,WAAKzE,OAAL,CAAa4F,QAAb,GAAwB,IAAxB;;AACT,UAAIhE,KAAK,CAACnB,MAAV,EAAkB;AACjB,aAAKkR,WAAL,CAAiB,KAAKpD,OAAtB,EAA+B3M,KAAK,CAAC,CAAD,CAApC;AACA;AACK;;AACD,WAAO,IAAP;AACH,GA3bsC;AA6bvC4N,EAAAA,WAAW,EAAE,uBAAW;AACpB,QAAIlP,IAAI,GAAG,KAAKN,OAAL,CAAaM,IAAxB;;AACA,QAAIA,IAAI,KAAK,OAAb,EAAsB;AAC3B,WAAKsE,cAAL,GAAsB,KAAK5E,OAAL,CAAa8E,SAAnC;AACS,UAAI2B,OAAO,GAAG3F,CAAC,CAACyD,OAAF,CAAU,KAAKyH,SAAL,GAAiB3G,QAA3B,EAAqC,KAAKT,cAA1C,EAA0DH,SAA1D,GAAsE,CAAtE,CAAd;;AACA,WAAK,IAAI9D,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG,KAAKwJ,KAAL,CAAW3J,MAAjC,EAAyCE,CAAC,GAAGC,GAA7C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,YAAIgE,EAAE,GAAG,KAAKyF,KAAL,CAAWzJ,CAAX,CAAT;AACAgE,QAAAA,EAAE,CAAC0F,IAAH,CAAQyI,cAAR;AACAnO,QAAAA,EAAE,CAAC0F,IAAH,CAAQrK,OAAR,CAAgB4F,QAAhB,GAA2B,KAA3B;;AACA,aAAK,IAAImI,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAGrJ,EAAE,CAACwJ,KAAH,CAAS1N,MAAhC,EAAwCsN,CAAC,GAAGC,IAA5C,EAAkDD,CAAC,EAAnD,EAAuD;AACnD,cAAIE,IAAI,GAAGtJ,EAAE,CAACwJ,KAAH,CAASJ,CAAT,CAAX;AACAE,UAAAA,IAAI,CAAC6E,cAAL;AACA7E,UAAAA,IAAI,CAACjO,OAAL,CAAa4F,QAAb,GAAwB,KAAxB;AACH;AACJ;;AACD,WAAKyG,IAAL,GAAY5F,OAAZ;AACA,WAAKzG,OAAL,CAAa4F,QAAb,GAAwB,KAAxB;;AACA,WAAK+L,WAAL,CAAiB,KAAKpD,OAAtB,EAA+B,KAAKlC,IAApC;AACH;;AACD,WAAO,IAAP;AACH,GAjdsC;AAmdvC0G,EAAAA,OAAO,EAAE,mBAAY;AACjB,QAAI7H,GAAG,GAAG,CAAV;;AACA,QAAIpK,CAAC,CAACoB,OAAF,CAAU8Q,cAAd,EAA8B;AAC1B9H,MAAAA,GAAG,GAAGpK,CAAC,CAACoB,OAAF,CAAU8Q,cAAV,CAAyB,KAAKhH,SAAL,EAAzB,CAAN;AACH;;AACD,WAAOd,GAAP;AACH,GAzdsC;AA2dvC+H,EAAAA,SAAS,EAAE,qBAAY;AACnB,QAAI/H,GAAG,GAAG,CAAV;;AACA,QAAIpK,CAAC,CAACoB,OAAF,CAAUgR,gBAAd,EAAgC;AAC5BhI,MAAAA,GAAG,GAAGpK,CAAC,CAACoB,OAAF,CAAUgR,gBAAV,CAA2B,KAAKlH,SAAL,EAA3B,CAAN;AACH;;AACD,WAAOd,GAAP;AACH,GAjesC;AAmevCU,EAAAA,SAAS,EAAE,qBAAY;AACzB,WAAO,KAAKuH,aAAZ;AACG,GAresC;AAuevCC,EAAAA,iBAAiB,EAAE,6BAAY;AACjC,WAAO,KAAKD,aAAZ;AACG,GAzesC;AA2evCE,EAAAA,UAAU,EAAE,sBAAY;AACpB,QAAIC,GAAG,GAAG,EAAV;AAAA,QACIC,MAAM,GAAG,KAAK5R,IAAL,GAAY,KAAKA,IAAL,CAAU3B,OAAtB,GAAgC,EAD7C;AAAA,QAEIM,IAAI,GAAG,KAAKN,OAAL,CAAaM,IAFxB;;AAIA,QAAIA,IAAI,KAAK,UAAT,IAAuBA,IAAI,KAAK,eAApC,EAAqD;AACjDgT,MAAAA,GAAG,GAAGxS,CAAC,CAACoB,OAAF,CAAUC,gBAAV,CAA2B,KAAK8Q,SAAL,EAA3B,EAA6CM,MAAM,CAACC,YAApD,CAAN;AACH,KAFD,MAEO,IAAIlT,IAAI,KAAK,SAAT,IAAsBA,IAAI,KAAK,cAA/B,IAAiDA,IAAI,KAAK,WAA9D,EAA2E;AAC9EgT,MAAAA,GAAG,GAAGxS,CAAC,CAACoB,OAAF,CAAUuR,YAAV,CAAuB,KAAKV,OAAL,EAAvB,EAAuCQ,MAAM,CAACG,UAA9C,CAAN;AACH,KAFM,MAEA,IAAIpT,IAAI,KAAK,OAAb,EAAsB;AACzB,UAAIyJ,MAAM,GAAG,KAAKsC,IAAL,CAAUT,SAAV,EAAb;;AACA0H,MAAAA,GAAG,GAAGxS,CAAC,CAACoB,OAAF,CAAUyR,iBAAV,CAA4B5J,MAA5B,CAAN;AACH;;AACD,WAAOuJ,GAAP;AACH,GAzfsC;AA2fvC3B,EAAAA,WAAW,EAAE,qBAAUiB,MAAV,EAAkBxS,GAAlB,EAAuB;AAAA;;AAChC,SAAKmS,WAAL;AACA,SAAKnI,KAAL,GAAa,EAAb;AACA,SAAKrG,IAAL,GAAY,EAAZ;AACA,SAAKoP,aAAL,GAAqBrS,CAAC,CAACiJ,MAAF,CAAS,CAAT,EAAY,CAAZ,CAArB,CAJgC;;AAMhC,SAAKmI,KAAL,GAAapR,CAAC,CAACiL,YAAF,EAAb;;AACN,QAAI,KAAKmG,KAAL,CAAWlS,OAAf,EAAwB;AACvB,WAAKkS,KAAL,CAAWlS,OAAX,CAAmB6N,YAAnB,GAAkC,CAAlC;AACA;;AAEK,QAAI,KAAK7N,OAAL,CAAa4F,QAAjB,EAA2B;AACvB,UAAIxB,GAAG,GAAG,EAAV;;AACT,UAAItD,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB0H,YAAvB,EAAqC;AACpC7L,QAAAA,GAAG,GAAGhE,GAAG,CAACqE,SAAJ,GAAgB3D,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBsJ,cAAnB,CAAkCzR,GAAlC,EAAuCqE,SAAvC,EAAhB,GAAqE,CAACrE,GAAD,CAA3E;AACA,OAFD,MAEO;AACNgE,QAAAA,GAAG,GAAGhE,GAAG,CAACqE,SAAJ,GAAgB3D,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBsJ,cAAnB,CAAkCzR,GAAlC,CAAhB,GAAyD,CAACA,GAAD,CAA/D;;AACA,YAAIA,GAAG,CAACE,IAAJ,IAAYF,GAAG,CAAC2R,WAApB,EAAiC;AAChC,cAAIzR,IAAI,GAAGF,GAAG,CAACE,IAAf;AACAF,UAAAA,GAAG,GAAG,KAAKqR,eAAL,CAAqBrR,GAArB,CAAN;;AACA,cAAIE,IAAI,KAAK,SAAb,EAAwB;AACvB,gBAAIsT,GAAG,GAAGxT,GAAG,CAAC+Q,UAAJ,EAAV;AACA/M,YAAAA,GAAG,GAAG,CAAC;AAACyP,cAAAA,QAAQ,EAAED,GAAG,CAACE,KAAJ,EAAX;AAAwBC,cAAAA,MAAM,EAAEH;AAAhC,aAAD,CAAN;AACA,WAHD,MAGO,IAAItT,IAAI,KAAK,cAAb,EAA6B;AACnC8D,YAAAA,GAAG,GAAGhE,GAAG,CAAC+Q,UAAJ,GAAiBzP,GAAjB,CAAqB,UAASiD,EAAT,EAAa;AAAE,qBAAO;AAACkP,gBAAAA,QAAQ,EAAElP,EAAE,CAACmP,KAAH,EAAX;AAAuBC,gBAAAA,MAAM,EAAEpP;AAA/B,eAAP;AAA4C,aAAhF,CAAN;AACA,WAFM,MAEA,IAAIrE,IAAI,KAAK,YAAb,EAA2B;AACjC8D,YAAAA,GAAG,GAAG,CAAC;AAACyP,cAAAA,QAAQ,EAAEzT,GAAG,CAAC+Q,UAAJ;AAAX,aAAD,CAAN;AACA,WAFM,MAEA,IAAI7Q,IAAI,KAAK,iBAAb,EAAgC;AACtC8D,YAAAA,GAAG,GAAGhE,GAAG,CAAC+Q,UAAJ,GAAiBzP,GAAjB,CAAqB,UAASiD,EAAT,EAAa;AAAE,qBAAO;AAACkP,gBAAAA,QAAQ,EAAElP;AAAX,eAAP;AAAwB,aAA5D,CAAN;AACA,WAFM,MAEA,IAAIrE,IAAI,KAAK,OAAb,EAAsB;AAC5B,iBAAK+L,IAAL,GAAY,IAAIvL,CAAC,CAAC4E,MAAN,CAAatF,GAAG,CAACwL,SAAJ,EAAb,EAA8B;AAACzF,cAAAA,SAAS,EAAE;AAAZ,aAA9B,CAAZ;;AACA,iBAAK6N,UAAL,CAAgB,KAAK3H,IAArB;;AACA;AACA,WAJM,MAIA,IAAI/L,IAAI,KAAK,YAAb,EAA2B;AACjCF,YAAAA,GAAG,CAACqE,SAAJ,GACE0I,OADF,CACU,UAASxI,EAAT,EAAa;AACrB,mBAAKqP,UAAL,CAAgB,IAAIlT,CAAC,CAAC4E,MAAN,CAAaf,EAAE,CAACiH,SAAH,EAAb,EAA6B;AAACzF,gBAAAA,SAAS,EAAE;AAAZ,eAA7B,CAAhB;AACA,aAFQ,CAEP1G,IAFO,CAEF,IAFE,CADV;AAIA;AACA;AAED,SAxBD,MAwBO,IAAI,KAAKO,OAAL,CAAaM,IAAb,KAAsB,cAA1B,EAA0C;AAChD8D,UAAAA,GAAG,GAAG,CAAChE,GAAG,CAACqE,SAAJ,GAAgBrE,GAAG,CAACqE,SAAJ,GAAgB,CAAhB,CAAhB,GAAqCrE,GAAtC,EACJ+Q,UADI,GAEJzP,GAFI,CAEA,UAASiD,EAAT,EAAa;AAAE,mBAAO;AAACkP,cAAAA,QAAQ,EAAElP,EAAE,CAACmP,KAAH,EAAX;AAAuBC,cAAAA,MAAM,EAAEpP;AAA/B,aAAP;AAA4C,WAF3D,CAAN;AAGA,SAJM,MAIA,IAAI,KAAK3E,OAAL,CAAaM,IAAb,KAAsB,SAA1B,EAAqC;AAC3C,cAAIuT,QAAQ,GAAG,CAACzT,GAAG,CAACqE,SAAJ,GAAgBrE,GAAG,CAACqE,SAAJ,GAAgB,CAAhB,CAAhB,GAAqCrE,GAAtC,EAA2C+Q,UAA3C,EAAf;;AACA/M,UAAAA,GAAG,GAAG,CAAC;AAACyP,YAAAA,QAAQ,EAAEA,QAAQ,CAACC,KAAT,EAAX;AAA6BC,YAAAA,MAAM,EAAEF;AAArC,WAAD,CAAN;AACA;AACD;;AACQ,WAAK,IAAIlT,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGwD,GAAG,CAAC3D,MAA1B,EAAkCE,CAAC,GAAGC,GAAtC,EAA2CD,CAAC,EAA5C,EAAgD;AAC5C,YAAIgE,EAAE,GAAGP,GAAG,CAACzD,CAAD,CAAZ;AAAA,YACIwN,KAAK,GAAG,EADZ;AAAA,YAEI9D,IAAI,GAAG,IAAIvJ,CAAC,CAACG,UAAF,CAAagT,IAAjB,CAAsB,IAAtB,EAA4BtP,EAAE,CAACkP,QAA/B,EAAyC;AAACxJ,UAAAA,IAAI,EAAE,IAAP;AAAazE,UAAAA,QAAQ,EAAE,KAAK5F,OAAL,CAAa4F;AAApC,SAAzC,CAFX;AAIAyE,QAAAA,IAAI,CAAC1G,EAAL,CAAQ,OAAR,EAAiB,UAAAuQ,CAAC,EAAI;AAClB,UAAA,MAAI,CAACvJ,IAAL,CAAU,OAAV,EAAmBuJ,CAAnB;AACH,SAFD;AAIA,aAAKvN,QAAL,CAAc0D,IAAd;;AACA,YAAI1F,EAAE,CAACoP,MAAP,EAAe;AACX,eAAK,IAAIhG,CAAC,GAAG,CAAR,EAAWC,IAAI,GAAGrJ,EAAE,CAACoP,MAAH,CAAUtT,MAAjC,EAAyCsN,CAAC,GAAGC,IAA7C,EAAmDD,CAAC,EAApD,EAAwD;AACpD,gBAAIE,IAAI,GAAG,IAAInN,CAAC,CAACG,UAAF,CAAagT,IAAjB,CAAsB,IAAtB,EAA4BtP,EAAE,CAACoP,MAAH,CAAUhG,CAAV,CAA5B,EAA0C;AAACE,cAAAA,IAAI,EAAE,IAAP;AAAarI,cAAAA,QAAQ,EAAE,KAAK5F,OAAL,CAAa4F;AAApC,aAA1C,CAAX;AACA,iBAAKe,QAAL,CAAcsH,IAAd;AACAE,YAAAA,KAAK,CAACjJ,IAAN,CAAW+I,IAAX;AACH;AACJ;;AACD,aAAK7D,KAAL,CAAWlF,IAAX,CAAgB;AAACmF,UAAAA,IAAI,EAAEA,IAAP;AAAa8D,UAAAA,KAAK,EAAEA;AAApB,SAAhB;AACH;;AAEV,UAAI,KAAKnO,OAAL,CAAa4N,UAAb,IAA2B9M,CAAC,CAACuB,OAAjC,EAA0C;AACzC,aAAK8R,kBAAL;AACA;;AAEQ,UAAIrT,CAAC,CAACoB,OAAF,IAAapB,CAAC,CAACoB,OAAF,CAAUC,gBAAvB,IAA2C,CAAC,KAAKiS,YAArD,EAAmE;AAC/D,YAAIC,KAAK,GAAGvT,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmB+L,SAA/B;AACA,YAAIrL,EAAE,GAAG,IAAT;;AACA,aAAKmL,YAAL,GAAoB,UAAU9T,IAAV,EAAgBsD,EAAhB,EAAoB;AACpC,cAAIyG,IAAI,GAAGzG,EAAE,CAACyG,IAAd;AAAA,cACInB,aAAa,GAAGtF,EAAE,CAACsF,aADvB;AAAA,cAEIqL,IAAI,GAAGjU,IAAI,KAAK,OAAT,KAAqB4I,aAAa,CAACsL,OAAd,IAAyBtL,aAAa,CAACuL,MAA5D,CAFX;;AAIf,cAAIpK,IAAI,KAAKA,IAAI,CAACqK,UAAL,IAAmB,CAACH,IAAzB,CAAR,EAAwC;AACtB,gBAAIhB,MAAM,GAAGtK,EAAE,CAACtH,IAAH,GAAUsH,EAAE,CAACtH,IAAH,CAAQ3B,OAAlB,GAA4B,EAAzC;AAAA,gBACKwT,YAAY,GAAGD,MAAM,CAACC,YAD3B;AAAA,gBAEKE,UAAU,GAAGH,MAAM,CAACG,UAFzB;AAAA,gBAGKiB,UAAU,GAAGpB,MAAM,CAACoB,UAAP,IAAqB,KAHvC;AAAA,gBAIKrB,GAAG,GAAG,EAJX;;AAMjB,gBAAIhT,IAAI,KAAK,MAAT,IAAmB+J,IAAI,CAACtG,IAAL,KAAc,KAArC,EAA4C;AAC3CzD,cAAAA,IAAI,GAAG,QAAP;AACA;;AAEiB,gBAAIA,IAAI,KAAK,MAAb,EAAqB;AACjB,kBAAI,CAACQ,CAAC,CAACoB,OAAF,CAAU6Q,OAAf,EAAwB;AAAE;AAAS;;AACnC,kBAAI7J,aAAa,IAAIA,aAAa,CAACC,OAAnC,EAA4C;AACxCmK,gBAAAA,GAAG,GAAGe,KAAK,CAAC,WAAD,CAAL,GAAqB,IAArB,GAA4BvT,CAAC,CAACoB,OAAF,CAAUC,gBAAV,CAA2B8G,EAAE,CAACgK,SAAH,EAA3B,EAA2CO,YAA3C,CAAlC;AACH,eAFD,MAEO;AACHF,gBAAAA,GAAG,GAAGe,KAAK,CAAC/T,IAAD,CAAL,GAAc,IAAd,GAAqBQ,CAAC,CAACoB,OAAF,CAAUuR,YAAV,CAAuBxK,EAAE,CAAC8J,OAAH,EAAvB,EAAqCW,UAArC,CAA3B;AACH;;AACDzK,cAAAA,EAAE,CAACsF,OAAH,CAAWvL,WAAX,CAAuBY,EAAE,CAACgR,UAA1B,EAAsCtB,GAAtC;AACH,aARD,MAQO,IAAIhT,IAAI,KAAK,QAAb,EAAuB;AAC1B,kBAAIuU,QAAQ,GAAG/T,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBuM,WAAnB,CAA+BxG,IAA/B,CAAoCrF,EAApC,EAAwCrF,EAAxC,EAA4CqF,EAAE,CAACtH,IAA/C,EAAqDsH,EAArD,CAAf;AAAA,kBACI8L,QAAQ,GAAGJ,UAAU,GAAGtK,IAAI,CAAC2K,cAAL,CAAoBH,QAApB,CAAH,GAAmC,IAD5D;;AAGrB,kBAAIE,QAAQ,IAAIA,QAAQ,CAACtU,MAArB,KAAgCwI,EAAE,CAACjJ,OAAH,CAAWM,IAAX,KAAoB,UAApB,IAAkC+J,IAAI,CAACtG,IAAL,KAAc,KAAhF,CAAJ,EAA4F;AAC3FuP,gBAAAA,GAAG,GAAGe,KAAK,CAAC,aAAD,CAAL,GAAuB,IAAvB,GAA8BU,QAAQ,CAACE,KAAvC,GAA+C,GAA/C,GAAqDnU,CAAC,CAACoB,OAAF,CAAUC,gBAAV,CAA2B4S,QAAQ,CAACtU,MAApC,EAA4C+S,YAA5C,CAArD,GAAiH,GAAvH;AACA,eAFD,MAEO;AACN,oBAAI/S,MAAM,GAAG4J,IAAI,CAAC4I,SAAL,CAAe4B,QAAf,CAAb;AAAA,oBACCK,SAAS,GAAG,CAACL,QAAQ,CAAC9Q,IAAT,KAAkB,MAAlB,IAA4B8Q,QAAQ,CAACM,GAAT,GAAe,CAA3C,GAA+CN,QAAQ,CAACvU,IAAxD,GAA+D,EAAhE,IAAsEA,IADnF;AAAA,oBAEC8U,KAAK,GAAGf,KAAK,CAACa,SAAD,CAFd;;AAGA5B,gBAAAA,GAAG,GAAG,CAAC8B,KAAK,KAAKF,SAAV,GAAsBb,KAAK,CAAC/T,IAAD,CAA3B,GAAoC8U,KAArC,IAA8C,IAA9C,GAAqDtU,CAAC,CAACoB,OAAF,CAAUC,gBAAV,CAA2B1B,MAA3B,EAAmC+S,YAAnC,CAA3D;AACA;;AACoBvK,cAAAA,EAAE,CAACsF,OAAH,CAAWvL,WAAX,CAAuBY,EAAE,CAACgR,UAA1B,EAAsCtB,GAAtC;AACH,aAbM,MAaA,IAAIhT,IAAI,KAAK,OAAb,EAAsB;AAC9CgT,cAAAA,GAAG,GAAGe,KAAK,CAAC,OAAD,CAAL,GAAiB,IAAjB,GAAwBzD,IAAI,CAACC,KAAL,CAAW,QAAQxG,IAAI,CAACgL,MAAb,GAAsBzE,IAAI,CAAC0E,EAAtC,CAAxB,GAAoE,GAA1E;;AACqBrM,cAAAA,EAAE,CAACsF,OAAH,CAAWvL,WAAX,CAAuBY,EAAE,CAACgR,UAA1B,EAAsCtB,GAAtC;AACH;;AACDrK,YAAAA,EAAE,CAACwF,UAAH,CAAc,aAAd;AAClB;AACW,SA3CD;;AA4CA,aAAK1L,WAAL,GAAmB,YAAW;AAC1B,eAAKwL,OAAL,CAAaxL,WAAb;;AACA,eAAK0L,UAAL,CAAgB,YAAhB;AACH,SAHD;;AAIA,aAAK8G,QAAL,GAAgBlB,KAAhB;AACH;AACJ,KApHD,MAoHO,IAAI,KAAKrU,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AACtC,WAAK0T,UAAL,CAAgB5T,GAAhB;AACH,KAFM,MAEA;AACH,WAAKuG,QAAL,CAAcvG,GAAd;AACH;AACJ,GA/nBsC;AAioBvC+T,EAAAA,kBAAkB,EAAE,8BAAY;AAClC,SAAKxQ,EAAL,CAAQ,mBAAR,EAA6B,UAAUC,EAAV,EAAc;AAC1C,UAAI,KAAK4R,aAAT,EAAwB;AACvB,aAAKzG,oBAAL;AACA;;AAED,UAAIrI,MAAM,GAAG9C,EAAE,CAAC8C,MAAhB;AAAA,UACChF,GAAG,GAAG,KAAKC,IADZ;AAAA,UAEC4R,MAAM,GAAG7R,GAAG,GAAGA,GAAG,CAAC1B,OAAP,GAAiB,EAF9B;AAAA,UAGCwT,YAAY,GAAGD,MAAM,CAACC,YAHvB;AAAA,UAICE,UAAU,GAAGH,MAAM,CAACG,UAJrB;AAAA,UAKC+B,KAAK,GAAG3U,CAAC,CAACyB,OAAF,CAAUyG,MAAV,CAAiB,KAAjB,EAAwB,SAAxB,CALT;AAAA,UAMC0M,IAAI,GAAG5U,CAAC,CAACyB,OAAF,CAAUyG,MAAV,CAAiB,KAAjB,EAAwB,aAAxB,EAAuCyM,KAAvC,CANR;AAAA,UAOCE,QAAQ,GAAG7U,CAAC,CAACyB,OAAF,CAAUyG,MAAV,CAAiB,KAAjB,EAAwB,UAAxB,EAAoCyM,KAApC,CAPZ;AAAA,UAQClL,OAAO,GAAG,KAAKvK,OAAL,CAAaM,IAAb,KAAsB,SARjC;AAAA,UASCsV,QAAQ,GAAG;AAAC9K,QAAAA,WAAW,EAAE,IAAd;AAAoB+K,QAAAA,MAAM,EAAE,IAA5B;AAAkCC,QAAAA,SAAS,EAAE,IAA7C;AAAmDC,QAAAA,SAAS,EAAE;AAA9D,OATZ;;AAWA,UAAIxL,OAAJ,EAAa;AACZ,YAAI,KAAKvK,OAAL,CAAa4N,UAAb,KAA4B,QAAhC,EAA0C;AACzCgI,UAAAA,QAAQ,CAACI,SAAT,GAAqB,QAArB;AACAtP,UAAAA,MAAM,GAAG,KAAKgF,SAAL,GAAiBuK,SAAjB,EAAT;AACA;;AACDP,QAAAA,IAAI,CAACQ,SAAL,GAAiBpV,CAAC,CAACoB,OAAF,CAAUuR,YAAV,CAAuB,KAAKV,OAAL,EAAvB,EAAuCW,UAAvC,CAAjB;AACA,OAND,MAMO;AACNkC,QAAAA,QAAQ,CAACO,MAAT,GAAkBrV,CAAC,CAACmC,KAAF,CAAQ,EAAR,EAAY,CAAZ,CAAlB;AACA,YAAImB,GAAG,GAAG,KAAKgG,KAAL,CAAW,CAAX,EAAcC,IAAd,CAAmBpK,MAAnB,CAA0BkR,UAA1B,GAAuC,CAAvC,CAAV;AACAzK,QAAAA,MAAM,GAAGtC,GAAG,CAACA,GAAG,CAAC3D,MAAJ,GAAa,CAAd,CAAZ;AACAiV,QAAAA,IAAI,CAACQ,SAAL,GAAiBpV,CAAC,CAACoB,OAAF,CAAUC,gBAAV,CAA2B,KAAK8Q,SAAL,EAA3B,EAA6CO,YAA7C,CAAjB;AACA;;AACDmC,MAAAA,QAAQ,CAACO,SAAT,GAAqB,GAArB;AACApV,MAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAcgS,QAAd,EAAwB,OAAxB,EAAiC,YAAW;AAC3C,aAAK5G,oBAAL;;AACA,aAAKjC,MAAL;AACA,OAHD,EAGG,IAHH;AAKA,WAAK0I,aAAL,GAAqB1U,CAAC,CAACuB,OAAF,CAAUuT,QAAV,EACnBQ,SADmB,CACT1P,MADS,EAEnB2P,UAFmB,CAERZ,KAFQ,EAGnBa,KAHmB,CAGb,KAAK3U,IAHQ,CAArB;AAKA6M,MAAAA,mBAAmB,CAAC,YAAY;AAC/B,aAAK7K,EAAL,CAAQ,MAAR,EAAgB,KAAKoL,oBAArB,EAA2C,IAA3C;AACA,OAFmB,CAElBtP,IAFkB,CAEb,IAFa,CAAD,EAEL;AAACiP,QAAAA,OAAO,EAAE;AAAV,OAFK,CAAnB;AAGA,KA1CD,EA0CG,IA1CH;AA2CG,GA7qBsC;AA+qBvCK,EAAAA,oBAAoB,EAAE,gCAAY;AACpC,QAAI,KAAKyG,aAAT,EAAwB;AACvB,WAAK7T,IAAL,CAAUyG,WAAV,CAAsB,KAAKoN,aAA3B;;AACA,WAAKA,aAAL,GAAqB,IAArB;AACA;AACE,GAprBsC;AAsrBvCpO,EAAAA,WAAW,EAAE,uBAAY;AACrB,SAAKmH,OAAL,CAAanH,WAAb;AACH,GAxrBsC;AA0rBvCN,EAAAA,YAAY,EAAE,wBAAY;AACtB,SAAKyH,OAAL,CAAazH,YAAb;AACH,GA5rBsC;AA8rBvCkN,EAAAA,UAAU,EAAE,oBAAUrI,MAAV,EAAkB;AAC1B,QAAIN,KAAK,GAAG,IAAZ;AAAA,QACIkD,OAAO,GAAG,KAAKA,OADnB;AAAA,QAEL5M,IAAI,GAAG4M,OAAO,CAAC5M,IAFV;AAAA,QAGL4R,MAAM,GAAG5R,IAAI,GAAGA,IAAI,CAAC3B,OAAR,GAAkB,EAH1B;;AAKA2L,IAAAA,MAAM,CACD4K,SADL,CACe,IADf,EACqB;AAACC,MAAAA,QAAQ,EAAE,IAAX;AAAiBC,MAAAA,YAAY,EAAElD,MAAM,CAACmD,aAAP,GAAuB,CAAvB,GAA2B,KAA3B,GAAmC;AAAlE,KADrB,EAEK/S,EAFL,CAEQ,UAFR,EAEoB,YAAW;AACvB,UAAIhC,IAAJ,EAAU;AAAEA,QAAAA,IAAI,CAACyG,WAAL,CAAiB,IAAjB;AAAyB;;AACrCiD,MAAAA,KAAK,CAACyB,MAAN,GAFuB;;AAI1B,KANL,EAOKnJ,EAPL,CAOQ,WAPR,EAOqB,YAAW;AACxB0H,MAAAA,KAAK,CAACoD,UAAN,CAAiB,WAAjB;AACH,KATL,EAUK9K,EAVL,CAUQ,MAVR,EAUgB,UAASC,EAAT,EAAa;AACjC,UAAIA,EAAE,CAACsF,aAAH,IAAoBtF,EAAE,CAACsF,aAAH,CAAiBC,OAAzC,EAAkD;AACjDwC,QAAAA,MAAM,CAACyK,SAAP,CAAiBtV,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmBoO,SAAnB,CAA6BhL,MAAM,CAACC,SAAP,EAA7B,EAAiDD,MAAjD,EAAyDhK,IAAzD,CAAjB;AACA;;AACW0J,MAAAA,KAAK,CAACoD,UAAN,CAAiB,MAAjB;;AACApD,MAAAA,KAAK,CAACoD,UAAN,CAAiB,MAAjB;AACH,KAhBL,EAiBK9K,EAjBL,CAiBQ,SAjBR,EAiBmB,YAAW;AACtB0H,MAAAA,KAAK,CAACoD,UAAN,CAAiB,SAAjB;AACH,KAnBL,EAoBK9K,EApBL,CAoBQ,WApBR,EAoBqB,UAASC,EAAT,EAAa;AAC1B,UAAIgT,KAAK,GAAGhT,EAAE,CAACgT,KAAf;;AACA,UAAI,CAACA,KAAK,CAACC,MAAX,EAAmB;AACfD,QAAAA,KAAK,CAACC,MAAN,GAAe/V,CAAC,CAACyB,OAAF,CAAUyG,MAAV,CAAiB,UAAjB,EAA6B,4BAA7B,EAA2D4N,KAAK,CAACE,YAAjE,CAAf,CADe;;AAGfF,QAAAA,KAAK,CAACC,MAAN,CAAaE,KAAb,GAAqB1L,KAAK,CAACrL,OAAN,CAAcoV,KAAd,IAAuBzJ,MAAM,CAAC3L,OAAP,CAAeoV,KAAtC,IAA+C,EAApE;AACAwB,QAAAA,KAAK,CAACE,YAAN,CAAmBjU,KAAnB,CAAyBmU,KAAzB,GAAiC,MAAjC;AACH;;AACDlW,MAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAciT,KAAK,CAACC,MAApB,EAA4B,OAA5B,EAAqC,YAAW;AAC5C,YAAII,IAAI,GAAG,KAAKF,KAAL,CAAWG,KAAX,CAAiB,IAAjB,CAAX;AAAA,YACIC,IAAI,GAAG,KAAKA,IAAL,IAAa,CADxB;AAGAF,QAAAA,IAAI,CAAC9J,OAAL,CAAa,UAASmG,GAAT,EAAc;AACvB,cAAIA,GAAG,CAAC7S,MAAJ,GAAa0W,IAAjB,EAAuB;AAAEA,YAAAA,IAAI,GAAG7D,GAAG,CAAC7S,MAAX;AAAoB;AAChD,SAFD;AAGA,aAAKwW,IAAL,GAAYA,IAAI,CAACxW,MAAjB;;AACA,YAAI0W,IAAJ,EAAU;AAAE,eAAKA,IAAL,GAAYA,IAAZ;AAAmB;;AAC/BP,QAAAA,KAAK,CAACQ,MAAN;AACA/L,QAAAA,KAAK,CAACrL,OAAN,CAAcoV,KAAd,GAAsBzJ,MAAM,CAAC3L,OAAP,CAAeoV,KAAf,GAAuB,KAAK2B,KAAlD;AACA,aAAKM,KAAL;AACH,OAZD,EAYGT,KAAK,CAACC,MAZT;AAaAD,MAAAA,KAAK,CAACQ,MAAN;AACH,KA1CL;;AA2CAzV,IAAAA,IAAI,CAACgF,QAAL,CAAcgF,MAAd;;AAEAN,IAAAA,KAAK,CAACQ,SAAN,GAAkBF,MAAM,CAACE,SAAP,GAAmB,YAAY;AAC7C,UAAIF,MAAM,CAAC2L,MAAP,IAAiB3L,MAAM,CAAChK,IAAxB,IAAgC,CAACgK,MAAM,CAAChK,IAAP,CAAYuK,QAAZ,CAAqBP,MAAM,CAAC2L,MAA5B,CAArC,EAA0E;AACtE3L,QAAAA,MAAM,CAAC2L,MAAP,CAAclB,SAAd,CAAwBzK,MAAM,CAAChG,OAA/B;;AACA,YAAIuH,UAAU,GAAGvB,MAAM,CAAChK,IAAP,CAAYuL,UAA7B;;AACA,YAAIA,UAAU,CAACpJ,SAAf,EAA0B;AACtB6H,UAAAA,MAAM,CAAChK,IAAP,CAAYgJ,IAAZ,CAAiBuC,UAAU,CAACzD,WAAX,GAAyB,OAAzB,GAAmC,SAApD,EAA+D;AAAC/C,YAAAA,MAAM,EAAEiF,MAAM,CAAChG,OAAhB;AAAyB4R,YAAAA,KAAK,EAAE;AAAhC,WAA/D;AACH,SAFD,MAEO;AACH5L,UAAAA,MAAM,CAAC2L,MAAP,CAAchB,KAAd,CAAoB3K,MAAM,CAAChK,IAA3B;;AACAgK,UAAAA,MAAM,CAAC2L,MAAP,CAAcE,OAAd,GAAwB,IAAxB;AACH;AACJ;;AACD,aAAO7L,MAAP;AACH,KAZD;AAaH,GA9vBsC;AAgwBvCnB,EAAAA,UAAU,EAAE,sBAAY;AACpB,QAAI,KAAKJ,KAAL,CAAW3J,MAAf,EAAuB;AACnB,WAAK2J,KAAL,CAAW,CAAX,EAAcC,IAAd,CAAmBG,UAAnB;AACH;;AACP,WAAO,IAAP;AACG,GArwBsC;AAuwBvCL,EAAAA,UAAU,EAAE,oBAAUvG,EAAV,EAAc;AACtB,QAAI,KAAKwG,KAAL,CAAW3J,MAAf,EAAuB;AACnB,WAAK2J,KAAL,CAAW,CAAX,EAAcC,IAAd,CAAmBF,UAAnB,CAA8BvG,EAA9B;AACH;AACJ,GA3wBsC;AA6wBvCuI,EAAAA,QAAQ,EAAE,oBAAW;AACjB,QAAI,KAAKnM,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AAC/B,aAAO,KAAK+L,IAAL,CAAUF,QAAV,EAAP;AACH;AACJ;AAjxBsC,CAApB,CAAvB;AAoxBerL,CAAC,CAACG,UAAF,CAAauE,OAA5B;;AClxBA;AACA;AACA,aAAc,GAAG,SAAS,IAAI,CAAC,KAAK,mCAAmC;AACvE,EAAE,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AACzB,EAAE,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAClC,EAAE,IAAI,eAAe,GAAG,SAAS,CAAC,MAAM,CAAC;AACzC,EAAE,IAAI,KAAK,GAAG,eAAe,CAAC,eAAe,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,EAAE,MAAM,CAAC,CAAC;AACtF,EAAE,IAAI,GAAG,GAAG,eAAe,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;AAC3D,EAAE,IAAI,MAAM,GAAG,GAAG,KAAK,SAAS,GAAG,MAAM,GAAG,eAAe,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;AACzE,EAAE,OAAO,MAAM,GAAG,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC;AAC5C,EAAE,OAAO,CAAC,CAAC;AACX,CAAC;;ACXD;AACA;AACA,0BAAc,GAAG5H,WAAW,GAAG,MAAM,CAAC,gBAAgB,GAAG,SAAS,gBAAgB,CAAC,CAAC,EAAE,UAAU,EAAE;AAClG,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AACd,EAAE,IAAI,IAAI,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC;AACpC,EAAE,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAC3B,EAAE,IAAI,KAAK,GAAG,CAAC,CAAC;AAChB,EAAE,IAAI,GAAG,CAAC;AACV,EAAE,OAAO,MAAM,GAAG,KAAK,EAAEI,oBAAoB,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;AACzF,EAAE,OAAO,CAAC,CAAC;AACX,CAAC;;ACbD,QAAc,GAAG,UAAU,CAAC,UAAU,EAAE,iBAAiB,CAAC;;ACM1D,IAAI,EAAE,GAAG,GAAG,CAAC;AACb,IAAI,EAAE,GAAG,GAAG,CAAC;AACb,IAAI,SAAS,GAAG,WAAW,CAAC;AAC5B,IAAI,MAAM,GAAG,QAAQ,CAAC;AACtB,IAAI,QAAQ,GAAG,SAAS,CAAC,UAAU,CAAC,CAAC;AACrC;AACA,IAAI,gBAAgB,GAAG,YAAY,eAAe,CAAC;AACnD;AACA,IAAI,SAAS,GAAG,UAAU,OAAO,EAAE;AACnC,EAAE,OAAO,EAAE,GAAG,MAAM,GAAG,EAAE,GAAG,OAAO,GAAG,EAAE,GAAG,GAAG,GAAG,MAAM,GAAG,EAAE,CAAC;AAC7D,CAAC,CAAC;AACF;AACA;AACA,IAAI,yBAAyB,GAAG,UAAU,eAAe,EAAE;AAC3D,EAAE,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;AACvC,EAAE,eAAe,CAAC,KAAK,EAAE,CAAC;AAC1B,EAAE,IAAI,IAAI,GAAG,eAAe,CAAC,YAAY,CAAC,MAAM,CAAC;AACjD,EAAE,eAAe,GAAG,IAAI,CAAC;AACzB,EAAE,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AACF;AACA;AACA,IAAI,wBAAwB,GAAG,YAAY;AAC3C;AACA,EAAE,IAAI,MAAM,GAAG,qBAAqB,CAAC,QAAQ,CAAC,CAAC;AAC/C,EAAE,IAAI,EAAE,GAAG,MAAM,GAAG,MAAM,GAAG,GAAG,CAAC;AACjC,EAAE,IAAI,cAAc,CAAC;AACrB,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;AAChC,EAAE,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAC3B;AACA,EAAE,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;AAC1B,EAAE,cAAc,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;AACjD,EAAE,cAAc,CAAC,IAAI,EAAE,CAAC;AACxB,EAAE,cAAc,CAAC,KAAK,CAAC,SAAS,CAAC,mBAAmB,CAAC,CAAC,CAAC;AACvD,EAAE,cAAc,CAAC,KAAK,EAAE,CAAC;AACzB,EAAE,OAAO,cAAc,CAAC,CAAC,CAAC;AAC1B,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,eAAe,CAAC;AACpB,IAAI,eAAe,GAAG,YAAY;AAClC,EAAE,IAAI;AACN;AACA,IAAI,eAAe,GAAG,QAAQ,CAAC,MAAM,IAAI,IAAI,aAAa,CAAC,UAAU,CAAC,CAAC;AACvE,GAAG,CAAC,OAAO,KAAK,EAAE,gBAAgB;AAClC,EAAE,eAAe,GAAG,eAAe,GAAG,yBAAyB,CAAC,eAAe,CAAC,GAAG,wBAAwB,EAAE,CAAC;AAC9G,EAAE,IAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC;AAClC,EAAE,OAAO,MAAM,EAAE,EAAE,OAAO,eAAe,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;AAC1E,EAAE,OAAO,eAAe,EAAE,CAAC;AAC3B,CAAC,CAAC;AACF;AACA,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;AAC5B;AACA;AACA;AACA,gBAAc,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,MAAM,CAAC,CAAC,EAAE,UAAU,EAAE;AACjE,EAAE,IAAI,MAAM,CAAC;AACb,EAAE,IAAI,CAAC,KAAK,IAAI,EAAE;AAClB,IAAI,gBAAgB,CAAC,SAAS,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9C,IAAI,MAAM,GAAG,IAAI,gBAAgB,EAAE,CAAC;AACpC,IAAI,gBAAgB,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC;AACvC;AACA,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACzB,GAAG,MAAM,MAAM,GAAG,eAAe,EAAE,CAAC;AACpC,EAAE,OAAO,UAAU,KAAK,SAAS,GAAG,MAAM,GAAGyZ,sBAAgB,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AAClF,CAAC;;ACzED,IAAI,WAAW,GAAG,eAAe,CAAC,aAAa,CAAC,CAAC;AACjD,IAAI,cAAc,GAAG,KAAK,CAAC,SAAS,CAAC;AACrC;AACA;AACA;AACA,IAAI,cAAc,CAAC,WAAW,CAAC,IAAI,SAAS,EAAE;AAC9C,EAAEzZ,oBAAoB,CAAC,CAAC,CAAC,cAAc,EAAE,WAAW,EAAE;AACtD,IAAI,YAAY,EAAE,IAAI;AACtB,IAAI,KAAK,EAAEgL,YAAM,CAAC,IAAI,CAAC;AACvB,GAAG,CAAC,CAAC;AACL,CAAC;AACD;AACA;AACA,oBAAc,GAAG,UAAU,GAAG,EAAE;AAChC,EAAE,cAAc,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;AAC1C,CAAC;;ACfD;AACA;AACA1J,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE;AACpC,EAAE,IAAI,EAAEa,SAAI;AACZ,CAAC,CAAC,CAAC;AACH;AACA;AACA,gBAAgB,CAAC,MAAM,CAAC;;ACTxB,IAAI,QAAQ,GAAG3B,aAAsC,CAAC,OAAO,CAAC;AACW;AACS;AAClF;AACA,IAAI,aAAa,GAAG,EAAE,CAAC,OAAO,CAAC;AAC/B;AACA,IAAI,aAAa,GAAG,CAAC,CAAC,aAAa,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAClE,IAAIkZ,eAAa,GAAG,mBAAmB,CAAC,SAAS,CAAC,CAAC;AACnD,IAAI/X,gBAAc,GAAG,uBAAuB,CAAC,SAAS,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AACnF;AACA;AACA;AACAL,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,aAAa,IAAI,CAACoY,eAAa,IAAI,CAAC/X,gBAAc,EAAE,EAAE;AAChG,EAAE,OAAO,EAAE,SAAS,OAAO,CAAC,aAAa,wBAAwB;AACjE,IAAI,OAAO,aAAa;AACxB;AACA,QAAQ,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC;AACjD,QAAQ,QAAQ,CAAC,IAAI,EAAE,aAAa,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;AACvF,GAAG;AACH,CAAC,CAAC;;ACnBF,IAAI,OAAO,GAAGnB,cAAuC,CAAC,MAAM,CAAC;AAC+B;AACV;AAClF;AACA,IAAIkB,qBAAmB,GAAG,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AACjE;AACA,IAAIC,gBAAc,GAAG,uBAAuB,CAAC,QAAQ,CAAC,CAAC;AACvD;AACA;AACA;AACA;AACAL,OAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,CAACI,qBAAmB,IAAI,CAACC,gBAAc,EAAE,EAAE;AACrF,EAAE,MAAM,EAAE,SAAS,MAAM,CAAC,UAAU,kBAAkB;AACtD,IAAI,OAAO,OAAO,CAAC,IAAI,EAAE,UAAU,EAAE,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC;AACtF,GAAG;AACH,CAAC,CAAC;;ACfF,sBAAc,GAAG,UAAU,EAAE,EAAE;AAC/B,EAAE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,IAAI,EAAE,KAAK,IAAI,EAAE;AACpC,IAAI,MAAM,SAAS,CAAC,YAAY,GAAG,MAAM,CAAC,EAAE,CAAC,GAAG,iBAAiB,CAAC,CAAC;AACnE,GAAG,CAAC,OAAO,EAAE,CAAC;AACd,CAAC;;ACHD;AACA;AACA;AACA;AACA,wBAAc,GAAG,MAAM,CAAC,cAAc,KAAK,WAAW,IAAI,EAAE,GAAG,YAAY;AAC3E,EAAE,IAAI,cAAc,GAAG,KAAK,CAAC;AAC7B,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC;AAChB,EAAE,IAAI,MAAM,CAAC;AACb,EAAE,IAAI;AACN,IAAI,MAAM,GAAG,MAAM,CAAC,wBAAwB,CAAC,MAAM,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,GAAG,CAAC;AAChF,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AAC1B,IAAI,cAAc,GAAG,IAAI,YAAY,KAAK,CAAC;AAC3C,GAAG,CAAC,OAAO,KAAK,EAAE,eAAe;AACjC,EAAE,OAAO,SAAS,cAAc,CAAC,CAAC,EAAE,KAAK,EAAE;AAC3C,IAAI,QAAQ,CAAC,CAAC,CAAC,CAAC;AAChB,IAAI,kBAAkB,CAAC,KAAK,CAAC,CAAC;AAC9B,IAAI,IAAI,cAAc,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AAC9C,SAAS,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC;AAC7B,IAAI,OAAO,CAAC,CAAC;AACb,GAAG,CAAC;AACJ,CAAC,EAAE,GAAG,SAAS,CAAC;;ACpBhB;AACA,qBAAc,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE;AAClD,EAAE,IAAI,SAAS,EAAE,kBAAkB,CAAC;AACpC,EAAE;AACF;AACA,IAAIgY,oBAAc;AAClB;AACA,IAAI,QAAQ,SAAS,GAAG,KAAK,CAAC,WAAW,CAAC,IAAI,UAAU;AACxD,IAAI,SAAS,KAAK,OAAO;AACzB,IAAI,QAAQ,CAAC,kBAAkB,GAAG,SAAS,CAAC,SAAS,CAAC;AACtD,IAAI,kBAAkB,KAAK,OAAO,CAAC,SAAS;AAC5C,IAAIA,oBAAc,CAAC,KAAK,EAAE,kBAAkB,CAAC,CAAC;AAC9C,EAAE,OAAO,KAAK,CAAC;AACf,CAAC;;AChBD;AACA;AACA,eAAc,GAAG,wJAAwJ;;ACCzK,IAAI,UAAU,GAAG,GAAG,GAAG,WAAW,GAAG,GAAG,CAAC;AACzC,IAAI,KAAK,GAAG,MAAM,CAAC,GAAG,GAAG,UAAU,GAAG,UAAU,GAAG,GAAG,CAAC,CAAC;AACxD,IAAI,KAAK,GAAG,MAAM,CAAC,UAAU,GAAG,UAAU,GAAG,IAAI,CAAC,CAAC;AACnD;AACA;AACA,IAAInY,cAAY,GAAG,UAAU,IAAI,EAAE;AACnC,EAAE,OAAO,UAAU,KAAK,EAAE;AAC1B,IAAI,IAAI,MAAM,GAAG,MAAM,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;AACvD,IAAI,IAAI,IAAI,GAAG,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACrD,IAAI,IAAI,IAAI,GAAG,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;AACrD,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG,CAAC;AACJ,CAAC,CAAC;AACF;AACA,cAAc,GAAG;AACjB;AACA;AACA,EAAE,KAAK,EAAEA,cAAY,CAAC,CAAC,CAAC;AACxB;AACA;AACA,EAAE,GAAG,EAAEA,cAAY,CAAC,CAAC,CAAC;AACtB;AACA;AACA,EAAE,IAAI,EAAEA,cAAY,CAAC,CAAC,CAAC;AACvB,CAAC;;AChBD,IAAI,mBAAmB,GAAGhB,yBAAqD,CAAC,CAAC,CAAC;AAClF,IAAIM,0BAAwB,GAAG8Y,8BAA0D,CAAC,CAAC,CAAC;AAC5F,IAAIC,gBAAc,GAAGC,oBAA8C,CAAC,CAAC,CAAC;AACtE,IAAI,IAAI,GAAGC,UAAmC,CAAC,IAAI,CAAC;AACpD;AACA,IAAI,MAAM,GAAG,QAAQ,CAAC;AACtB,IAAI,YAAY,GAAGva,QAAM,CAAC,MAAM,CAAC,CAAC;AAClC,IAAI,eAAe,GAAG,YAAY,CAAC,SAAS,CAAC;AAC7C;AACA;AACA,IAAI,cAAc,GAAGC,UAAO,CAACuL,YAAM,CAAC,eAAe,CAAC,CAAC,IAAI,MAAM,CAAC;AAChE;AACA;AACA;AACA,IAAI,QAAQ,GAAG,UAAU,QAAQ,EAAE;AACnC,EAAE,IAAI,EAAE,GAAG,WAAW,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AACxC,EAAE,IAAI,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC;AAChE,EAAE,IAAI,OAAO,EAAE,IAAI,QAAQ,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;AAC9C,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;AAClB,IAAI,KAAK,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC7B,IAAI,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,EAAE,EAAE;AACtC,MAAM,KAAK,GAAG,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AAC/B,MAAM,IAAI,KAAK,KAAK,EAAE,IAAI,KAAK,KAAK,GAAG,EAAE,OAAO,GAAG,CAAC;AACpD,KAAK,MAAM,IAAI,KAAK,KAAK,EAAE,EAAE;AAC7B,MAAM,QAAQ,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC;AAC9B,QAAQ,KAAK,EAAE,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,MAAM;AACzD,QAAQ,KAAK,EAAE,CAAC,CAAC,KAAK,GAAG,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC,OAAO,GAAG,EAAE,CAAC,CAAC,MAAM;AAC1D,QAAQ,SAAS,OAAO,CAAC,EAAE,CAAC;AAC5B,OAAO;AACP,MAAM,MAAM,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC3B,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;AAC7B,MAAM,KAAK,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,MAAM,EAAE,KAAK,EAAE,EAAE;AAC/C,QAAQ,IAAI,GAAG,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AACxC;AACA;AACA,QAAQ,IAAI,IAAI,GAAG,EAAE,IAAI,IAAI,GAAG,OAAO,EAAE,OAAO,GAAG,CAAC;AACpD,OAAO,CAAC,OAAO,QAAQ,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AACvC,KAAK;AACL,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC;AACf,CAAC,CAAC;AACF;AACA;AACA;AACA,IAAIjK,UAAQ,CAAC,MAAM,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE;AAC7F,EAAE,IAAI,aAAa,GAAG,SAAS,MAAM,CAAC,KAAK,EAAE;AAC7C,IAAI,IAAI,EAAE,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;AAC9C,IAAI,IAAI,KAAK,GAAG,IAAI,CAAC;AACrB,IAAI,OAAO,KAAK,YAAY,aAAa;AACzC;AACA,UAAU,cAAc,GAAG,KAAK,CAAC,YAAY,EAAE,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,GAAGtB,UAAO,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC;AAClH,UAAU,iBAAiB,CAAC,IAAI,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,aAAa,CAAC,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;AACjG,GAAG,CAAC;AACJ,EAAE,KAAK,IAAI8O,MAAI,GAAG3O,WAAW,GAAG,mBAAmB,CAAC,YAAY,CAAC,GAAG;AACpE;AACA,IAAI,8DAA8D;AAClE;AACA,IAAI,kEAAkE;AACtE,IAAI,gDAAgD;AACpD,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE2O,MAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;AAClD,IAAI,IAAI,GAAG,CAAC,YAAY,EAAE,GAAG,GAAGA,MAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,EAAE;AACtE,MAAMsL,gBAAc,CAAC,aAAa,EAAE,GAAG,EAAE/Y,0BAAwB,CAAC,YAAY,EAAE,GAAG,CAAC,CAAC,CAAC;AACtF,KAAK;AACL,GAAG;AACH,EAAE,aAAa,CAAC,SAAS,GAAG,eAAe,CAAC;AAC5C,EAAE,eAAe,CAAC,WAAW,GAAG,aAAa,CAAC;AAC9C,EAAE,QAAQ,CAACtB,QAAM,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;AAC1C;;AC1EAsD,CAAC,CAACG,UAAF,CAAasH,KAAb,GAAqB;AACpByP,EAAAA,OAAO,EAAE,EADW;AACL;AACf/H,EAAAA,YAAY,EAAEnP,CAAC,CAAC4L,OAAF,CAAUuL,MAAV,CAAiB,CAAjB,EAAoB,CAApB,MAA2B,KAFrB;AAGpB3P,EAAAA,aAAa,EAAE;AACRvE,IAAAA,IAAI,EAAE,EADE;AAERrC,IAAAA,GAAG,EAAE,IAFG;AAGRkE,IAAAA,QAAQ,EAAE,IAHF;AAIR8C,IAAAA,SAAS,EAAE;AACPwP,MAAAA,OAAO,EAAE,GADF;AAEPC,MAAAA,KAAK,EAAE;AAFA,KAJH;AAQRrT,IAAAA,SAAS,EAAE;AACPoT,MAAAA,OAAO,EAAC,CADD;AAEP5F,MAAAA,MAAM,EAAC,CAFA;AAGP8F,MAAAA,SAAS,EAAE,KAHJ;AAIPrC,MAAAA,SAAS,EAAE,uBAJJ;AAKPoC,MAAAA,KAAK,EAAE,SALA;AAMPE,MAAAA,SAAS,EAAE,IANJ;AAOPC,MAAAA,OAAO,EAAE,IAPF;AAQPC,MAAAA,QAAQ,EAAE,IARH;AASPpY,MAAAA,IAAI,EAAE,KATC;AAUPqS,MAAAA,SAAS,EAAE,IAVJ;AAWPgG,MAAAA,WAAW,EAAE,GAXN;AAYP3K,MAAAA,YAAY,EAAE,CAZP;AAahB4K,MAAAA,MAAM,EAAE,IAbQ;AAcPC,MAAAA,MAAM,EAAE;AAdD,KARH;AAwBRjQ,IAAAA,UAAU,EAAE;AACRsN,MAAAA,SAAS,EAAE,wBADH;AAERlI,MAAAA,YAAY,EAAE,CAFN;AAGjB4K,MAAAA,MAAM,EAAE,IAHS;AAIRP,MAAAA,OAAO,EAAE,CAJD;AAKRS,MAAAA,KAAK,EAAE,QALC;AAMRxY,MAAAA,IAAI,EAAE,IANE;AAORqS,MAAAA,SAAS,EAAE,SAPH;AAQRgG,MAAAA,WAAW,EAAE,CARL;AASRI,MAAAA,IAAI,EAAE9X,CAAC,CAAC8G,OAAF,CAAUC,MAAV,GAAmB,EAAnB,GAAwB,CATtB;AAURyK,MAAAA,MAAM,EAAE,CAVA;AAWR8F,MAAAA,SAAS,EAAE,IAXH;AAYRD,MAAAA,KAAK,EAAE,SAZC;AAaRE,MAAAA,SAAS,EAAE,IAbH;AAcRC,MAAAA,OAAO,EAAE,IAdD;AAeRC,MAAAA,QAAQ,EAAE,IAfF;AAgBRG,MAAAA,MAAM,EAAE;AAhBA,KAxBJ;AA0CRpS,IAAAA,WAAW,EAAE;AACTvC,MAAAA,IAAI,EAAE,EADG;AAET6B,MAAAA,QAAQ,EAAE,KAFD;AAGTwP,MAAAA,KAAK,EAAE,cAHE;AAITpV,MAAAA,OAAO,EAAE;AACL6Y,QAAAA,GAAG,EAAE,EADA;AAEL;AACAT,QAAAA,SAAS,EAAE,IAHN;AAILjS,QAAAA,SAAS,EAAE,KAJN;AAKL2S,QAAAA,QAAQ,EAAE,IALL;AAMLZ,QAAAA,OAAO,EAAE,CANJ;AAOLa,QAAAA,YAAY,EAAE,CAPT;AAQLC,QAAAA,UAAU,EAAE,GARP;AASLC,QAAAA,WAAW,EAAE,KATR;AAULzS,QAAAA,IAAI,EAAE;AACFuP,UAAAA,SAAS,EAAE,EADT;AAEFpN,UAAAA,OAAO,EAAE,EAFP;AAGFC,UAAAA,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CAHV;AAIFC,UAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CAJR;AAKFC,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAC,EAAL,CALX;AAMFC,UAAAA,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL;AANV;AAVD;AAJA;AA1CL,GAHK;AAuEjBmQ,EAAAA,oBAAoB,EAAE,8BAASxS,MAAT,EAAiByS,UAAjB,EAA6BzX,GAA7B,EAAkC;AAC1D,QAAIZ,CAAC,CAACsY,YAAF,IAAkB1X,GAAtB,EAA2B;AAC1B,aAAOZ,CAAC,CAACsY,YAAF,CAAeC,gBAAf,CACL3X,GADK,EAEL,CAACZ,CAAC,CAACyD,OAAF,CAAUzD,CAAC,CAACoB,OAAF,CAAUoX,iBAAV,CAA4BH,UAA5B,EAAwC,IAAxC,EAA8C,IAA9C,CAAV,CAAD,CAFK,EAGLzS,MAHK,EAIL6S,MAAM,CAAC7X,GAAG,CAAC1B,OAAJ,CAAYgY,OAAZ,IAAuBlX,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmByP,OAA3C,CAJD,EAKL,IALK,CAAP;AAOA;;AACD,WAAO,IAAP;AACG,GAlFgB;AAoFjBrB,EAAAA,SAAS,EAAE,mBAAUjQ,MAAV,EAAkBtG,GAAlB,EAAuBsB,GAAvB,EAA4B;AACzC,QAAI0K,GAAG,GAAG1F,MAAV;;AACA,QAAI5F,CAAC,CAACsY,YAAN,EAAoB;AACnB,UAAII,cAAc,GAAG9X,GAAG,CAACwL,UAAJ,CAAejC,WAAf,GAClBwO,MADkB,CACX,UAAS9U,EAAT,EAAa;AAAE,eAAOA,EAAE,KAAKvE,GAAG,CAACmO,OAAX,IAAsB5J,EAAE,CAAC0H,IAAH,KAAYjM,GAAzC;AAA+C,OADnD,EAElBsB,GAFkB,CAEd,UAASiD,EAAT,EAAa;AAAE,eAAOA,EAAE,CAAC3E,OAAH,CAAWM,IAAX,KAAoB,OAApB,GAA8BqE,EAAE,CAAC0H,IAAjC,GAAwC1H,EAA/C;AAAoD,OAFrD,CAArB;AAAA,UAGEqT,OAAO,GAAGuB,MAAM,CAAC7X,GAAG,CAAC1B,OAAJ,CAAYgY,OAAZ,IAAuBlX,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmByP,OAA3C,CAHlB;AAAA,UAIE0B,OAAO,GAAG5Y,CAAC,CAACsY,YAAF,CAAeC,gBAAf,CAAgC3X,GAAhC,EAAqC8X,cAArC,EAAqD9S,MAArD,EAA6DsR,OAA7D,EAAsE,IAAtE,CAJZ;;AAMA,UAAI0B,OAAJ,EAAa;AACZtN,QAAAA,GAAG,GAAGsN,OAAO,CAAChT,MAAd;AACA;AACD;;AACD,WAAO0F,GAAP;AACE,GAlGiB;AAoGjBH,EAAAA,cAAc,EAAE,wBAAS0N,IAAT,EAAeC,GAAf,EAAoB;AAChC,QAAIxN,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIrH,GAAT,IAAgB4U,IAAhB,EAAsB;AAClB,UAAI5U,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,KAA9B,EAAqC;AACjC;AACH,OAFD,MAEO,IAAIA,GAAG,KAAK,YAAR,IAAwBA,GAAG,KAAK,UAAhC,IAA8CA,GAAG,KAAK,aAAtD,IAAuEA,GAAG,KAAK,YAAnF,EAAiG;AACpG,YAAI,CAAC6U,GAAG,CAAC7U,GAAD,CAAR,EAAe;AAAE;AAAW;;AAC5B,YAAI6U,GAAG,CAAC7U,GAAD,CAAH,CAAS,CAAT,MAAgB4U,IAAI,CAAC5U,GAAD,CAAJ,CAAU,CAAV,CAAhB,IAAgC6U,GAAG,CAAC7U,GAAD,CAAH,CAAS,CAAT,MAAgB4U,IAAI,CAAC5U,GAAD,CAAJ,CAAU,CAAV,CAApD,EAAkE;AAAEqH,UAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW4U,IAAI,CAAC5U,GAAD,CAAf;AAAuB;AAC9F,OAHM,MAGA,IAAIA,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,YAA/B,IAA+CA,GAAG,KAAK,aAA3D,EAA0E;AAC7EqH,QAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW,KAAKkH,cAAL,CAAoB0N,IAAI,CAAC5U,GAAD,CAAxB,EAA+B6U,GAAG,CAAC7U,GAAD,CAAlC,CAAX;AACH,OAFM,MAEA,IAAI,CAAC6U,GAAD,IAASA,GAAG,CAAC7U,GAAD,CAAH,KAAa4U,IAAI,CAAC5U,GAAD,CAAjB,IAA0BA,GAAG,KAAK,MAA/C,EAAwD;AAC3DqH,QAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW4U,IAAI,CAAC5U,GAAD,CAAf;AACH;AACJ;;AACD,WAAOqH,GAAP;AACH,GAnHgB;AAqHjBiE,EAAAA,cAAc,EAAE,wBAAU3J,MAAV,EAAkBhF,GAAlB,EAAuB0O,UAAvB,EAAmC;AAC/C,QAAIA,UAAU,IAAI1O,GAAlB,EAAuB;AACnB,UAAI6O,CAAC,GAAG7O,GAAG,CAACmY,kBAAJ,CAAuBnT,MAAvB,EAA+BoT,IAA/B,CAAoC1J,UAApC,CAAR;;AACA1J,MAAAA,MAAM,GAAGhF,GAAG,CAACqY,kBAAJ,CAAuBxJ,CAAvB,CAAT;AACH;;AACD,WAAO7J,MAAP;AACH,GA3HgB;AA6HjBoO,EAAAA,WAAW,EAAE,qBAASlR,EAAT,EAAalC,GAAb,EAAkB0D,OAAlB,EAA2B;AACpC,QAAIwP,UAAU,GAAGhR,EAAE,CAACgR,UAApB;AAAA,QACL1L,aAAa,GAAGtF,EAAE,CAACsF,aADd;AAAA,QAEIC,OAAO,GAAG,KAFd;AAAA,QAEqBC,QAAQ,GAAG,KAFhC;AAAA,QAEuCC,MAAM,GAAG,KAFhD;AAAA,QAGI3C,MAAM,GAAG9C,EAAE,CAAC8C,MAHhB;;AAIA,QAAIwC,aAAJ,EAAmB;AACfC,MAAAA,OAAO,GAAGD,aAAa,CAACC,OAAxB;AAAiCC,MAAAA,QAAQ,GAAGF,aAAa,CAACE,QAAzB;AAAmCC,MAAAA,MAAM,GAAGH,aAAa,CAACG,MAAvB;AACvE;;AACD,QAAIzF,EAAE,CAACoW,OAAH,IAAcpW,EAAE,CAACoW,OAAH,CAAWvZ,MAAX,KAAsB,CAAxC,EAA2C;AACvC,UAAIwZ,KAAK,GAAGrW,EAAE,CAACoW,OAAH,CAAW,CAAX,CAAZ;AAAA,UACIE,cAAc,GAAGxY,GAAG,CAACyY,0BAAJ,CAA+BF,KAA/B,CADrB;AAEArF,MAAAA,UAAU,GAAGlT,GAAG,CAAC0Y,0BAAJ,CAA+BF,cAA/B,CAAb;AACAxT,MAAAA,MAAM,GAAGhF,GAAG,CAACqY,kBAAJ,CAAuBnF,UAAvB,CAAT;AACH;;AACD,QAAI1J,GAAG,GAAG;AAAC5K,MAAAA,IAAI,EAAE,EAAP;AAAWoG,MAAAA,MAAM,EAAEA,MAAnB;AAA2ByC,MAAAA,OAAO,EAAEA,OAApC;AAA6CC,MAAAA,QAAQ,EAAEA,QAAvD;AAAiEC,MAAAA,MAAM,EAAEA;AAAzE,KAAV;AAAA,QACIgB,IAAI,GAAG,KAAKpK,MAAL,GAAc,IAAd,GAAsB2D,EAAE,CAACyG,IAAH,IAAWzG,EAAE,CAACyW,YAD/C;AAAA,QAEIpa,MAAM,GAAGoK,IAAI,CAACpK,MAAL,CAAYqa,eAAZ,IAA+BjQ,IAAI,CAACpK,MAAL,CAAYsa,MAAZ,CAAmB,CAAnB,CAA/B,IAAwD,EAFrE;AAAA,QAGI3Z,GAAG,GAAGX,MAAM,CAACQ,MAHjB;;AAKA,QAAIG,GAAG,KAAK,CAAZ,EAAe;AAAE,aAAOsK,GAAP;AAAa;;AAE9B,QAAI0N,IAAI,GAAG,CAACvO,IAAI,CAACpK,MAAL,CAAYD,OAAZ,CAAoB4Y,IAApB,IAA4B,EAA7B,IAAmC,CAA9C;AACAA,IAAAA,IAAI,IAAI,KAAKvO,IAAI,CAACpK,MAAL,CAAYD,OAAZ,CAAoBsS,MAApB,IAA8B,CAAnC,CAAR;AAEA,QAAIkI,YAAY,GAAG,IAAI1Z,CAAC,CAAC2Z,MAAN,CACf3Z,CAAC,CAACmC,KAAF,CAAQ2R,UAAU,CAACzR,CAAX,GAAeyV,IAAvB,EAA6BhE,UAAU,CAACxR,CAAX,GAAewV,IAA5C,CADe,EAEf9X,CAAC,CAACmC,KAAF,CAAQ2R,UAAU,CAACzR,CAAX,GAAeyV,IAAvB,EAA6BhE,UAAU,CAACxR,CAAX,GAAewV,IAA5C,CAFe,CAAnB;AAAA,QAII8B,IAAI,GAAGza,MAAM,CAACW,GAAG,GAAG,CAAP,CAJjB;AAAA,QAKI+Z,SAAS,GAAG/Z,GAAG,IAAIyJ,IAAI,CAACtG,IAAL,KAAc,KAAd,GAAsB,CAAtB,GAA0B,CAA9B,CALnB;AAOAmH,IAAAA,GAAG,GAAG;AACFnH,MAAAA,IAAI,EAAEsG,IAAI,CAACtG,IADT;AAEF6Q,MAAAA,UAAU,EAAEhR,EAAE,CAACgR,UAFb;AAGFzL,MAAAA,OAAO,EAAEA,OAHP;AAGgBC,MAAAA,QAAQ,EAAEA,QAH1B;AAGoCC,MAAAA,MAAM,EAAEA,MAH5C;AAIF3C,MAAAA,MAAM,EAAEA;AAJN,KAAN;;AAMA,SAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,GAApB,EAAyBD,CAAC,EAA1B,EAA8B;AAC1B,UAAIsC,KAAK,GAAGhD,MAAM,CAACU,CAAD,CAAlB;;AACA,UAAIyE,OAAO,CAACgL,UAAZ,EAAwB;AAAEnN,QAAAA,KAAK,GAAGhD,MAAM,CAACU,CAAD,CAAN,CAAUsE,GAAV,CAAcG,OAAO,CAACgL,UAAtB,CAAR;AAA4C;;AACtE,UAAIoK,YAAY,CAACI,QAAb,CAAsB3X,KAAtB,CAAJ,EAAkC;AAC9BiI,QAAAA,GAAG,CAAC5K,IAAJ,GAAW,MAAX;AACA4K,QAAAA,GAAG,CAACiK,GAAJ,GAAUxU,CAAV;AACAuK,QAAAA,GAAG,CAAC2P,GAAJ,GAAWla,CAAC,KAAK,CAAN,IAAWA,CAAC,KAAKga,SAAjB,GAA6B,IAA7B,GAAoC,KAA/C;AACA;AACH;;AACD,UAAIG,IAAI,GAAGha,CAAC,CAACia,QAAF,CAAWC,sBAAX,CAAkCpG,UAAlC,EAA8C8F,IAA9C,EAAoDzX,KAApD,CAAX;;AACA,UAAI6X,IAAI,GAAGlC,IAAX,EAAiB;AACb1N,QAAAA,GAAG,CAAC5K,IAAJ,GAAW,MAAX;AACA4K,QAAAA,GAAG,CAACiK,GAAJ,GAAWxU,CAAC,KAAK,CAAN,GAAUC,GAAV,GAAgBD,CAA3B;AACH;;AACD+Z,MAAAA,IAAI,GAAGzX,KAAP;AACH;;AACD,WAAOiI,GAAP;AACH,GAnLgB;AAqLjB2G,EAAAA,cAAc,EAAE,wBAAUzR,GAAV,EAAe;AAC3B,QAAIA,GAAG,CAACqE,SAAR,EAAmB;AACf,UAAIU,KAAK,GAAG/E,GAAG,CAACqE,SAAJ,GAAgBqP,KAAhB,EAAZ;AACA,aAAO3O,KAAK,CAACV,SAAN,GAAkB,KAAKoN,cAAL,CAAoB1M,KAApB,CAAlB,GAA+C/E,GAAtD;AACH;;AACD,WAAOA,GAAP;AACH,GA3LgB;AA6LjB6a,EAAAA,cAAc,EAAE,wBAAUC,GAAV,EAAe1O,QAAf,EAAyB;AACrC,SAAK,IAAI7L,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG4L,QAAQ,CAAC/L,MAA/B,EAAuCE,CAAC,GAAGC,GAA3C,EAAgDD,CAAC,EAAjD,EAAqD;AACjD,UAAIyE,OAAO,GAAGoH,QAAQ,CAAC7L,CAAD,CAAtB;AAAA,UACIwa,IAAI,GAAG/V,OAAO,CAACiH,IAAR,GAAejH,OAAO,CAACiH,IAAvB,GAA8B,IADzC;AAAA,UAEI+O,IAAI,GAAGD,IAAI,IAAIA,IAAI,CAACE,KAAb,GAAqBF,IAAI,CAACE,KAAL,CAAWC,YAAhC,GAA+C,IAF1D;;AAGA,UAAIF,IAAI,IAAIA,IAAI,CAACjY,CAAL,KAAW+X,GAAG,CAAC/X,CAAvB,IAA4BiY,IAAI,CAAChY,CAAL,KAAW8X,GAAG,CAAC9X,CAA/C,EAAkD;AAC9C,eAAO+X,IAAI,CAACxV,OAAZ;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAvMgB;AAyMjB2O,EAAAA,SAAS,EAAE,mBAAUvP,GAAV,EAAe;AAC5B,QAAIqH,GAAG,GAAGtL,CAAC,CAACya,SAAF,GAAcza,CAAC,CAACya,SAAF,CAAYC,OAAZ,CAAoBzW,GAApB,CAAd,GAAyC,IAAnD;AACA,WAAOqH,GAAG,IAAIrH,GAAd;AACG;AA5MgB,CAArB;AA+MA,YAAejE,CAAC,CAACG,UAAF,CAAasH,KAA5B;;AC9MAzH,CAAC,CAACG,UAAF,CAAagT,IAAb,GAAoBnT,CAAC,CAAC6M,UAAF,CAAaxM,MAAb,CAAoB;AACpCnB,EAAAA,OAAO,EAAE;AACL+V,IAAAA,SAAS,EAAE,sBADN;AAEL;AACA0F,IAAAA,SAAS,EAAE,CAHN;AAIL5N,IAAAA,YAAY,EAAE,CAJT;AAKX4K,IAAAA,MAAM,EAAE,IALG;AAMLP,IAAAA,OAAO,EAAE,CANJ;AAOLS,IAAAA,KAAK,EAAE,QAPF;AAQLxY,IAAAA,IAAI,EAAE,IARD;AASLqS,IAAAA,SAAS,EAAE,SATN;AAULgG,IAAAA,WAAW,EAAE,CAVR;AAWLI,IAAAA,IAAI,EAAE9X,CAAC,CAAC8G,OAAF,CAAUC,MAAV,GAAmB,EAAnB,GAAwB,CAXzB;AAYLyK,IAAAA,MAAM,EAAE;AAZH,GAD2B;AAepClR,EAAAA,QAAQ,EAAEN,CAAC,CAACO,OAAF,GAAYP,CAAC,CAACO,OAAF,CAAUC,SAAtB,GAAkCR,CAAC,CAACS,KAAF,CAAQC,MAfhB;AAiBpCC,EAAAA,UAAU,EAAE,oBAAUmR,MAAV,EAAkB7C,MAAlB,EAA0B/P,OAA1B,EAAmC;AAC3CA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;AAEA,SAAK8B,WAAL,GAAmB,IAAI/B,uBAAJ,EAAnB;AACAC,IAAAA,OAAO,CAAC+D,IAAR,GAAe,EAAf;AACA,SAAK2X,aAAL,GAAqB1b,OAAO,CAAC2b,YAAR,IAAwB,CAA7C;AACA,SAAKC,gBAAL,GAAwB5b,OAAO,CAAC6b,eAAR,IAA2B,CAAnD;AACA,SAAK7b,OAAL,GAAec,CAAC,CAACK,MAAF,CAAS,EAAT,EAAa,KAAKnB,OAAlB,EAA2B4S,MAAM,CAACzD,QAAP,EAA3B,EAA8CnP,OAA9C,CAAf;AAEA,SAAK6S,OAAL,GAAe,EAAf;AACA,SAAKiJ,OAAL,GAAe/L,MAAf;AACA,SAAKgM,UAAL,GAAkB,EAAlB;AACA,SAAKxN,OAAL,GAAeqE,MAAf;;AAEA,SAAKjB,WAAL,CAAiBiB,MAAjB,EAAyB7C,MAAzB;AACH,GAhCmC;AAkCpC4B,EAAAA,WAAW,EAAE,qBAAUiB,MAAV,EAAkB7C,MAAlB,EAA0B;AAAA;;AACnC,SAAKwC,WAAL;AACA,WAAO,KAAKrS,KAAZ;AACA,WAAO,KAAKC,IAAZ;AACA,WAAO,KAAKF,MAAZ;AAEA,SAAKyU,UAAL,GAAkB,KAAlB;AACA,SAAK3Q,IAAL,GAAY,EAAZ;AACA,SAAKiY,QAAL,GAAgB,KAAKhc,OAAL,CAAaM,IAAb,CAAkB2b,OAAlB,CAA0B,UAA1B,MAA0C,CAAC,CAA3D;;AACN,QAAI,KAAKjc,OAAL,CAAaM,IAAb,KAAsB,WAA1B,EAAuC;AACtC,WAAKN,OAAL,CAAakc,gBAAb,GAAgC,IAAhC;AACA;;AAEK,QAAIzT,UAAU,GAAG,KAAKzI,OAAL,CAAayI,UAA9B;AACA,QAAI3D,SAAS,GAAG;AAACoT,MAAAA,OAAO,EAAC,CAAT;AAAY5F,MAAAA,MAAM,EAAC,CAAnB;AAAsBmG,MAAAA,MAAM,EAAE,IAA9B;AAAoCL,MAAAA,SAAS,EAAE,KAA/C;AAAsDrC,MAAAA,SAAS,EAAE;AAAjE,KAAhB;;AACA,QAAI,CAAC,KAAKiG,QAAV,EAAoB;AAChBlX,MAAAA,SAAS,CAAC3E,IAAV,GAAiB,UAAU,KAAKH,OAAf,GAAyB,KAAKA,OAAL,CAAaG,IAAtC,GAA6C,IAA9D;AACH;;AACD,QAAI,KAAKH,OAAL,CAAa8E,SAAjB,EAA4B;AACxB,WAAK,IAAIC,GAAT,IAAgB,KAAK/E,OAAL,CAAa8E,SAA7B,EAAwC;AACpC,YAAIC,GAAG,KAAK,MAAR,IAAkB,CAAC,KAAKiX,QAA5B,EAAsC;AAClClX,UAAAA,SAAS,CAACC,GAAD,CAAT,GAAiB,KAAK/E,OAAL,CAAa8E,SAAb,CAAuBC,GAAvB,CAAjB;AACH;AACJ;AACJ;;AACD,QAAI,KAAK/E,OAAL,CAAaiO,IAAjB,EAAuB;AACnBnJ,MAAAA,SAAS,GAAGhE,CAAC,CAACK,MAAF,CAAS,EAAT,EAAa2D,SAAb,EAAwBqX,KAAK,CAAC7T,aAAN,CAAoBI,SAA5C,CAAZ;AACAD,MAAAA,UAAU,GAAG3H,CAAC,CAACK,MAAF,CAAS,EAAT,EAAasH,UAAb,EAAyB0T,KAAK,CAAC7T,aAAN,CAAoBI,SAA7C,CAAb;AACH;;AAED,QAAIkC,OAAO,GAAGmF,MAAd;AAAA,QACI1E,KAAK,GAAG,IADZ;AAAA,QAEItH,IAAI,GAAG,KAAK/D,OAAL,CAAa+D,IAAb,KAAsB6G,OAAO,CAACnK,MAAR,GAAiB,MAAjB,GAA0B,KAAhD,CAFX;;AAIA,SAAKN,IAAL,GAAY,IAAIW,CAAC,CAACkF,QAAN,CAAe4E,OAAf,EAAwB;AAChCmL,MAAAA,SAAS,EAAE,4BADqB;AAEhCmC,MAAAA,OAAO,EAAE,CAFuB;AAGzCrK,MAAAA,YAAY,EAAE,CAH2B;AAIzC4K,MAAAA,MAAM,EAAE,IAJiC;AAKhCtY,MAAAA,IAAI,EAAE,KAL0B;AAMhCyY,MAAAA,IAAI,EAAE,EAN0B;AAOhCtG,MAAAA,MAAM,EAAE;AAPwB,KAAxB,CAAZ;AASA,SAAKnS,IAAL,CAAUwD,EAAV,CAAa,OAAb,EAAsB,UAAAuQ,CAAC,EAAI;AACvB,MAAA,MAAI,CAAC3F,OAAL,CAAa5D,IAAb,CAAkB,OAAlB,EAA2BuJ,CAA3B;AACH,KAFD;AAGA,SAAKvN,QAAL,CAAc,KAAKxG,IAAnB;AAEA,SAAKD,KAAL,GAAa,IAAIY,CAAC,CAACkF,QAAN,CAAe4E,OAAf,EAAwB9F,SAAxB,CAAb;AACA,SAAK6B,QAAL,CAAc,KAAKzG,KAAnB;;AACA,QAAI,CAAC,KAAK8b,QAAN,IAAkBjY,IAAI,KAAK,MAA/B,EAAuC;AAC5C,UAAI2C,MAAM,GAAGkE,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,KAAiBA,OAAO,CAAC,CAAD,CAArC;AACS,WAAK1K,KAAL,CAAWkc,SAAX,CAAqB1V,MAArB;AACA,WAAKvG,IAAL,CAAUic,SAAV,CAAoB1V,MAApB;AACH;;AACD,SAAK3C,IAAL,GAAYA,IAAZ;AAEA,SAAK9D,MAAL,GAAc,IAAIa,CAAC,CAACG,UAAF,CAAa4J,YAAjB,CAA8BD,OAA9B,EAAuCnC,UAAvC,CAAd;AACA,SAAKxI,MAAL,CAAYsO,OAAZ,GAAsB,IAAtB;AAEA,SAAK5H,QAAL,CAAc,KAAK1G,MAAnB;AAEA,SAAKA,MAAL,CACK0D,EADL,CACQ,WADR,EACqB,UAAUC,EAAV,EAAc;AACvC,WAAKyY,aAAL,CAAmBzY,EAAnB,EAAuB,IAAvB,EAA6ByH,KAAK,CAAC2Q,QAAN,GAAiB,QAAjB,GAA4B,MAAzD;;AACY,UAAIpY,EAAE,CAACtD,IAAH,KAAY,WAAhB,EAA6B;AACzB+K,QAAAA,KAAK,CAACiR,oBAAN,CAA2B,QAA3B,EAAqCjR,KAAK,CAAC1J,IAA3C;AACH;AACJ,KANL,EAMO,IANP,EAOKgC,EAPL,CAOQ,UAPR,EAOoB,KAAK0Y,aAPzB,EAOwC,IAPxC;AAQA,SAAKlc,IAAL,CACKwD,EADL,CACQ,qBADR,EAC+B,UAAUC,EAAV,EAAc;AACjD,WAAKyY,aAAL,CAAmBzY,EAAnB,EAAuB,IAAvB;AACS,KAHL,EAGO,IAHP,EAIKD,EAJL,CAIQ,UAJR,EAIoB,KAAK0Y,aAJzB,EAIwC,IAJxC;;AAMN,QAAI,KAAKpc,MAAL,CAAYsc,eAAhB,EAAiC;AAChC,WAAKtc,MAAL,CAAYsc,eAAZ,CAA4B;AAC3Bza,QAAAA,WAAW,EAAE,KADc;AAE3B0a,QAAAA,uBAAuB,EAAE,KAFE;AAG3BC,QAAAA,gBAAgB,EAAE;AAHS,OAA5B;AAKA;;AACD,QAAI,KAAKtc,IAAL,CAAUoc,eAAd,EAA+B;AAC9B,WAAKpc,IAAL,CAAUoc,eAAV,CAA0B;AACzBza,QAAAA,WAAW,EAAE,KADY;AAEzB0a,QAAAA,uBAAuB,EAAE,KAFA;AAGzBC,QAAAA,gBAAgB,EAAE;AAHO,OAA1B;AAKA,WAAKtc,IAAL,CAAUwD,EAAV,CAAa,WAAb,EAA0B,UAAUC,EAAV,EAAc;AACvC,YAAIA,EAAE,CAACtD,IAAH,KAAY,WAAhB,EAA6B;AAC5B,eAAKgc,oBAAL,CAA0B,MAA1B,EAAkC,KAAK3a,IAAvC;AACA;AACD,OAJD,EAIG,IAJH;AAKA;;AACK,SAAK4M,OAAL,CAAa5K,EAAb,CAAgB,QAAhB,EAA0B,UAAUC,EAAV,EAAc;AAC7C,WAAKyY,aAAL,CAAmBzY,EAAnB,EAAuB,IAAvB,EAA6B,OAA7B;AACA,KAFK,EAEH,IAFG;;AAGN9C,IAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAchG,QAAd,EAAwB,eAAxB,EAAyC,KAAK+e,gBAA9C,EAAgE,IAAhE;AACA,GArIsC;AAuIpCzY,EAAAA,YAAY,EAAE,wBAAY;AAC5B,QAAI,KAAK/D,KAAT,EAAgB;AAAE,WAAKA,KAAL,CAAW+D,YAAX;AAA4B;;AAC9C,QAAI,KAAK9D,IAAT,EAAe;AAAE,WAAKA,IAAL,CAAU8D,YAAV;AAA2B;;AAC5C,QAAI,KAAKhE,MAAT,EAAiB;AAAE,WAAKA,MAAL,CAAYgE,YAAZ;AAA6B;;AAEhD,WAAO,IAAP;AACG,GA7ImC;AA+IpCmK,EAAAA,WAAW,EAAE,uBAAY;AAC3B,QAAI,KAAKlO,KAAT,EAAgB;AAAE,WAAKA,KAAL,CAAWkO,WAAX;AAA2B;;AAC7C,QAAI,KAAKjO,IAAT,EAAe;AAAE,WAAKA,IAAL,CAAUiO,WAAV;AAA0B;;AAC3C,QAAI,KAAKnO,MAAT,EAAiB;AAAE,WAAKA,MAAL,CAAYmO,WAAZ;AAA4B;;AAE/C,WAAO,IAAP;AACG,GArJmC;AAuJpCsO,EAAAA,gBAAgB,EAAE,0BAAU9Y,EAAV,EAAc;AAClC,QAAIA,EAAE,CAACtD,IAAH,KAAY,SAAZ,IAAyB,KAAKyD,IAAL,KAAc,KAA3C,EAAkD;AACjD,UAAIgB,GAAG,GAAGnB,EAAE,CAACmB,GAAb;AAAA,UACC9E,MAAM,GAAG,KAAK0c,cAAL,EADV;;AAGA,UAAI5X,GAAG,KAAK,WAAZ,EAAyB;AACxB,aAAKgX,UAAL,GAAkB,EAAlB;AACA9b,QAAAA,MAAM,CAACS,MAAP,CAAcT,MAAM,CAACQ,MAAP,GAAgB,CAA9B,EAAiC,CAAjC;;AACY,aAAKmc,SAAL,CAAe3c,MAAM,CAAC,CAAD,CAArB,EAA0B,CAA1B;AACZ;;AACQ,UAAI8E,GAAG,KAAK,QAAR,IAAqBA,GAAG,KAAK,WAAR,IAAuB9E,MAAM,CAACQ,MAAP,GAAgB,CAAhE,EAAoE;AAChE,aAAK8N,OAAL,CAAazB,MAAb,CAAoB,IAApB;;AACZ,aAAKyB,OAAL,CAAaA,OAAb,CAAqB7G,YAArB;;AACA,aAAK+G,UAAL,CAAgB,UAAhB;AACA;AACD;;AACD,QAAI,KAAKxM,IAAT,EAAe;AACd,UAAI4a,UAAU,GAAG,KAAKC,WAAtB;;AACA,UAAI,CAAClZ,EAAE,CAACyF,MAAR,EAAgB;AAAEwT,QAAAA,UAAU,GAAG,CAACA,UAAd;AAA2B;;AAC7C,UAAIjZ,EAAE,CAACtD,IAAH,KAAY,OAAZ,IAAuB,CAACsD,EAAE,CAACyF,MAA/B,EAAuC;AAAEwT,QAAAA,UAAU,GAAG,CAAC,KAAKC,WAAnB;AAAiC;;AAC1Ehc,MAAAA,CAAC,CAACyB,OAAF,CAAUsa,UAAU,GAAG,aAAH,GAAmB,UAAvC,EAAmD,KAAK5a,IAAL,CAAU8a,KAA7D,EAAoE,QAApE;AACA;AACD,GA7KsC;AA+KpCV,EAAAA,aAAa,EAAE,uBAAUzY,EAAV,EAAcoZ,IAAd,EAAoB1c,IAApB,EAA0B;AAC3C,QAAI,iBAAiB,KAAKiO,OAA1B,EAAmC;AAClC3K,MAAAA,EAAE,CAACyG,IAAH,GAAU,IAAV;;AACA,UAAI2S,IAAJ,EAAU;AACT1c,QAAAA,IAAI,GAAGA,IAAI,IAAI,QAAf;;AACA,aAAKiO,OAAL,CAAa6F,YAAb,CAA0B9T,IAA1B,EAAgCsD,EAAhC;AACA,OAHD,MAGO,IAAI,KAAKG,IAAL,KAAc,KAAlB,EAAyB;AAC/B,aAAKwK,OAAL,CAAaxL,WAAb,CAAyBa,EAAzB;AACA;AACD;AACD,GAzLsC;AA2LpC0Y,EAAAA,oBAAoB,EAAE,8BAAUhc,IAAV,EAAgBoB,GAAhB,EAAqB;AACvC,QAAI2J,KAAK,GAAG,IAAZ;;AACN,SAAK/K,IAAL,EAAWN,OAAX,CAAmByc,gBAAnB,GAAsC,CAAC/a,GAAG,CAACwL,UAAJ,CAAepL,WAAf,CAA2Bmb,QAA3B,GAAsC3c,IAAtC,KAA+C,EAAhD,EACpCmM,MADoC,CAC7B,KAAK8B,OAAL,CAAazM,WAAb,CAAyBmb,QAAzB,GAAoC3c,IAApC,KAA6C,EADhB,EAEpCmM,MAFoC,CAE7B,KAAK3K,WAAL,CAAiBmb,QAAjB,GAA4B3c,IAA5B,KAAqC,EAFR,EAGpCoB,GAHoC,CAGhC,UAAStB,GAAT,EAAc;AAClB,UAAI8c,EAAE,GAAG;AACRC,QAAAA,EAAE,EAAE/c,GAAG,CAAC4B,IADA;AAERA,QAAAA,IAAI,EAAEma,KAAK,CAAC7H,SAAN,CAAgBlU,GAAG,CAAC4B,IAApB,CAFE;AAGRwE,QAAAA,IAAI,EAAEpG,GAAG,CAACoG,IAHF;AAIR4W,QAAAA,UAAU,EAAEhd,GAAG,CAACgd,UAJR;AAKRC,QAAAA,OAAO,EAAEjd,GAAG,CAACid,OALL;AAMRC,QAAAA,aAAa,EAAEld,GAAG,CAACkd,aANX;AAORzc,QAAAA,QAAQ,EAAE,kBAAU+C,EAAV,EAAc;AACvByH,UAAAA,KAAK,CAACkS,UAAN,CAAiBnd,GAAjB,EAAsBwD,EAAtB;AACA,SATO;AAUR4Z,QAAAA,OAAO,EAAEpd,GAAG,CAACod,OAAJ,IAAenS,KAVhB;AAWRoS,QAAAA,QAAQ,EAAE,cAAcrd,GAAd,GAAoBA,GAAG,CAACqd,QAAxB,GAAmC,KAXrC;AAYRC,QAAAA,SAAS,EAAEtd,GAAG,CAACsd,SAZP;AAaRC,QAAAA,YAAY,EAAE,kBAAkBvd,GAAlB,GAAwBA,GAAG,CAACud,YAA5B,GAA2C;AAbjD,OAAT;AAeA,aAAOT,EAAP;AACA,KApBoC,CAAtC;AAqBA,WAAO,KAAK5c,IAAL,EAAWN,OAAX,CAAmByc,gBAA1B;AACG,GAnNmC;AAqNpCc,EAAAA,UAAU,EAAE,oBAAUnd,GAAV,EAAewD,EAAf,EAAmB;AACjC,QAAIyG,IAAI,GAAGzG,EAAE,CAACga,aAAH,IAAoBha,EAAE,CAACga,aAAH,CAAiBrP,OAArC,IAAgD,IAA3D;AACA,QAAIsG,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuB,IAAvB,EAA6B1K,EAA7B,EAAiC,KAAKjC,IAAtC,EAA4C,KAAK4M,OAAjD,CAAf;;AACA,QAAIsG,QAAJ,EAAc;AACb,UAAIvU,IAAI,GAAGF,GAAG,CAAC4B,IAAf;;AACA,UAAI5B,GAAG,CAACS,QAAR,EAAkB;AACjBT,QAAAA,GAAG,CAACS,QAAJ,CAAagU,QAAb,EAAuB,KAAKtG,OAA5B;AACA,OAFD,MAEO,IAAIjO,IAAI,KAAK,gBAAb,EAA+B;AACzB,aAAKiO,OAAL,CAAazB,MAAb,CAAoB,IAApB,EADyB;;;AAGrC,aAAK2B,UAAL,CAAgB,UAAhB;AACA,OAJM,MAIA,IAAInO,IAAI,KAAK,cAAb,EAA6B;AACnC+J,QAAAA,IAAI,CAACwT,YAAL,CAAkBhJ,QAAQ,CAACM,GAA3B;;AACA,aAAK1G,UAAL,CAAgB,UAAhB,EAA4B7K,EAA5B;AACA,OAHM,MAGA,IAAItD,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,MAA5B,IAAsCA,IAAI,KAAK,QAA/C,IAA2DA,IAAI,KAAK,qBAAxE,EAA+F;AACzF,aAAKwd,aAAL,CAAmBxd,IAAnB,EAAyBuU,QAAzB;AACZ,OAFM,MAEA,IAAIvU,IAAI,KAAK,QAAT,IAAqB,KAAKyd,YAAL,CAAkBtd,MAA3C,EAAmD;AACzD,YAAI,KAAKsd,YAAL,CAAkBtd,MAAtB,EAA8B;AAC7B,eAAKsK,UAAL,CAAgB,KAAKgT,YAAL,CAAkB,CAAlB,CAAhB;AACA,eAAKA,YAAL,GAAoB,EAApB;AACA;;AACW,aAAKD,aAAL,CAAmB,MAAnB,EAA2BjJ,QAA3B;AACZ;AACK;AACJ,GA7OmC;AA+OpC/C,EAAAA,UAAU,EAAE,sBAAY;AAC1B,WAAO,KAAKvD,OAAZ;AACG,GAjPmC;AAmPpCF,EAAAA,KAAK,EAAE,eAAU3M,GAAV,EAAe;AAClBZ,IAAAA,CAAC,CAAC6M,UAAF,CAAarM,SAAb,CAAuB+M,KAAvB,CAA6BC,IAA7B,CAAkC,IAAlC,EAAwC5M,GAAxC;AACA,SAAKmF,WAAL;;AACN,QAAI,KAAK5G,MAAL,CAAYsc,eAAhB,EAAiC;AAChC,UAAIE,gBAAgB,GAAG,KAAKH,oBAAL,CAA0B,QAA1B,EAAoC5a,GAApC,CAAvB;;AACA,WAAKzB,MAAL,CAAYsc,eAAZ,CAA4B;AAC3Bza,QAAAA,WAAW,EAAE,IADc;AAE3B0a,QAAAA,uBAAuB,EAAE,KAFE;AAG3BC,QAAAA,gBAAgB,EAAEA;AAHS,OAA5B;AAKA;AAEE,GA/PmC;AAiQpC3N,EAAAA,QAAQ,EAAE,kBAAUpN,GAAV,EAAe;AACrB,QAAI,KAAKzB,MAAT,EAAiB;AACb,WAAK+d,QAAL;;AACA,WAAKC,aAAL;AACA,WAAKnL,cAAL;;AAEA,UAAI,iBAAiB,KAAKvE,OAA1B,EAAmC;AAAE,aAAKA,OAAL,CAAaxL,WAAb;AAA6B;AACrE;;AACDjC,IAAAA,CAAC,CAAC6M,UAAF,CAAarM,SAAb,CAAuBwN,QAAvB,CAAgCR,IAAhC,CAAqC,IAArC,EAA2C5M,GAA3C;;AACA,QAAI,KAAK1B,OAAL,CAAaM,IAAb,KAAsB,OAA1B,EAAmC;AAC/BoB,MAAAA,GAAG,CAAC0G,WAAJ,CAAgB,KAAKiE,IAArB;AACH;;AACD,SAAKoC,UAAL,CAAgB,eAAhB;AACH,GA9QmC;AAgRpCuG,EAAAA,cAAc,EAAE,wBAAUH,QAAV,EAAoB;AAChC,QAAI/T,CAAC,CAACsY,YAAF,IAAkBvE,QAAlB,IAA8BA,QAAQ,CAACM,GAA3C,EAAgD;AAC5C,UAAIA,GAAG,GAAGN,QAAQ,CAACM,GAAnB;AAAA,UACRvK,OAAO,GAAG,KAAK3K,MAAL,CAAY4T,QAAZ,CAAqB,CAArB,CADF;AAAA,UAEI6G,IAAI,GAAG9P,OAAO,CAACuK,GAAG,GAAG,CAAP,CAFlB;AAAA,UAGI+I,IAAI,GAAGtT,OAAO,CAACuK,GAAD,CAAP,IAAgBN,QAAQ,CAACnO,MAHpC;AAAA,UAIR6T,MAAM,GAAG,KAAKta,MAAL,CAAYsa,MAAZ,CAAmB,CAAnB,CAJD;AAAA,UAKRtF,KAAK,GAAGnU,CAAC,CAACsY,YAAF,CAAe+E,YAAf,CAA4B5D,MAAM,CAACpF,GAAG,GAAG,CAAP,CAAlC,EAA6CoF,MAAM,CAACpF,GAAD,CAAN,IAAeN,QAAQ,CAACD,UAArE,CALA;AAMTK,MAAAA,KAAK,IAAI,EAAT;AACAA,MAAAA,KAAK,IAAI,GAAT;AACAA,MAAAA,KAAK,IAAIA,KAAK,GAAG,CAAR,GAAY,GAAZ,GAAkB,CAA3B;AACA,aAAO;AACNxU,QAAAA,MAAM,EAAEK,CAAC,CAACoB,OAAF,CAAUkc,YAAV,CAAuB1D,IAAI,CAACzQ,GAA5B,EAAiCyQ,IAAI,CAAC1Q,GAAtC,EAA2CkU,IAAI,CAACjU,GAAhD,EAAqDiU,IAAI,CAAClU,GAA1D,CADF;AAENiL,QAAAA,KAAK,EAAEnU,CAAC,CAACoB,OAAF,CAAUmc,aAAV,CAAwBpJ,KAAxB,EAA+B,CAA/B;AAFD,OAAP;AAIA;;AACK,WAAO,IAAP;AACH,GAjSmC;AAmSpChC,EAAAA,SAAS,EAAE,mBAAU4B,QAAV,EAAoB;AAC3B,QAAIpU,MAAM,GAAG,CAAb;AAAA,QACImK,OAAO,GAAG,KAAK+R,cAAL,EADd;AAAA,QAEI/b,GAAG,GAAGgK,OAAO,CAACnK,MAFlB;;AAIA,QAAIG,GAAJ,EAAS;AACL,UAAI0d,GAAG,GAAG,CAAV;AAAA,UACI5D,IAAI,GAAG9P,OAAO,CAAC,CAAD,CADlB;;AAEA,UAAIiK,QAAJ,EAAc;AACV,YAAIA,QAAQ,CAACvU,IAAT,KAAkB,MAAtB,EAA8B;AAC1BM,UAAAA,GAAG,GAAGiU,QAAQ,CAACM,GAAT,GAAe,CAArB;AACH,SAFD,MAEO;AACHmJ,UAAAA,GAAG,GAAGzJ,QAAQ,CAACM,GAAf;;AACA,cAAImJ,GAAG,KAAK1d,GAAZ,EAAiB;AACb8Z,YAAAA,IAAI,GAAG9P,OAAO,CAAC0T,GAAG,GAAG,CAAP,CAAd;AACAA,YAAAA,GAAG,GAAG,CAAN;AACH,WAHD,MAGO;AACH5D,YAAAA,IAAI,GAAG9P,OAAO,CAAC0T,GAAG,GAAG,CAAP,CAAd;AACH;;AACD1d,UAAAA,GAAG,GAAG0d,GAAG,GAAG,CAAZ;AACH;AACJ;;AACD,WAAK,IAAI3d,CAAC,GAAG2d,GAAb,EAAkB3d,CAAC,GAAGC,GAAtB,EAA2BD,CAAC,EAA5B,EAAgC;AAC5B,YAAI4d,GAAG,GAAG,KAAKxC,UAAL,CAAgBpb,CAAhB,KAAsB,IAAhC;;AACA,YAAI4d,GAAG,KAAK,IAAZ,EAAkB;AACdA,UAAAA,GAAG,GAAGzd,CAAC,CAACoB,OAAF,CAAUkc,YAAV,CAAuB1D,IAAI,CAACzQ,GAA5B,EAAiCyQ,IAAI,CAAC1Q,GAAtC,EAA2CY,OAAO,CAACjK,CAAD,CAAP,CAAWsJ,GAAtD,EAA2DW,OAAO,CAACjK,CAAD,CAAP,CAAWqJ,GAAtE,CAAN;AACA,eAAK+R,UAAL,CAAgBpb,CAAhB,IAAqB4d,GAArB;AACH;;AACD7D,QAAAA,IAAI,GAAG9P,OAAO,CAACjK,CAAD,CAAd;AACAF,QAAAA,MAAM,IAAI8d,GAAV;AACH;AACJ;;AACD,WAAO9d,MAAP;AACH,GApUmC;AAsUpCmc,EAAAA,SAAS,EAAE,mBAAUlW,MAAV,EAAkB8X,EAAlB,EAAsBle,IAAtB,EAA4B;AACnC,QAAI,CAAC,KAAKL,MAAV,EAAkB;AAAE;AAAS;;AAC7B,QAAI2K,OAAO,GAAG,KAAK+R,cAAL,EAAd;;AACA,QAAI,KAAK3c,OAAL,CAAaM,IAAb,KAAsB,WAA1B,EAAuC;AAC5C,UAAIA,IAAI,KAAK,MAAb,EAAqB;AACRke,QAAAA,EAAE;;AACF,YAAIA,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBW,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAzC;AAA+C,SAA/D,MACK,IAAIuU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBY,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAzC;AAA+C,SAA/D,MACA,IAAIwU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBW,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAzC;AAA+C,SAA/D,MACA,IAAIuU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBY,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAzC;AAA+C;AACvE,OANV,MAMgB;AACHY,QAAAA,OAAO,CAAC4T,EAAD,CAAP,GAAc9X,MAAd;;AACA,YAAI8X,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAxB;AAA6BY,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAxB;AAA8B,SAA3E,MACK,IAAIuU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAxB;AAA6BY,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAxB;AAA8B,SAA3E,MACA,IAAIuU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAxB;AAA6BY,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAxB;AAA8B,SAA3E,MACA,IAAIuU,EAAE,KAAK,CAAX,EAAc;AAAE5T,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWZ,GAAX,GAAiBtD,MAAM,CAACsD,GAAxB;AAA6BY,UAAAA,OAAO,CAAC,CAAD,CAAP,CAAWX,GAAX,GAAiBvD,MAAM,CAACuD,GAAxB;AAA8B;AACnF;;AACD,WAAK8R,UAAL,GAAkB,EAAlB;AACH,KAfD,MAeO;AACHnR,MAAAA,OAAO,CAAC4T,EAAD,CAAP,GAAc9X,MAAd;AACA,WAAKqV,UAAL,CAAgByC,EAAhB,IAAsB,IAAtB;AACA,WAAKzC,UAAL,CAAgByC,EAAE,GAAG,CAArB,IAA0B,IAA1B;AACH;;AACD,SAAKzT,UAAL,CAAgBH,OAAhB;AACH,GA9VmC;AAgWpCwR,EAAAA,SAAS,EAAE,mBAAUnZ,KAAV,EAAiBsU,KAAjB,EAAwB;AAC/B,SAAKwE,UAAL,GAAkB,EAAlB;;AACA,QAAI,KAAK9b,MAAT,EAAiB;AACb,UAAIA,MAAM,GAAG,KAAK0c,cAAL,EAAb;AAAA,UACIlB,SAAS,GAAG,KAAKzb,OAAL,CAAayb,SAD7B;AAAA,UAEI7a,GAAG,GAAGX,MAAM,CAACQ,MAFjB;AAAA,UAGIge,SAAS,GAAGxe,MAAM,CAACW,GAAG,GAAG,CAAP,CAHtB;AAAA,UAIRoc,IAAI,GAAG,CAACyB,SAAD,IAAc,CAACA,SAAS,CAACC,MAAV,CAAiBzb,KAAjB,CAJd;;AAMA,UAAIwY,SAAS,IAAI7a,GAAG,IAAI6a,SAAxB,EAAmC;AAC3C,aAAK5U,WAAL;;AACA,aAAK4H,UAAL,CAAgB,UAAhB,EAA4B;AAAC/H,UAAAA,MAAM,EAAEzD;AAAT,SAA5B;;AACArC,QAAAA,GAAG;AACH;;AACQ,UAAIoc,IAAJ,EAAU;AACN,YAAIzF,KAAJ,EAAW;AAAE3W,UAAAA,GAAG,IAAI2W,KAAP;AAAe,SADtB;;;AAEN,aAAKqF,SAAL,CAAe3Z,KAAf,EAAsBrC,GAAtB,EAA2B,MAA3B;AACH;;AACV,WAAK2N,OAAL,CAAa4E,aAAb,GAA6BlQ,KAA7B;AACM,KAjBD,MAiBO,IAAI,eAAe,KAAKoJ,IAAxB,EAA8B;AACjC,WAAKA,IAAL,CAAU+P,SAAV,CAAoBnZ,KAApB;AACH;AACJ,GAtXmC;AAwXpCmO,EAAAA,iBAAiB,EAAE,2BAAUb,CAAV,EAAa;AAC5BzP,IAAAA,CAAC,CAACyB,OAAF,CAAUoc,WAAV,CAAsB,KAAK1e,MAAL,CAAYwD,UAAlC,EAA8C8M,CAA9C;AACAzP,IAAAA,CAAC,CAACyB,OAAF,CAAUoc,WAAV,CAAsB,KAAKxe,IAAL,CAAUsD,UAAhC,EAA4C8M,CAA5C;AACAzP,IAAAA,CAAC,CAACyB,OAAF,CAAUoc,WAAV,CAAsB,KAAKze,KAAL,CAAWuD,UAAjC,EAA6C8M,CAA7C;AACH,GA5XmC;AA8XpCxF,EAAAA,UAAU,EAAE,oBAAUH,OAAV,EAAmB;AAAE;AACnC,QAAI,KAAK3K,MAAT,EAAiB;AACP,UAAIA,MAAM,GAAG,KAAKA,MAAlB;AACA,WAAKE,IAAL,CAAU4K,UAAV,CAAqBH,OAArB;AACA,WAAK1K,KAAL,CAAW6K,UAAX,CAAsBH,OAAtB;;AACA,UAAI,CAAC,KAAKoR,QAAN,IAAkB,KAAKjY,IAAL,KAAc,MAAhC,IAA0C6G,OAAO,CAACnK,MAAR,GAAiB,CAA/D,EAAkE;AAC9D,aAAKP,KAAL,CAAWkc,SAAX,CAAqBxR,OAAO,CAAC,CAAD,CAA5B;AACA,aAAKzK,IAAL,CAAUic,SAAV,CAAoBxR,OAAO,CAAC,CAAD,CAA3B;AACH;;AACD,UAAI,KAAK3I,IAAT,EAAe;AACvB,aAAKA,IAAL,CAAU2c,SAAV,CAAoB,KAAK1e,KAAL,CAAW2e,OAA/B;AACS;;AAED5e,MAAAA,MAAM,CAAC8K,UAAP,CAAkBH,OAAlB;AACH,KAbP,MAaa,IAAI,gBAAgB,KAAKyB,IAAzB,EAA+B;AAClC,WAAKA,IAAL,CAAUtB,UAAV,CAAqBH,OAArB;AACH;;AACD,SAAK6D,UAAL,CAAgB,MAAhB;AACH,GAhZmC;AAkZpCkO,EAAAA,cAAc,EAAE,0BAAY;AAC9B,WAAOR,KAAK,CAAClM,YAAN,GAAqB,KAAKhQ,MAAL,CAAY4T,QAAjC,GAA4C,KAAK5T,MAAL,CAAY4T,QAAZ,CAAqB,CAArB,CAAnD;AACG,GApZmC;AAsZpC;AACA1J,EAAAA,UAAU,EAAE,oBAAUvG,EAAV,EAAc;AACtB,QAAI,CAAC,KAAKjC,IAAV,EAAgB;AACZ;AACH;;AACD,QAAIb,CAAC,CAAC8G,OAAF,CAAUkX,EAAV,IAAiBhe,CAAC,CAACoB,OAAF,IAAapB,CAAC,CAACoB,OAAF,CAAU6c,MAA5C,EAAqD;AACjD,WAAKpd,IAAL,CAAUoF,QAAV,CAAmBiY,UAAnB,CAA8BC,KAA9B,CAAoCrb,EAApC,EADiD;;AAEpD;;AACD,QAAIA,EAAE,CAACsF,aAAP,EAAsB;AAClB,UAAIA,aAAa,GAAGtF,EAAE,CAACsF,aAAvB;;AACA,UAAIA,aAAa,CAACG,MAAlB,EAA0B;AAAE;AACxB,aAAK6V,YAAL,CAAkBtb,EAAlB;;AACA;AACH,OAHD,MAGO,IAAIsF,aAAa,CAACiW,KAAd,KAAwB,CAAxB,IAA6BjW,aAAa,CAACuL,MAAd,KAAyB,CAA1D,EAA6D;AAChE;AACH;AACJ;;AACD,QAAII,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuB,IAAvB,EAA6B1K,EAA7B,EAAiC,KAAKjC,IAAtC,EAA4C,KAAK4M,OAAjD,CAAf;AAAA,QACIjO,IAAI,GAAGuU,QAAQ,CAACvU,IADpB;AAAA,QAEIoJ,GAAG,GAAG,KAAK1J,OAFf;AAIA,SAAKof,aAAL,GAAqBC,IAAI,CAACC,GAAL,KAAa,GAAlC;AACA,SAAK/K,IAAL,GAAYM,QAAZ;;AACA,QAAIvU,IAAI,KAAK,MAAT,IAAmBoJ,GAAG,CAACpJ,IAAJ,KAAa,WAApC,EAAiD;AAC7C,UAAIoJ,GAAG,CAACwS,gBAAR,EAA0B;AAAE;AAAS;;AACrC,WAAKH,UAAL,GAAkB,EAAlB;;AACA,UAAI5G,GAAG,GAAGN,QAAQ,CAACM,GAAnB;AAAA,UACIlV,MAAM,GAAG,KAAK0c,cAAL,EADb;;AAEA1c,MAAAA,MAAM,CAACS,MAAP,CAAcyU,GAAd,EAAmB,CAAnB,EAAsBlV,MAAM,CAACkV,GAAD,CAA5B;;AACA,WAAKyH,SAAL,CAAehZ,EAAE,CAAC8C,MAAlB,EAA0ByO,GAA1B,EAA+B7U,IAA/B;AACH;;AACD,SAAKoU,UAAL,GAAkB,IAAlB;;AACA,SAAKnG,OAAL,CAAazH,YAAb;;AACA,SAAKnF,IAAL,CACKgC,EADL,CACQ,WADR,EACqB,KAAK4b,UAD1B,EACsC,IADtC,EAEK5b,EAFL,CAEQ,SAFR,EAEmB,KAAK6b,aAFxB,EAEuC,IAFvC;AAGH,GA1bmC;AA4bpCA,EAAAA,aAAa,EAAE,uBAAU5b,EAAV,EAAc;AAC/B,SAAKoa,QAAL,CAAcpa,EAAd;;AACM,QAAI,KAAK6b,mBAAT,EAA8B;AAAEC,MAAAA,kBAAkB,CAAC,KAAKD,mBAAN,CAAlB;AAA+C;;AACrF,SAAKA,mBAAL,GAA2BjR,mBAAmB,CAAC,YAAW;AACzD,WAAKC,UAAL,CAAgB,UAAhB,EAA4B7K,EAA5B;AACA,KAF8C,CAE7CnE,IAF6C,CAExC,IAFwC,CAAD,EAEhC;AAACiP,MAAAA,OAAO,EAAE;AAAV,KAFgC,CAA9C;AAGG,GAlcmC;AAocpC6Q,EAAAA,UAAU,EAAE,oBAAU3b,EAAV,EAAc;AACtB,QAAI,KAAK2Q,IAAL,IAAa,KAAK6K,aAAL,GAAqBC,IAAI,CAACC,GAAL,EAAtC,EAAkD;AAC9C,UAAI,CAAC,KAAKtD,QAAV,EAAoB;AAChB,aAAKzN,OAAL,CAAa4D,QAAb;AACH;;AACD,WAAKwN,kBAAL;;AACA,WAAKC,MAAL,GAAc,IAAd;AAET,UAAIlZ,MAAM,GAAG9C,EAAE,CAACsF,aAAH,CAAiBC,OAAjB,GAA2BgT,KAAK,CAACxF,SAAN,CAAgB/S,EAAE,CAAC8C,MAAnB,EAA2B,IAA3B,EAAiC,KAAK/E,IAAtC,CAA3B,GAAyEiC,EAAE,CAAC8C,MAAzF;;AACS,WAAKkW,SAAL,CAAelW,MAAf,EAAuB,KAAK6N,IAAL,CAAUY,GAAjC,EAAsC,KAAKZ,IAAL,CAAUjU,IAAhD;;AACT,UAAI,kBAAkB,KAAKiO,OAA3B,EAAoC;AACnC3K,QAAAA,EAAE,CAACyG,IAAH,GAAU,IAAV;;AACA,aAAKkE,OAAL,CAAa6F,YAAb,CAA0B,KAAK4H,QAAL,GAAgB,QAAhB,GAA2B,MAArD,EAA6DpY,EAA7D;AACA;AACK;AACJ,GAndmC;AAqdpCoa,EAAAA,QAAQ,EAAE,kBAAUpa,EAAV,EAAc;AACpB,SAAK8Q,UAAL,GAAkB,KAAlB;;AACA,SAAKnG,OAAL,CAAanH,WAAb;;AACA,QAAI,CAAC,KAAKnH,MAAV,EAAkB;AAAE;AAAS;;AAC7B,QAAI,KAAK0B,IAAT,EAAe;AACX,WAAKA,IAAL,CACKoG,GADL,CACS,WADT,EACsB,KAAKwX,UAD3B,EACuC,IADvC,EAEKxX,GAFL,CAES,SAFT,EAEoB,KAAKyX,aAFzB,EAEwC,IAFxC;;AAIA,UAAIjW,MAAM,GAAG3F,EAAE,IAAIA,EAAE,CAACsF,aAAT,GAAyBtF,EAAE,CAACsF,aAAH,CAAiBK,MAA1C,GAAmD,IAAhE;;AACA,UAAIA,MAAM,IAAIA,MAAM,CAAC+R,YAAjB,IAAiC,sBAAsBuE,IAAtB,CAA2BtW,MAAM,CAACwM,SAAlC,CAArC,EAAmF;AAC/E,YAAIrP,MAAM,GAAGyV,KAAK,CAAClB,cAAN,CAAqB1R,MAAM,CAAC+R,YAA5B,EAA0C,KAAK3Z,IAAL,CAAUuL,UAAV,CAAqBjC,WAArB,EAA1C,CAAb;;AACA,aAAK2R,SAAL,CAAelW,MAAf,EAAuB,KAAK6N,IAAL,CAAUY,GAAjC,EAAsC,KAAKZ,IAAL,CAAUjU,IAAhD;AACH;;AACD,WAAKqB,IAAL,CAAUme,UAAV,GAAuB,IAAvB,CAVW;AAWd;;AACD,QAAI,KAAKxV,SAAT,EAAoB;AAChB,WAAKmE,UAAL,CAAgB,UAAhB,EAA4B7K,EAA5B;AACH;;AACD,SAAK0G,SAAL,GAAiB,KAAjB;AACA,SAAKiK,IAAL,GAAY,IAAZ;AACA,QAAIzP,SAAS,GAAG,KAAK9E,OAAL,CAAa8E,SAAb,IAA0B,EAA1C;;AACA,QAAI,CAACA,SAAS,CAAC3E,IAAX,IAAmB,CAAC,KAAK6b,QAA7B,EAAuC;AACnC,WAAKzN,OAAL,CAAa0D,QAAb;AACH;AACJ,GA9emC;AA+epC8N,EAAAA,mBAAmB,EAAE,CA/ee;AA+eX;AAEzBlC,EAAAA,YAAY,EAAE,sBAAU1I,GAAV,EAAe;AACzB,QAAIlV,MAAM,GAAG,KAAK0c,cAAL,EAAb;;AACA,QAAI1c,MAAM,CAACQ,MAAP,GAAgB0U,GAApB,EAAyB;AACrB,WAAK4G,UAAL,GAAkB,EAAlB;AACA9b,MAAAA,MAAM,CAACS,MAAP,CAAcyU,GAAd,EAAmB,CAAnB;;AACA,UAAI,KAAKnV,OAAL,CAAaM,IAAb,KAAsB,WAAtB,IACGL,MAAM,CAACQ,MAAP,GAAgB,CADnB,IAEIR,MAAM,CAACQ,MAAP,GAAgB,CAAhB,IAAqB,CAAC,KAAKub,QAFnC,EAGM;AACF,aAAKzN,OAAL,CAAazB,MAAb,CAAoB,IAApB;AACH,OALD,MAKO;AACH,aAAK8P,SAAL,CAAe3c,MAAM,CAAC,CAAD,CAArB,EAA0B,CAA1B;AACH;AACJ;AACP,GA/fsC;AAigBpC0f,EAAAA,kBAAkB,EAAE,8BAAY;AAC5B,QAAI,KAAKK,eAAT,EAA0B;AAAEC,MAAAA,YAAY,CAAC,KAAKD,eAAN,CAAZ;AAAqC;;AACjE,SAAKA,eAAL,GAAuB,IAAvB;AACH,GApgBmC;AAsgBpCE,EAAAA,cAAc,EAAE,wBAAUtc,EAAV,EAAc;AAC1B,SAAK+b,kBAAL;;AACA,QAAI,CAAC,KAAK3f,OAAL,CAAakc,gBAAd,KAAmC,CAAC,KAAKiE,YAAN,IAAsBd,IAAI,CAACC,GAAL,KAAa,KAAKa,YAA3E,CAAJ,EAA8F;AAC1F,UAAItL,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuB,IAAvB,EAA6B1K,EAA7B,EAAiC,KAAKjC,IAAtC,EAA4C,KAAK4M,OAAjD,CAAf;;AACA,WAAKsP,YAAL,CAAkBhJ,QAAQ,CAACM,GAA3B;AACH;AACJ,GA5gBmC;AA8gBpCiL,EAAAA,WAAW,EAAE,qBAAUxc,EAAV,EAAc;AACvB,QAAIA,EAAE,CAACsF,aAAH,IAAoBtF,EAAE,CAACsF,aAAH,CAAiBC,OAAzC,EAAkD;AAAE;AAAS;;AAC7D,QAAIkX,SAAS,GAAGhB,IAAI,CAACC,GAAL,EAAhB;AAAA,QACIgB,aAAa,GAAG,KAAKP,mBADzB;AAGA,SAAKA,mBAAL,GAA2BM,SAAS,GAAG,GAAvC;;AACA,QAAI,KAAKT,MAAL,IAAeS,SAAS,GAAGC,aAA/B,EAA8C;AAAE,WAAKV,MAAL,GAAc,KAAd;AAAqB;AAAS;;AAE9E,QAAI/K,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuB,IAAvB,EAA6B1K,EAA7B,EAAiC,KAAKjC,IAAtC,EAA4C,KAAK4M,OAAjD,CAAf;AAAA,QACIxK,IAAI,GAAG,KAAKA,IADhB;;AAEA,QAAI8Q,QAAQ,CAACvU,IAAT,KAAkB,MAAtB,EAA8B;AAC1B,UAAI6U,GAAG,GAAGN,QAAQ,CAACM,GAAnB;;AACA,UAAIN,QAAQ,CAACgG,GAAb,EAAkB;AAAG;AACjB,YAAI9W,IAAI,KAAK,KAAb,EAAoB;AAChB,eAAKia,QAAL;;AACA,eAAKnX,WAAL;;AACA,cAAI,KAAKmV,QAAL,IAAiB7G,GAAG,KAAK,CAA7B,EAAgC;AAC5B,iBAAK5G,OAAL,CAAavO,OAAb,CAAqBM,IAArB,GAA4B,KAAKN,OAAL,CAAaM,IAAb,GAAoB,SAAhD;AACA,iBAAK0b,QAAL,GAAgB,KAAhB;;AACA,iBAAK6B,YAAL,CAAkB,KAAKlB,cAAL,GAAsBlc,MAAtB,GAA+B,CAAjD;AACH;;AACD,eAAKgO,UAAL,CAAgB,UAAhB,EAA4BoG,QAA5B;;AACA,eAAKgJ,YAAL,CAAkB1I,GAAlB;AACH,SAVD,MAUO,IAAI,KAAK6G,QAAT,EAAmB;AACrC,eAAK2D,kBAAL;;AACe,eAAKK,eAAL,GAAuBO,UAAU,CAAC,YAAY;AAC5D,gBAAIpL,GAAG,KAAK,CAAZ,EAAe;AAAE,mBAAKwH,cAAL,GAAsB6D,OAAtB;AAAkC;;AACnD,iBAAKvgB,MAAL,CAAYmc,SAAZ,CAAsBvH,QAAQ,CAACnO,MAA/B;AACA,iBAAK8D,UAAL;;AACA,iBAAKiE,UAAL,CAAgB,UAAhB,EAA4BoG,QAA5B;AACA,WALgD,CAK/CpV,IAL+C,CAK1C,IAL0C,CAAD,EAKlC,GALkC,CAAjC;AAMH;AACJ,OApBD,MAoBO,IAAIsE,IAAI,KAAK,KAAb,EAAoB;AAAE;AACzB,aAAKqY,SAAL,CAAexY,EAAE,CAAC8C,MAAlB;AACH;AACJ;AACJ,GAljBmC;AAojBpCqX,EAAAA,YAAY,EAAE,EApjBsB;AAqjBpC;AACAjB,EAAAA,WAAW,EAAE,KAtjBuB;AAujBpCgB,EAAAA,aAAa,EAAE,uBAAUxd,IAAV,EAAgBuU,QAAhB,EAA0B;AAC3C,SAAKiI,WAAL,GAAmBxc,IAAI,KAAK,QAAT,IAAqBA,IAAI,KAAK,qBAAjD;AACA,SAAKyd,YAAL,GAAoB,EAApB;;AAEA,QAAI,KAAK9b,IAAT,EAAe;AACd,WAAKA,IAAL,CACE8F,GADF,CACM,aADN,EACqB,KAAK0Y,cAD1B,EAC0C,IAD1C,EAEE1Y,GAFF,CAEM,WAFN,EAEmB,KAAK2Y,cAFxB,EAEwC,IAFxC;AAGA,WAAKtY,WAAL,CAAiB,KAAKnG,IAAtB;AACA,WAAKA,IAAL,GAAY,IAAZ;AACA,KAND,MAMO;AACNnB,MAAAA,CAAC,CAACyB,OAAF,CAAUoe,gBAAV,GAA6B7f,CAAC,CAACyB,OAAF,CAAUoe,gBAAV,IAA8B7f,CAAC,CAACyB,OAAF,CAAUK,QAAV,CAC1D,CAAC,iBAAD,EAAoB,uBAApB,EAA6C,kBAA7C,EAAiE,oBAAjE,EAAuF,mBAAvF,CAD0D,CAA3D;AAGA,WAAKX,IAAL,GAAYnB,CAAC,CAAC+I,SAAF,CAAY,KAAK3J,KAAL,CAAWwL,SAAX,EAAZ,EAAoC;AAC/CyM,QAAAA,KAAK,EAAE,KAAKjY,KAAL,CAAWF,OAAX,CAAmBmY,KADqB;AACd;AACjCD,QAAAA,OAAO,EAAE,KAAKhY,KAAL,CAAWF,OAAX,CAAmBkY,OAFmB;AAG/CnC,QAAAA,SAAS,EAAE,0BAA0BzV,IAHU;AAI/C+X,QAAAA,SAAS,EAAE,MAJoC;AAK/CxK,QAAAA,YAAY,EAAE,CALiC;AAM/C4K,QAAAA,MAAM,EAAE,IANuC;AAO/CD,QAAAA,WAAW,EAAE,CAPkC;AAQ/CrY,QAAAA,IAAI,EAAE,IARyC;AAS/CmS,QAAAA,MAAM,EAAE;AATuC,OAApC,CAAZ;AAWA,WAAK3L,QAAL,CAAc,KAAK1E,IAAnB;AACA,WAAKA,IAAL,CACE0B,EADF,CACK,aADL,EACoB,KAAK8c,cADzB,EACyC,IADzC,EAEE9c,EAFF,CAEK,WAFL,EAEkB,KAAK+c,cAFvB,EAEuC,IAFvC;;AAIA,UAAI,KAAKze,IAAL,CAAUsa,eAAd,EAA+B;AAC9B,aAAKta,IAAL,CAAUsa,eAAV,CAA0B;AACzBza,UAAAA,WAAW,EAAE,KADY;AAEzB0a,UAAAA,uBAAuB,EAAE,KAFA;AAGzBC,UAAAA,gBAAgB,EAAE;AAHO,SAA1B;AAKA;;AAEQ,WAAKH,oBAAL,CAA0B,MAA1B,EAAkC,KAAK3a,IAAvC;;AACT,WAAKif,kBAAL,GAA0BtgB,IAAI,KAAK,QAAT,GAAoB,KAAK2B,IAAL,CAAUgU,SAAV,EAApB,GAA4CpB,QAAQ,CAACnO,MAA/E;AAEA;AACE,GAjmBmC;AAmmBpC+Z,EAAAA,cAAc,EAAE,0BAAY;AAC9B,SAAKxe,IAAL,CAAUjC,OAAV,CAAkByc,gBAAlB,CAAmC,CAAnC,EAAsCgB,QAAtC,GAAiD,KAAKM,YAAL,CAAkBtd,MAAlB,GAA2B,CAA5E;AACG,GArmBmC;AAumBpCogB,EAAAA,mBAAmB,EAAE,6BAAUjd,EAAV,EAAc;AACrC,QAAIsQ,CAAC,GAAGtQ,EAAE,CAACsF,aAAX;AACA,WAAOgL,CAAC,CAACiL,KAAF,KAAY,CAAZ,IAAiBjL,CAAC,CAACO,MAAF,KAAa,CAA9B,IAAmC,CAACP,CAAC,CAAC8F,OAA7C;AACG,GA1mBmC;AA4mBpC0G,EAAAA,cAAc,EAAE,wBAAU9c,EAAV,EAAc;AAChC,QAAI,KAAKid,mBAAL,CAAyBjd,EAAzB,CAAJ,EAAkC;AAAE;AAAS;;AAC7C,SAAKma,YAAL,CAAkB7Y,IAAlB,CAAuB,KAAKyX,cAAL,GAAsBjb,GAAtB,CAA0B,UAASiD,EAAT,EAAa;AAAE,aAAOA,EAAE,CAACmc,KAAH,EAAP;AAAoB,KAA7D,CAAvB;;AACA,QAAIjE,UAAU,GAAG,KAAKC,WAAtB;;AACA,QAAIlZ,EAAE,CAACsF,aAAH,CAAiBG,MAArB,EAA6B;AAC5BwT,MAAAA,UAAU,GAAG,CAACA,UAAd;AACA;;AACD,QAAI,KAAKlb,IAAL,CAAUG,WAAd,EAA2B;AAAE,WAAKH,IAAL,CAAUG,WAAV,CAAsBif,IAAtB;AAA+B;;AAC5D,QAAIlE,UAAJ,EAAgB;AACf,WAAKmE,iBAAL,GAAyBpd,EAAE,CAAC8C,MAA5B;AACA,WAAKua,aAAL,GAAqB,KAAKL,kBAA1B;;AAEA,WAAKjf,IAAL,CACEgC,EADF,CACK,SADL,EACgB,KAAKud,YADrB,EACmC,IADnC,EAEEvd,EAFF,CAEK,WAFL,EAEkB,KAAKwd,SAFvB,EAEkC,IAFlC;;AAGA,WAAK5S,OAAL,CAAazH,YAAb;;AACA,WAAK2H,UAAL,CAAgB,aAAhB,EAA+B7K,EAA/B;AACA,KATD,MASO;AACN,WAAKsb,YAAL,CAAkBtb,EAAlB;AACA;AACE,GAhoBmC;AAkoBpCsd,EAAAA,YAAY,EAAE,sBAAUtd,EAAV,EAAc;AAAE;AAC1B,SAAKjC,IAAL,CACKoG,GADL,CACS,SADT,EACoB,KAAKmZ,YADzB,EACuC,IADvC,EAEKnZ,GAFL,CAES,WAFT,EAEsB,KAAKoZ,SAF3B,EAEsC,IAFtC;;AAIN,SAAK9E,aAAL,CAAmBzY,EAAnB;;AAEA,QAAI,KAAKwd,OAAT,EAAkB;AACjB,UAAIC,MAAM,GAAG,KAAKD,OAAlB;AAAA,UACCE,UAAU,GAAG,KAAK3f,IAAL,CAAU4f,cAAV,GAA2Btc,GAA3B,CAA+Boc,MAA/B,CADd;AAAA,UAECG,GAAG,GAAG5Q,IAAI,CAAC4Q,GAAL,CAAS,CAAC,KAAKnM,MAAf,CAFP;AAAA,UAGCoM,GAAG,GAAG7Q,IAAI,CAAC6Q,GAAL,CAAS,CAAC,KAAKpM,MAAf,CAHP;AAAA,UAIC3T,GAAG,GAAG,KAAKC,IAJZ;AAAA,UAKCkS,QAAQ,GAAG,KAAK5T,MAAL,CAAYsa,MAAZ,CAAmB,CAAnB,EAAsB7Y,GAAtB,CAA0B,UAAU6O,CAAV,EAAa;AACjD,YAAImR,EAAE,GAAGnR,CAAC,CAACoR,QAAF,CAAWN,MAAX,CAAT;AACA,eAAO3f,GAAG,CAACkgB,SAAJ,CAAc9gB,CAAC,CAACmC,KAAF,CACpBye,EAAE,CAACve,CAAH,GAAOqe,GAAP,GAAaE,EAAE,CAACte,CAAH,GAAOqe,GADA,EAEpBC,EAAE,CAACte,CAAH,GAAOoe,GAAP,GAAaE,EAAE,CAACve,CAAH,GAAOse,GAFA,EAGnBxc,GAHmB,CAGfqc,UAHe,CAAd,CAAP;AAIA,OANU,CALZ;;AAYA,WAAKvW,UAAL,CAAgB8I,QAAhB;;AAEA,WAAKgO,WAAL;;AACA,WAAK5f,IAAL,CAAU2c,SAAV,CAAoB,KAAK1e,KAAL,CAAW2e,OAA/B,EAhBiB;AAkBjB;;AACD,SAAKtQ,OAAL,CAAanH,WAAb;;AACM,SAAKqH,UAAL,CAAgB,WAAhB,EAA6B7K,EAA7B;AACH,GA9pBmC;AAgqBpCud,EAAAA,SAAS,EAAE,mBAAUvd,EAAV,EAAc;AACrB,QAAIsX,GAAG,GAAGtX,EAAE,CAAC8C,MAAb;AAAA;AACLob,IAAAA,CAAC,GAAG,KAAKd,iBADJ;AAAA;AAELe,IAAAA,CAAC,GAAG,KAAKd,aAFJ,CADqB;;AAK3B,SAAKY,WAAL,CACCjR,IAAI,CAACoR,KAAL,CAAWF,CAAC,CAAC9X,GAAF,GAAQ+X,CAAC,CAAC/X,GAArB,EAA0B8X,CAAC,CAAC7X,GAAF,GAAQ8X,CAAC,CAAC9X,GAApC,IAA2C2G,IAAI,CAACoR,KAAL,CAAW9G,GAAG,CAAClR,GAAJ,GAAU+X,CAAC,CAAC/X,GAAvB,EAA4BkR,GAAG,CAACjR,GAAJ,GAAU8X,CAAC,CAAC9X,GAAxC,CAD5C,EAEC,KAAKtI,IAAL,CAAUsgB,OAAV,CAAkBF,CAAlB,EAAqBJ,QAArB,CAA8B,KAAKhgB,IAAL,CAAU4f,cAAV,EAA9B,CAFD;;AAIA,SAAK9S,UAAL,CAAgB,QAAhB,EAA0B7K,EAA1B;AACG,GA1qBmC;AA4qBpCie,EAAAA,WAAW,EAAE,qBAAU5M,KAAV,EAAiBoM,MAAjB,EAAyB;AAClC,QAAIa,SAAS,GAAG,EAAhB;AAAA,QACLC,MAAM,GAAG,EADJ;;AAGN,QAAId,MAAJ,EAAY;AACXa,MAAAA,SAAS,GAAGb,MAAM,CAACle,CAAP,GAAW,KAAX,GAAmBke,MAAM,CAACje,CAA1B,GAA8B,IAA1C;AACA+e,MAAAA,MAAM,GAAG,YAAYlN,KAAZ,GAAoB,MAA7B;AACA;;AAED,SAAKI,MAAL,GAAcJ,KAAd;AACA,SAAKmM,OAAL,GAAeC,MAAf;AAEM,KAAC,KAAKpf,IAAN,EAAY,KAAK/B,KAAjB,EAAwB,KAAKC,IAA7B,EAAmC,KAAKF,MAAxC,EAAgDkN,OAAhD,CAAwD,UAASxI,EAAT,EAAa;AAC1EA,MAAAA,EAAE,CAACoY,KAAH,CAASla,KAAT,CAAe/B,CAAC,CAACyB,OAAF,CAAUoe,gBAAzB,IAA6CuB,SAA7C;AACAvd,MAAAA,EAAE,CAACoY,KAAH,CAASla,KAAT,CAAeuf,SAAf,GAA2BD,MAA3B;AACA,KAHK;AAIJ,GA5rBoC;AA8rBpCE,EAAAA,UAAU,EAAE,sBAAY;AACpB,SAAK1gB,IAAL,CACKoG,GADL,CACS,SADT,EACoB,KAAKsa,UADzB,EACqC,IADrC,EAEKta,GAFL,CAES,WAFT,EAEsB,KAAKua,OAF3B,EAEoC,IAFpC;;AAIN,SAAK/T,OAAL,CAAanH,WAAb;;AACM,SAAKqH,UAAL,CAAgB,SAAhB;AACH,GArsBmC;AAusBpCyQ,EAAAA,YAAY,EAAE,sBAAUtb,EAAV,EAAc;AACxB,SAAK2e,eAAL,GAAuB3e,EAAE,CAAC8C,MAA1B;;AACA,SAAK/E,IAAL,CACKgC,EADL,CACQ,SADR,EACmB,KAAK0e,UADxB,EACoC,IADpC,EAEK1e,EAFL,CAEQ,WAFR,EAEqB,KAAK2e,OAF1B,EAEmC,IAFnC;;AAGN,SAAK/T,OAAL,CAAazH,YAAb;;AACM,SAAK2H,UAAL,CAAgB,WAAhB;AACH,GA9sBmC;AAgtBpC6T,EAAAA,OAAO,EAAE,iBAAU1e,EAAV,EAAc;AACnB,QAAIoG,GAAG,GAAG,KAAKuY,eAAL,CAAqBvY,GAArB,GAA2BpG,EAAE,CAAC8C,MAAH,CAAUsD,GAA/C;AAAA,QACIC,GAAG,GAAG,KAAKsY,eAAL,CAAqBtY,GAArB,GAA2BrG,EAAE,CAAC8C,MAAH,CAAUuD,GAD/C;AAAA,QAEIhK,MAAM,GAAG,KAAK0c,cAAL,EAFb;;AAIA1c,IAAAA,MAAM,CAACkN,OAAP,CAAe,UAAUjJ,IAAV,EAAgB;AAC3BA,MAAAA,IAAI,CAAC8F,GAAL,IAAYA,GAAZ;AACA9F,MAAAA,IAAI,CAAC+F,GAAL,IAAYA,GAAZ;AACH,KAHD;AAIA,SAAKsY,eAAL,GAAuB3e,EAAE,CAAC8C,MAA1B;AAEA,SAAKqV,UAAL,GAAkB,EAAlB;AACA,SAAKhR,UAAL,CAAgB9K,MAAhB;;AACA,SAAKwO,UAAL,CAAgB,MAAhB;AACH,GA9tBmC;AAguBpCA,EAAAA,UAAU,EAAE,oBAAUO,IAAV,EAAgBhP,OAAhB,EAAyB;AACjC,SAAKuO,OAAL,CAAaE,UAAb,CAAwBO,IAAxB,EAA8BhP,OAA9B;AACH,GAluBmC;AAouBpCkK,EAAAA,eAAe,EAAE,yBAAUtG,EAAV,EAAc4e,QAAd,EAAwB;AACrC,QAAI3N,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuB,IAAvB,EAA6B1K,EAA7B,EAAiC,KAAKjC,IAAtC,EAA4C,KAAK4M,OAAjD,CAAf;;AACA,QAAIsG,QAAQ,CAACvU,IAAT,KAAkB,MAAtB,EAA8B;AAC1B,WAAKiO,OAAL,CAAazH,YAAb;;AACA,WAAKyN,IAAL,GAAYM,QAAZ,CAF0B;;AAI1B,UAAI5L,EAAE,GAAG,IAAT;;AACA,UAAIwZ,UAAU,GAAG,SAAbA,UAAa,CAAU7e,EAAV,EAAc;AAC3BiR,QAAAA,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuBrF,EAAvB,EAA2BrF,EAA3B,EAA+BqF,EAAE,CAACtH,IAAlC,EAAwC,KAAK4M,OAA7C,CAAX;;AACI,YAAI3K,EAAE,CAACoW,OAAH,CAAWvZ,MAAX,KAAsB,CAA1B,EAA6B;AAAE;AAC3BwI,UAAAA,EAAE,CAACsW,UAAH,CAAc1K,QAAd;AACL;AACN,OALD;;AAMA,UAAI6N,SAAS,GAAG,SAAZA,SAAY,GAAY;AACxB5hB,QAAAA,CAAC,CAACgH,QAAF,CACKC,GADL,CACSkB,EAAE,CAACtH,IAAH,CAAQ8B,UADjB,EAC6B,WAD7B,EAC0Cgf,UAD1C,EACsDxZ,EADtD,EAEKlB,GAFL,CAESkB,EAAE,CAACtH,IAAH,CAAQ8B,UAFjB,EAE6B,UAF7B,EAEyCif,SAFzC,EAEoDzZ,EAFpD;;AAGAA,QAAAA,EAAE,CAACsF,OAAH,CAAWnH,WAAX;;AACA,YAAIob,QAAJ,EAAc;AACVvZ,UAAAA,EAAE,CAACsF,OAAH,CAAW5D,IAAX,CAAgB,UAAhB,EAA4B;AAAC5G,YAAAA,IAAI,EAAEkF,EAAE,CAACjJ,OAAH,CAAWM,IAAlB;AAAwBsM,YAAAA,MAAM,EAAE3D;AAAhC,WAA5B;AACH;AACJ,OARD;;AASAnI,MAAAA,CAAC,CAACgH,QAAF,CACKnE,EADL,CACQsF,EAAE,CAACtH,IAAH,CAAQ8B,UADhB,EAC4B,WAD5B,EACyCgf,UADzC,EACqDxZ,EADrD,EAEKtF,EAFL,CAEQsF,EAAE,CAACtH,IAAH,CAAQ8B,UAFhB,EAE4B,UAF5B,EAEwCif,SAFxC,EAEmDzZ,EAFnD;AAGH;AACJ,GA9vBmC;AAgwBpC0Z,EAAAA,aAAa,EAAE,uBAAU3F,IAAV,EAAgB;AAC3B;AACA,QAAI4F,IAAI,GAAG9hB,CAAC,CAACgH,QAAF,CAAW+a,eAAtB;AAAA,QACLC,OAAO,GAAGhiB,CAAC,CAACgH,QAAF,CAAWib,cADhB;;AAEA,QAAI,KAAKC,UAAT,EAAqB;AACjBliB,MAAAA,CAAC,CAACgH,QAAF,CAAWC,GAAX,CAAe,KAAK9H,MAAL,CAAYwD,UAA3B,EAAuC,YAAvC,EAAqD,KAAKuf,UAA1D,EAAsE,IAAtE;AACH;;AACD,QAAI,KAAKC,cAAT,EAAyB;AACrBniB,MAAAA,CAAC,CAACgH,QAAF,CAAWC,GAAX,CAAe,KAAK5H,IAAL,CAAUsD,UAAzB,EAAqC,YAArC,EAAmD,KAAKwf,cAAxD,EAAwE,IAAxE;AACH;;AACD,SAAKD,UAAL,GAAkB,IAAlB;AACA,SAAKC,cAAL,GAAsB,IAAtB;;AACA,QAAIjG,IAAJ,EAAU;AACN,WAAK/c,MAAL,CACK0D,EADL,CACQ,gBADR,EAC0Bif,IAD1B,EACgC,IADhC,EAEKjf,EAFL,CAEQ,gBAFR,EAE0Bmf,OAF1B,EAEmC,IAFnC,EAGKnf,EAHL,CAGQ,UAHR,EAGoB,KAAKuc,cAHzB,EAGyC,IAHzC,EAIKvc,EAJL,CAIQ,OAJR,EAIiB,KAAKyc,WAJtB,EAImC,IAJnC;;AAKA,UAAItf,CAAC,CAAC8G,OAAF,CAAUC,MAAd,EAAsB;AAClB,YAAI,KAAKqb,YAAT,EAAuB;AACnB,eAAK3U,OAAL,CAAaoB,eAAb,CAA6B;AAAC6I,YAAAA,WAAW,EAAE,KAAK0K;AAAnB,WAA7B;AACH;;AACD,YAAIja,EAAE,GAAG,IAAT;;AACA,aAAK+Z,UAAL,GAAkB,UAAUpf,EAAV,EAAc;AAC5BqF,UAAAA,EAAE,CAACiB,eAAH,CAAmBtG,EAAnB;AACH,SAFD;;AAGA9C,QAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAc,KAAK1D,MAAL,CAAYwD,UAA1B,EAAsC,YAAtC,EAAoD,KAAKuf,UAAzD,EAAqE,IAArE;;AACA,aAAKC,cAAL,GAAsB,UAAUrf,EAAV,EAAc;AAChC,cAAIiR,QAAQ,GAAGsH,KAAK,CAACrH,WAAN,CAAkBxG,IAAlB,CAAuBrF,EAAvB,EAA2BrF,EAA3B,EAA+BqF,EAAE,CAACtH,IAAlC,EAAwC,KAAK4M,OAA7C,CAAf;;AACA,cAAIsG,QAAQ,CAACvU,IAAT,KAAkB,MAAlB,IAA4B2I,EAAE,CAACjJ,OAAH,CAAWM,IAAX,KAAoB,WAApD,EAAiE;AAC7D,gBAAIL,MAAM,GAAGgJ,EAAE,CAAChJ,MAAH,CAAU4T,QAAvB;AACA5T,YAAAA,MAAM,CAACS,MAAP,CAAcmU,QAAQ,CAACM,GAAvB,EAA4B,CAA5B,EAA+BlV,MAAM,CAAC4U,QAAQ,CAACM,GAAV,CAArC;AACAlM,YAAAA,EAAE,CAAC8S,UAAH,GAAgB,EAAhB;;AACA9S,YAAAA,EAAE,CAAC2T,SAAH,CAAa/H,QAAQ,CAACnO,MAAtB,EAA8BmO,QAAQ,CAACM,GAAvC,EAA4CN,QAAQ,CAACvU,IAArD;AACH;AACJ,SARD;;AASAQ,QAAAA,CAAC,CAACgH,QAAF,CAAWnE,EAAX,CAAc,KAAKxD,IAAL,CAAUsD,UAAxB,EAAoC,YAApC,EAAkD,KAAKwf,cAAvD,EAAuE,IAAvE;AACH,OAnBD,MAmBO;AACH,aAAKhjB,MAAL,CACK0D,EADL,CACQ,WADR,EACqBif,IADrB,EAEKjf,EAFL,CAEQ,WAFR,EAEqB,KAAKwG,UAF1B,EAEsC,IAFtC;AAGA,aAAKjK,KAAL,CACKyD,EADL,CACQ,WADR,EACqB,KAAKwG,UAD1B,EACsC,IADtC;AAEA,aAAKhK,IAAL,CACKwD,EADL,CACQ,gBADR,EAC0Bif,IAD1B,EACgC,IADhC,EAEKjf,EAFL,CAEQ,WAFR,EAEqB,KAAKwG,UAF1B,EAEsC,IAFtC;;AAGA,aAAKsE,UAAL,CAAgB,UAAhB;AACH;AACJ,KApCD,MAoCO;AACH,WAAKuP,QAAL;;AACA,WAAK/d,MAAL,CACK8H,GADL,CACS,gBADT,EAC2B6a,IAD3B,EACiC,IADjC,EAEK7a,GAFL,CAES,gBAFT,EAE2B+a,OAF3B,EAEoC,IAFpC,EAGK/a,GAHL,CAGS,UAHT,EAGqB,KAAKmY,cAH1B,EAG0C,IAH1C,EAIKnY,GAJL,CAIS,OAJT,EAIkB,KAAKqY,WAJvB,EAIoC,IAJpC;;AAKA,UAAI,CAACtf,CAAC,CAAC8G,OAAF,CAAUC,MAAf,EAAuB;AACnB,aAAK5H,MAAL,CACK8H,GADL,CACS,WADT,EACsB6a,IADtB,EAEK7a,GAFL,CAES,WAFT,EAEsB,KAAKoC,UAF3B,EAEuC,IAFvC;AAGA,aAAKjK,KAAL,CACK6H,GADL,CACS,WADT,EACsB,KAAKoC,UAD3B,EACuC,IADvC;AAEA,aAAKhK,IAAL,CACK4H,GADL,CACS,gBADT,EAC2B6a,IAD3B,EACiC,IADjC,EAEK7a,GAFL,CAES,WAFT,EAEsB,KAAKoC,UAF3B,EAEuC,IAFvC;AAGH;AACJ;AACJ,GAl0BmC;AAo0BpCgZ,EAAAA,eAAe,EAAE,yBAAUnG,IAAV,EAAgB;AAC7B,QAAI,CAAC,KAAK/c,MAAN,IAAgB,CAAC,KAAK0B,IAA1B,EAAgC;AAAE;AAAS;;AAC3C,QAAIihB,IAAI,GAAG9hB,CAAC,CAACgH,QAAF,CAAW+a,eAAtB;;AACA,QAAI7F,IAAJ,EAAU;AACf,UAAI,KAAKrb,IAAL,CAAUG,WAAd,EAA2B;AAC1B,aAAKH,IAAL,CAAUG,WAAV,CAAsBkF,OAAtB;AACA;;AAEQ,WAAKuH,OAAL,CAAanH,WAAb;;AACA,WAAKzF,IAAL,CACKgC,EADL,CACQ,UADR,EACoBif,IADpB,EAEKjf,EAFL,CAEQ,WAFR,EAEqB,KAAKyf,UAF1B,EAEsC,IAFtC,EAGKzf,EAHL,CAGQ,SAHR,EAGmB,KAAK0f,QAHxB,EAGkC,IAHlC,EAIK1f,EAJL,CAIQ,WAJR,EAIqB,KAAK2f,SAJ1B,EAIqC,IAJrC;;AAKA,WAAKrjB,MAAL,CACK0D,EADL,CACQ,OADR,EACiB,KAAKyc,WADtB,EACmC,IADnC;;AAEA,WAAK3R,UAAL,CAAgB,SAAhB;;AACA,UAAI,CAAC,KAAKuN,QAAV,EAAoB;AAAE,aAAK9b,KAAL,CAAW2E,QAAX,CAAoB;AAAC1E,UAAAA,IAAI,EAAE;AAAP,SAApB;AAAoC;AAC7D,KAfD,MAeO;AACH,UAAI,KAAKwB,IAAT,EAAe;AACX,aAAKA,IAAL,CACKoG,GADL,CACS,UADT,EACqB6a,IADrB,EAEK7a,GAFL,CAES,SAFT,EAEoB,KAAKsb,QAFzB,EAEmC,IAFnC,EAGKtb,GAHL,CAGS,WAHT,EAGsB,KAAKub,SAH3B,EAGsC,IAHtC;;AAIA,aAAKrjB,MAAL,CACK8H,GADL,CACS,OADT,EACkB,KAAKqY,WADvB,EACoC,IADpC;AAEH;;AACD,UAAItb,SAAS,GAAG,KAAK9E,OAAL,CAAa8E,SAAb,IAA0B,EAA1C;;AACA,UAAI,CAAC,KAAKkX,QAAN,IAAkB,CAAClX,SAAS,CAAC3E,IAAjC,EAAuC;AACnC,aAAKD,KAAL,CAAW2E,QAAX,CAAoB;AAAC1E,UAAAA,IAAI,EAAE;AAAP,SAApB;AACH;AACJ;AACJ,GAp2BmC;AAs2BpC0G,EAAAA,WAAW,EAAE,uBAAY;AACrB,QAAI,KAAK7G,OAAL,CAAa4F,QAAjB,EAA2B;AACvB,WAAK+c,aAAL,CAAmB,KAAnB;;AACA,WAAKQ,eAAL,CAAqB,KAArB;;AACA,WAAKR,aAAL,CAAmB,IAAnB;;AACA,WAAK5e,IAAL,GAAY,MAAZ;AACH;;AACD,WAAO,IAAP;AACH,GA92BmC;AAg3BpCyG,EAAAA,UAAU,EAAE,sBAAY;AACpB,QAAI,KAAKxK,OAAL,CAAa4F,QAAjB,EAA2B;AACvB,WAAK+c,aAAL,CAAmB,KAAnB;;AACA,WAAKQ,eAAL,CAAqB,KAArB;;AACA,WAAKA,eAAL,CAAqB,IAArB;;AACA,WAAKpf,IAAL,GAAY,KAAZ;AACH;;AACD,WAAO,IAAP;AACH,GAx3BmC;AA03BpCka,EAAAA,aAAa,EAAE,yBAAY;AACvB,SAAKkF,eAAL,CAAqB,KAArB;;AACA,SAAKpf,IAAL,GAAY,EAAZ;AACH,GA73BmC;AA+3BpC+O,EAAAA,cAAc,EAAE,0BAAY;AACxB,SAAK6P,aAAL,CAAmB,KAAnB;;AACA,SAAK5e,IAAL,GAAY,EAAZ;AACH,GAl4BmC;AAo4BpC;AACAuf,EAAAA,SAAS,EAAE,mBAAU1f,EAAV,EAAc;AACrB,QAAI,KAAK3D,MAAT,EAAiB;AACb,UAAIA,MAAM,GAAG,KAAK0c,cAAL,EAAb;AAAA,UACRjW,MAAM,GAAG9C,EAAE,CAAC8C,MADJ;;AAEA,UAAI9C,EAAE,CAACsF,aAAH,CAAiBC,OAArB,EAA8B;AAAEzC,QAAAA,MAAM,GAAGyV,KAAK,CAACxF,SAAN,CAAgBjQ,MAAhB,EAAwB,IAAxB,EAA8B,KAAK/E,IAAnC,CAAT;AAAoD;;AACpF,UAAI1B,MAAM,CAACQ,MAAP,KAAkB,CAAtB,EAAyB;AAAE,aAAKmc,SAAL,CAAelW,MAAf,EAAuB,CAAvB;AAA4B;;AAEvD,WAAKkW,SAAL,CAAelW,MAAf,EAAuBzG,MAAM,CAACQ,MAAP,GAAgB,CAAvC;;AACT,WAAK4b,aAAL,CAAmBzY,EAAnB,EAAuB,IAAvB,EAA6B,KAAKoY,QAAL,GAAgB,QAAhB,GAA2B,MAAxD;AACM;AACJ,GA/4BmC;AAi5BpCoH,EAAAA,UAAU,EAAE,sBAAY;AACpB,SAAKG,kBAAL,GAA0BlE,IAAI,CAACC,GAAL,KAAa,GAAvC;;AACN,QAAI,KAAK3d,IAAL,IAAa,KAAKA,IAAL,CAAUG,WAA3B,EAAwC;AAAE,WAAKH,IAAL,CAAUG,WAAV,CAAsBif,IAAtB;AAA+B;;AACzE,QAAI,iBAAiB,KAAKxS,OAA1B,EAAmC;AAAE,WAAKA,OAAL,CAAaxL,WAAb;AAA6B;AAC/D,GAr5BmC;AAu5BpCsgB,EAAAA,QAAQ,EAAE,kBAAUzf,EAAV,EAAc;AACpB,QAAI4f,SAAS,GAAGnE,IAAI,CAACC,GAAL,EAAhB;;AACA,QAAI1b,EAAE,CAAC2T,KAAH,IAAYiM,SAAS,GAAG,KAAKD,kBAAjC,EAAqD;AACjD,WAAKpD,YAAL,GAAoBqD,SAAS,GAAG,IAAhC;;AAET,UAAI3P,QAAQ,GAAG,KAAK8I,cAAL,EAAf;;AACA,UAAI/Y,EAAE,CAACsF,aAAH,IAAoBtF,EAAE,CAACsF,aAAH,CAAiBiW,KAAjB,KAA2B,CAA/C,IACA,KAAKlf,MADL,IACe4T,QADf,IAC2BA,QAAQ,CAACpT,MADxC,EACgD;AAAE;AAEjD,aAAKoG,WAAL;;AACA,aAAKgX,YAAL,CAAkBhK,QAAQ,CAACpT,MAAT,GAAkB,CAApC;;AACA,aAAKud,QAAL;;AACA,aAAKvP,UAAL,CAAgB,UAAhB;;AACA,YAAI,KAAK9M,IAAL,IAAa,KAAKA,IAAL,CAAUG,WAA3B,EAAwC;AACvC0M,UAAAA,mBAAmB,CAAC,KAAK7M,IAAL,CAAUG,WAAV,CAAsBuF,MAAtB,CAA6B5H,IAA7B,CAAkC,KAAKkC,IAAL,CAAUG,WAA5C,CAAD,EAA2D;AAAC4M,YAAAA,OAAO,EAAE;AAAV,WAA3D,CAAnB;AACA;AACD,OAVD,MAUO;AACN,YAAIhI,MAAM,GAAG9C,EAAE,CAAC+B,OAAH,IAAc/B,EAAE,CAAC8C,MAA9B;;AACA,YAAI9C,EAAE,CAAC2T,KAAP,EAAc;AAAE,eAAK6E,SAAL,CAAe1V,MAAf,EAAuB9C,EAAE,CAAC2T,KAA1B;AAAmC,SAF7C;;;AAGN,aAAK6E,SAAL,CAAe1V,MAAf;AACA;;AACD,WAAK6H,OAAL,CAAaA,OAAb,CAAqB7G,YAArB;AACM;AACJ;AA96BmC,CAApB,CAApB;AAi7Be5G,CAAC,CAACG,UAAF,CAAagT,IAA5B;;ACl7BAnT,CAAC,CAACG,UAAF,CAAa4J,YAAb,GAA4B/J,CAAC,CAACgF,OAAF,CAAU3E,MAAV,CAAiB;AACzCnB,EAAAA,OAAO,EAAE;AACL+V,IAAAA,SAAS,EAAE,wBADN;AAEL0C,IAAAA,MAAM,EAAE,IAFH;AAGL5K,IAAAA,YAAY,EAAE,CAHT;AAILqK,IAAAA,OAAO,EAAE,CAJJ;AAKLS,IAAAA,KAAK,EAAE,QALF;AAMLxY,IAAAA,IAAI,EAAE,IAND;AAOLqS,IAAAA,SAAS,EAAE,SAPN;AAQLgG,IAAAA,WAAW,EAAE,CARR;AASLI,IAAAA,IAAI,EAAE9X,CAAC,CAAC8G,OAAF,CAAUC,MAAV,GAAmB,EAAnB,GAAwB,CATzB;AAULyK,IAAAA,MAAM,EAAE;AAVH,GADgC;AAa5CmR,EAAAA,eAAe,EAAE,yBAAU7Y,OAAV,EAAmB;AACnC,WAAO9J,CAAC,CAACkF,QAAF,CAAW1E,SAAX,CAAqBmiB,eAArB,CAAqCnV,IAArC,CAA0C,IAA1C,EAAgD1D,OAAhD,CAAP;AACA,GAf2C;AAiBzC8Y,EAAAA,OAAO,EAAE,mBAAY;AACvB,WAAO,KAAKnV,OAAZ;AACG,GAnBwC;AAqBzCuD,EAAAA,UAAU,EAAE,sBAAY;AAC1B,WAAO,KAAK4R,OAAL,GAAenV,OAAtB;AACG,GAvBwC;AAyBzCL,EAAAA,cAAc,EAAE,0BAAY;AACxB,QAAIhD,GAAG,GAAG,EAAV;AAAA,QACI0N,IAAI,GAAG,KAAK5Y,OAAL,CAAa4Y,IADxB;AAAA,QAEI+K,UAAU,GAAG,KAAKpV,OAAL,CAAavO,OAAb,CAAqBM,IAArB,KAA8B,WAF/C;AAAA,QAGIL,MAAM,GAAG,KAAKsa,MAAL,CAAY,CAAZ,CAHb;AAAA,QAIIG,IAJJ;;AAMA,SAAK,IAAI/Z,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAGX,MAAM,CAACQ,MAAxB,EAAgC8P,CAArC,EAAwC5P,CAAC,GAAGC,GAA5C,EAAiDD,CAAC,EAAlD,EAAsD;AAClD4P,MAAAA,CAAC,GAAGtQ,MAAM,CAACU,CAAD,CAAV;;AACA,UAAIA,CAAC,KAAK,CAAN,IAAWgjB,UAAX,IAAyB/S,IAAI,CAACgT,GAAL,CAASlJ,IAAI,CAACvX,CAAL,GAASoN,CAAC,CAACpN,CAApB,IAAyByV,IAAlD,IAA0DhI,IAAI,CAACgT,GAAL,CAASlJ,IAAI,CAACtX,CAAL,GAASmN,CAAC,CAACnN,CAApB,IAAyBwV,IAAvF,EAA6F;AACzF1N,QAAAA,GAAG,CAAChG,IAAJ,CAAS,KAAK2O,QAAL,CAAclT,CAAd,CAAT;AACA+Z,QAAAA,IAAI,GAAGnK,CAAP;AACH;AACJ;;AACD,WAAOrF,GAAP;AACH,GAxCwC;AA0CzC2Y,EAAAA,eAAe,EAAE,yBAAU5jB,MAAV,EAAkB;AAC/B,QAAI6jB,KAAK,GAAGhjB,CAAC,CAACijB,IAAF,CAAOC,GAAnB;AAAA,QACIpL,IAAI,GAAG,KAAK5Y,OAAL,CAAa4Y,IAAb,GAAoB,CAD/B;AAAA,QAEI+K,UAAU,GAAG,KAAKpV,OAAL,IAAgB,KAAKA,OAAL,CAAavO,OAAb,CAAqBM,IAArB,KAA8B,WAF/D;AAAA,QAGI2jB,aAAa,GAAG,KAAK1V,OAAL,IAAgB,KAAKA,OAAL,CAAaxK,IAAb,KAAsB,KAAtC,IAA+C,CAACjD,CAAC,CAAC8G,OAAF,CAAUC,MAA1D,GAAmE,CAAnE,GAAuE,CAH3F;AAAA,QAIIqc,MAAM,GAAI,KAAKlkB,OAAL,CAAa2Y,KAAb,KAAuB,QAAvB,GAAkC,IAAlC,GAAyC,KAJvD;AAAA,QAKI+B,IALJ;;AAOA,SAAK,IAAI3M,CAAC,GAAG,CAAR,EAAWoW,IAAI,GAAGlkB,MAAM,CAACQ,MAAP,GAAgBwjB,aAAlC,EAAiD3Q,GAAG,GAAG,EAAvD,EAA2D/C,CAAhE,EAAmExC,CAAC,GAAGoW,IAAvE,EAA6EpW,CAAC,EAA9E,EAAkF;AAC9EwC,MAAAA,CAAC,GAAGtQ,MAAM,CAAC8N,CAAD,CAAV;;AACA,UAAI+V,KAAJ,EAAW;AAAEvT,QAAAA,CAAC,CAAC6T,MAAF;AAAa;;AAC1B,UAAIrW,CAAC,KAAK,CAAN,IAAW4V,UAAX,IAAyB/S,IAAI,CAACgT,GAAL,CAASlJ,IAAI,CAACvX,CAAL,GAASoN,CAAC,CAACpN,CAApB,IAAyB,KAAKnD,OAAL,CAAa4Y,IAA/D,IAAuEhI,IAAI,CAACgT,GAAL,CAASlJ,IAAI,CAACtX,CAAL,GAASmN,CAAC,CAACnN,CAApB,IAAyB,KAAKpD,OAAL,CAAa4Y,IAAjH,EAAuH;AACnH,YAAIsL,MAAJ,EAAY;AACR5Q,UAAAA,GAAG,IAAI,MAAM/C,CAAC,CAACpN,CAAR,GAAY,GAAZ,IAAmBoN,CAAC,CAACnN,CAAF,GAAMwV,IAAzB,IACA,IADA,GACOA,IADP,GACc,GADd,GACoBA,IADpB,GAC2B,SAD3B,IAECrI,CAAC,CAACpN,CAAF,GAAM,GAFP,IAEc,GAFd,IAEqBoN,CAAC,CAACnN,CAAF,GAAMwV,IAF3B,IAEmC,GAF1C;AAGH,SAJD,MAIO;AACH,cAAIyL,EAAE,GAAG9T,CAAC,CAACpN,CAAX;AAAA,cAAcmhB,GAAG,GAAGD,EAAE,GAAGzL,IAAzB;AAAA,cAA+B2L,GAAG,GAAGF,EAAE,GAAGzL,IAA1C;AAAA,cACI4L,EAAE,GAAGjU,CAAC,CAACnN,CADX;AAAA,cACcqhB,GAAG,GAAGD,EAAE,GAAG5L,IADzB;AAAA,cAC+B8L,GAAG,GAAGF,EAAE,GAAG5L,IAD1C;AAEAtF,UAAAA,GAAG,IAAI,MAAMgR,GAAN,GAAY,GAAZ,GAAkBG,GAAlB,GAAwB,GAAxB,GAA8BF,GAA9B,GAAoC,GAApC,GAA0CE,GAA1C,GAAgD,GAAhD,GAAsDF,GAAtD,GAA4D,GAA5D,GAAkEG,GAAlE,GAAwE,GAAxE,GAA8EJ,GAA9E,GAAoF,GAApF,GAA0FI,GAA1F,GAAgG,GAAhG,GAAsGJ,GAAtG,GAA4G,GAA5G,GAAkHG,GAAzH;AACH;;AACD/J,QAAAA,IAAI,GAAGnK,CAAP;AACH;AACJ;;AACD,WAAO+C,GAAP;AACH,GAnEwC;AAqEzCqR,EAAAA,aAAa,EAAE,uBAAUzQ,CAAV,EAAa;AACxB;AACA,SAAK0Q,eAAL,CAAqB1Q,CAArB;AACH,GAxEwC;AA0E5C2Q,EAAAA,WAAW,EAAE,uBAAY;AACxB,QAAI1I,KAAK,CAAClM,YAAV,EAAwB;AACvB,UAAI,CAAC,KAAKtO,IAAV,EAAgB;AAAE;AAAS;;AAC3B,WAAKmjB,WAAL;;AACA,WAAKC,cAAL;AACA,UAAIC,OAAO,GAAG,KAAKC,aAAL,EAAd;;AAEA,UAAID,OAAO,KAAK,KAAKE,QAArB,EAA+B;AAC9B,aAAKA,QAAL,GAAgBF,OAAhB;;AACA,YAAI,KAAKjI,KAAL,CAAWnO,YAAX,CAAwB,WAAxB,MAAyC,SAA7C,EAAwD;AACvD,eAAKmO,KAAL,CAAWlO,YAAX,CAAwB,WAAxB,EAAqC,SAArC;AACA;;AACD,aAAKkO,KAAL,CAAWlO,YAAX,CAAwB,GAAxB,EAA6B,KAAKqW,QAAL,IAAiB,MAA9C;AACA;AACD,KAbD,MAaO;AACN,UAAI5R,GAAG,GAAG,KAAKiH,MAAL,CAAY9Z,MAAZ,GAAqB,KAAKojB,eAAL,CAAqB,KAAKtJ,MAAL,CAAY,CAAZ,CAArB,CAArB,GAA4D,EAAtE;;AACA,WAAK/W,SAAL,CAAe2hB,QAAf,CAAwB,IAAxB,EAA8B7R,GAA9B;AACA;AACD;AA5F2C,CAAjB,CAA5B;AA+FexS,CAAC,CAACG,UAAF,CAAa4J,YAA5B;;AC/FA/J,CAAC,CAACG,UAAF,CAAasH,KAAb,GAAqB;AACpByP,EAAAA,OAAO,EAAE,EADW;AACL;AACf/H,EAAAA,YAAY,EAAEnP,CAAC,CAAC4L,OAAF,CAAUuL,MAAV,CAAiB,CAAjB,EAAoB,CAApB,MAA2B,KAFrB;AAGpB3P,EAAAA,aAAa,EAAE;AACRvE,IAAAA,IAAI,EAAE,EADE;AAERrC,IAAAA,GAAG,EAAE,IAFG;AAGRkE,IAAAA,QAAQ,EAAE,IAHF;AAIR8C,IAAAA,SAAS,EAAE;AACPwP,MAAAA,OAAO,EAAE,GADF;AAEPC,MAAAA,KAAK,EAAE;AAFA,KAJH;AAQRrT,IAAAA,SAAS,EAAE;AACPoT,MAAAA,OAAO,EAAC,CADD;AAEP5F,MAAAA,MAAM,EAAC,CAFA;AAGP8F,MAAAA,SAAS,EAAE,KAHJ;AAIPrC,MAAAA,SAAS,EAAE,uBAJJ;AAKPoC,MAAAA,KAAK,EAAE,SALA;AAMPE,MAAAA,SAAS,EAAE,IANJ;AAOPC,MAAAA,OAAO,EAAE,IAPF;AAQPC,MAAAA,QAAQ,EAAE,IARH;AASPpY,MAAAA,IAAI,EAAE,KATC;AAUPqS,MAAAA,SAAS,EAAE,IAVJ;AAWPgG,MAAAA,WAAW,EAAE,GAXN;AAYP3K,MAAAA,YAAY,EAAE,CAZP;AAahB4K,MAAAA,MAAM,EAAE,IAbQ;AAcPC,MAAAA,MAAM,EAAE;AAdD,KARH;AAwBRjQ,IAAAA,UAAU,EAAE;AACRsN,MAAAA,SAAS,EAAE,wBADH;AAERlI,MAAAA,YAAY,EAAE,CAFN;AAGjB4K,MAAAA,MAAM,EAAE,IAHS;AAIRP,MAAAA,OAAO,EAAE,CAJD;AAKRS,MAAAA,KAAK,EAAE,QALC;AAMRxY,MAAAA,IAAI,EAAE,IANE;AAORqS,MAAAA,SAAS,EAAE,SAPH;AAQRgG,MAAAA,WAAW,EAAE,CARL;AASRI,MAAAA,IAAI,EAAE9X,CAAC,CAAC8G,OAAF,CAAUC,MAAV,GAAmB,EAAnB,GAAwB,CATtB;AAURyK,MAAAA,MAAM,EAAE,CAVA;AAWR8F,MAAAA,SAAS,EAAE,IAXH;AAYRD,MAAAA,KAAK,EAAE,SAZC;AAaRE,MAAAA,SAAS,EAAE,IAbH;AAcRC,MAAAA,OAAO,EAAE,IAdD;AAeRC,MAAAA,QAAQ,EAAE,IAfF;AAgBRG,MAAAA,MAAM,EAAE;AAhBA,KAxBJ;AA0CRpS,IAAAA,WAAW,EAAE;AACTvC,MAAAA,IAAI,EAAE,EADG;AAET6B,MAAAA,QAAQ,EAAE,KAFD;AAGTwP,MAAAA,KAAK,EAAE,cAHE;AAITpV,MAAAA,OAAO,EAAE;AACL6Y,QAAAA,GAAG,EAAE,EADA;AAEL;AACAT,QAAAA,SAAS,EAAE,IAHN;AAILjS,QAAAA,SAAS,EAAE,KAJN;AAKL2S,QAAAA,QAAQ,EAAE,IALL;AAMLZ,QAAAA,OAAO,EAAE,CANJ;AAOLa,QAAAA,YAAY,EAAE,CAPT;AAQLC,QAAAA,UAAU,EAAE,GARP;AASLC,QAAAA,WAAW,EAAE,KATR;AAULzS,QAAAA,IAAI,EAAE;AACFuP,UAAAA,SAAS,EAAE,EADT;AAEFpN,UAAAA,OAAO,EAAE,EAFP;AAGFC,UAAAA,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL,CAHV;AAIFC,UAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK,EAAL,CAJR;AAKFC,UAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAC,EAAL,CALX;AAMFC,UAAAA,UAAU,EAAE,CAAC,EAAD,EAAK,EAAL;AANV;AAVD;AAJA;AA1CL,GAHK;AAuEjBmQ,EAAAA,oBAAoB,EAAE,8BAASxS,MAAT,EAAiByS,UAAjB,EAA6BzX,GAA7B,EAAkC;AAC1D,QAAIZ,CAAC,CAACsY,YAAF,IAAkB1X,GAAtB,EAA2B;AAC1B,aAAOZ,CAAC,CAACsY,YAAF,CAAeC,gBAAf,CACL3X,GADK,EAEL,CAACZ,CAAC,CAACyD,OAAF,CAAUzD,CAAC,CAACoB,OAAF,CAAUoX,iBAAV,CAA4BH,UAA5B,EAAwC,IAAxC,EAA8C,IAA9C,CAAV,CAAD,CAFK,EAGLzS,MAHK,EAIL6S,MAAM,CAAC7X,GAAG,CAAC1B,OAAJ,CAAYgY,OAAZ,IAAuBlX,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmByP,OAA3C,CAJD,EAKL,IALK,CAAP;AAOA;;AACD,WAAO,IAAP;AACG,GAlFgB;AAoFjBrB,EAAAA,SAAS,EAAE,mBAAUjQ,MAAV,EAAkBtG,GAAlB,EAAuBsB,GAAvB,EAA4B;AACzC,QAAI0K,GAAG,GAAG1F,MAAV;;AACA,QAAI5F,CAAC,CAACsY,YAAN,EAAoB;AACnB,UAAII,cAAc,GAAG9X,GAAG,CAACwL,UAAJ,CAAejC,WAAf,GAClBwO,MADkB,CACX,UAAS9U,EAAT,EAAa;AAAE,eAAOA,EAAE,KAAKvE,GAAG,CAACmO,OAAX,IAAsB5J,EAAE,CAAC0H,IAAH,KAAYjM,GAAzC;AAA+C,OADnD,EAElBsB,GAFkB,CAEd,UAASiD,EAAT,EAAa;AAAE,eAAOA,EAAE,CAAC3E,OAAH,CAAWM,IAAX,KAAoB,OAApB,GAA8BqE,EAAE,CAAC0H,IAAjC,GAAwC1H,EAA/C;AAAoD,OAFrD,CAArB;AAAA,UAGEqT,OAAO,GAAGuB,MAAM,CAAC7X,GAAG,CAAC1B,OAAJ,CAAYgY,OAAZ,IAAuBlX,CAAC,CAACG,UAAF,CAAasH,KAAb,CAAmByP,OAA3C,CAHlB;AAAA,UAIE0B,OAAO,GAAG5Y,CAAC,CAACsY,YAAF,CAAeC,gBAAf,CAAgC3X,GAAhC,EAAqC8X,cAArC,EAAqD9S,MAArD,EAA6DsR,OAA7D,EAAsE,IAAtE,CAJZ;;AAMA,UAAI0B,OAAJ,EAAa;AACZtN,QAAAA,GAAG,GAAGsN,OAAO,CAAChT,MAAd;AACA;AACD;;AACD,WAAO0F,GAAP;AACE,GAlGiB;AAoGjBH,EAAAA,cAAc,EAAE,wBAAS0N,IAAT,EAAeC,GAAf,EAAoB;AAChC,QAAIxN,GAAG,GAAG,EAAV;;AACA,SAAK,IAAIrH,GAAT,IAAgB4U,IAAhB,EAAsB;AAClB,UAAI5U,GAAG,KAAK,MAAR,IAAkBA,GAAG,KAAK,KAA9B,EAAqC;AACjC;AACH,OAFD,MAEO,IAAIA,GAAG,KAAK,YAAR,IAAwBA,GAAG,KAAK,UAAhC,IAA8CA,GAAG,KAAK,aAAtD,IAAuEA,GAAG,KAAK,YAAnF,EAAiG;AACpG,YAAI,CAAC6U,GAAG,CAAC7U,GAAD,CAAR,EAAe;AAAE;AAAW;;AAC5B,YAAI6U,GAAG,CAAC7U,GAAD,CAAH,CAAS,CAAT,MAAgB4U,IAAI,CAAC5U,GAAD,CAAJ,CAAU,CAAV,CAAhB,IAAgC6U,GAAG,CAAC7U,GAAD,CAAH,CAAS,CAAT,MAAgB4U,IAAI,CAAC5U,GAAD,CAAJ,CAAU,CAAV,CAApD,EAAkE;AAAEqH,UAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW4U,IAAI,CAAC5U,GAAD,CAAf;AAAuB;AAC9F,OAHM,MAGA,IAAIA,GAAG,KAAK,WAAR,IAAuBA,GAAG,KAAK,YAA/B,IAA+CA,GAAG,KAAK,aAA3D,EAA0E;AAC7EqH,QAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW,KAAKkH,cAAL,CAAoB0N,IAAI,CAAC5U,GAAD,CAAxB,EAA+B6U,GAAG,CAAC7U,GAAD,CAAlC,CAAX;AACH,OAFM,MAEA,IAAI,CAAC6U,GAAD,IAASA,GAAG,CAAC7U,GAAD,CAAH,KAAa4U,IAAI,CAAC5U,GAAD,CAAjB,IAA0BA,GAAG,KAAK,MAA/C,EAAwD;AAC3DqH,QAAAA,GAAG,CAACrH,GAAD,CAAH,GAAW4U,IAAI,CAAC5U,GAAD,CAAf;AACH;AACJ;;AACD,WAAOqH,GAAP;AACH,GAnHgB;AAqHjBiE,EAAAA,cAAc,EAAE,wBAAU3J,MAAV,EAAkBhF,GAAlB,EAAuB0O,UAAvB,EAAmC;AAC/C,QAAIA,UAAU,IAAI1O,GAAlB,EAAuB;AACnB,UAAI6O,CAAC,GAAG7O,GAAG,CAACmY,kBAAJ,CAAuBnT,MAAvB,EAA+BoT,IAA/B,CAAoC1J,UAApC,CAAR;;AACA1J,MAAAA,MAAM,GAAGhF,GAAG,CAACqY,kBAAJ,CAAuBxJ,CAAvB,CAAT;AACH;;AACD,WAAO7J,MAAP;AACH,GA3HgB;AA6HjBoO,EAAAA,WAAW,EAAE,qBAASlR,EAAT,EAAalC,GAAb,EAAkB0D,OAAlB,EAA2B;AACpC,QAAIwP,UAAU,GAAGhR,EAAE,CAACgR,UAApB;AAAA,QACL1L,aAAa,GAAGtF,EAAE,CAACsF,aADd;AAAA,QAEIC,OAAO,GAAG,KAFd;AAAA,QAEqBC,QAAQ,GAAG,KAFhC;AAAA,QAEuCC,MAAM,GAAG,KAFhD;AAAA,QAGI3C,MAAM,GAAG9C,EAAE,CAAC8C,MAHhB;;AAIA,QAAIwC,aAAJ,EAAmB;AACfC,MAAAA,OAAO,GAAGD,aAAa,CAACC,OAAxB;AAAiCC,MAAAA,QAAQ,GAAGF,aAAa,CAACE,QAAzB;AAAmCC,MAAAA,MAAM,GAAGH,aAAa,CAACG,MAAvB;AACvE;;AACD,QAAIzF,EAAE,CAACoW,OAAH,IAAcpW,EAAE,CAACoW,OAAH,CAAWvZ,MAAX,KAAsB,CAAxC,EAA2C;AACvC,UAAIwZ,KAAK,GAAGrW,EAAE,CAACoW,OAAH,CAAW,CAAX,CAAZ;AAAA,UACIE,cAAc,GAAGxY,GAAG,CAACyY,0BAAJ,CAA+BF,KAA/B,CADrB;AAEArF,MAAAA,UAAU,GAAGlT,GAAG,CAAC0Y,0BAAJ,CAA+BF,cAA/B,CAAb;AACAxT,MAAAA,MAAM,GAAGhF,GAAG,CAACqY,kBAAJ,CAAuBnF,UAAvB,CAAT;AACH;;AACD,QAAI1J,GAAG,GAAG;AAAC5K,MAAAA,IAAI,EAAE,EAAP;AAAWoG,MAAAA,MAAM,EAAEA,MAAnB;AAA2ByC,MAAAA,OAAO,EAAEA,OAApC;AAA6CC,MAAAA,QAAQ,EAAEA,QAAvD;AAAiEC,MAAAA,MAAM,EAAEA;AAAzE,KAAV;AAAA,QACIgB,IAAI,GAAG,KAAKpK,MAAL,GAAc,IAAd,GAAsB2D,EAAE,CAACyG,IAAH,IAAWzG,EAAE,CAACyW,YAD/C;AAAA,QAEIpa,MAAM,GAAGoK,IAAI,CAACpK,MAAL,CAAYqa,eAAZ,IAA+BjQ,IAAI,CAACpK,MAAL,CAAYsa,MAAZ,CAAmB,CAAnB,CAA/B,IAAwD,EAFrE;AAAA,QAGI3Z,GAAG,GAAGX,MAAM,CAACQ,MAHjB;;AAKA,QAAIG,GAAG,KAAK,CAAZ,EAAe;AAAE,aAAOsK,GAAP;AAAa;;AAE9B,QAAI0N,IAAI,GAAG,CAACvO,IAAI,CAACpK,MAAL,CAAYD,OAAZ,CAAoB4Y,IAApB,IAA4B,EAA7B,IAAmC,CAA9C;AACAA,IAAAA,IAAI,IAAI,KAAKvO,IAAI,CAACpK,MAAL,CAAYD,OAAZ,CAAoBsS,MAApB,IAA8B,CAAnC,CAAR;AAEA,QAAIkI,YAAY,GAAG,IAAI1Z,CAAC,CAAC2Z,MAAN,CACf3Z,CAAC,CAACmC,KAAF,CAAQ2R,UAAU,CAACzR,CAAX,GAAeyV,IAAvB,EAA6BhE,UAAU,CAACxR,CAAX,GAAewV,IAA5C,CADe,EAEf9X,CAAC,CAACmC,KAAF,CAAQ2R,UAAU,CAACzR,CAAX,GAAeyV,IAAvB,EAA6BhE,UAAU,CAACxR,CAAX,GAAewV,IAA5C,CAFe,CAAnB;AAAA,QAII8B,IAAI,GAAGza,MAAM,CAACW,GAAG,GAAG,CAAP,CAJjB;AAAA,QAKI+Z,SAAS,GAAG/Z,GAAG,IAAIyJ,IAAI,CAACtG,IAAL,KAAc,KAAd,GAAsB,CAAtB,GAA0B,CAA9B,CALnB;AAOAmH,IAAAA,GAAG,GAAG;AACFnH,MAAAA,IAAI,EAAEsG,IAAI,CAACtG,IADT;AAEF6Q,MAAAA,UAAU,EAAEhR,EAAE,CAACgR,UAFb;AAGFzL,MAAAA,OAAO,EAAEA,OAHP;AAGgBC,MAAAA,QAAQ,EAAEA,QAH1B;AAGoCC,MAAAA,MAAM,EAAEA,MAH5C;AAIF3C,MAAAA,MAAM,EAAEA;AAJN,KAAN;;AAMA,SAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,GAApB,EAAyBD,CAAC,EAA1B,EAA8B;AAC1B,UAAIsC,KAAK,GAAGhD,MAAM,CAACU,CAAD,CAAlB;;AACA,UAAIyE,OAAO,CAACgL,UAAZ,EAAwB;AAAEnN,QAAAA,KAAK,GAAGhD,MAAM,CAACU,CAAD,CAAN,CAAUsE,GAAV,CAAcG,OAAO,CAACgL,UAAtB,CAAR;AAA4C;;AACtE,UAAIoK,YAAY,CAACI,QAAb,CAAsB3X,KAAtB,CAAJ,EAAkC;AAC9BiI,QAAAA,GAAG,CAAC5K,IAAJ,GAAW,MAAX;AACA4K,QAAAA,GAAG,CAACiK,GAAJ,GAAUxU,CAAV;AACAuK,QAAAA,GAAG,CAAC2P,GAAJ,GAAWla,CAAC,KAAK,CAAN,IAAWA,CAAC,KAAKga,SAAjB,GAA6B,IAA7B,GAAoC,KAA/C;AACA;AACH;;AACD,UAAIG,IAAI,GAAGha,CAAC,CAACia,QAAF,CAAWC,sBAAX,CAAkCpG,UAAlC,EAA8C8F,IAA9C,EAAoDzX,KAApD,CAAX;;AACA,UAAI6X,IAAI,GAAGlC,IAAX,EAAiB;AACb1N,QAAAA,GAAG,CAAC5K,IAAJ,GAAW,MAAX;AACA4K,QAAAA,GAAG,CAACiK,GAAJ,GAAWxU,CAAC,KAAK,CAAN,GAAUC,GAAV,GAAgBD,CAA3B;AACH;;AACD+Z,MAAAA,IAAI,GAAGzX,KAAP;AACH;;AACD,WAAOiI,GAAP;AACH,GAnLgB;AAqLjB2G,EAAAA,cAAc,EAAE,wBAAUzR,GAAV,EAAe;AAC3B,QAAIA,GAAG,CAACqE,SAAR,EAAmB;AACf,UAAIU,KAAK,GAAG/E,GAAG,CAACqE,SAAJ,GAAgBqP,KAAhB,EAAZ;AACA,aAAO3O,KAAK,CAACV,SAAN,GAAkB,KAAKoN,cAAL,CAAoB1M,KAApB,CAAlB,GAA+C/E,GAAtD;AACH;;AACD,WAAOA,GAAP;AACH,GA3LgB;AA6LjB6a,EAAAA,cAAc,EAAE,wBAAUC,GAAV,EAAe1O,QAAf,EAAyB;AACrC,SAAK,IAAI7L,CAAC,GAAG,CAAR,EAAWC,GAAG,GAAG4L,QAAQ,CAAC/L,MAA/B,EAAuCE,CAAC,GAAGC,GAA3C,EAAgDD,CAAC,EAAjD,EAAqD;AACjD,UAAIyE,OAAO,GAAGoH,QAAQ,CAAC7L,CAAD,CAAtB;AAAA,UACIwa,IAAI,GAAG/V,OAAO,CAACiH,IAAR,GAAejH,OAAO,CAACiH,IAAvB,GAA8B,IADzC;AAAA,UAEI+O,IAAI,GAAGD,IAAI,IAAIA,IAAI,CAACE,KAAb,GAAqBF,IAAI,CAACE,KAAL,CAAWC,YAAhC,GAA+C,IAF1D;;AAGA,UAAIF,IAAI,IAAIA,IAAI,CAACjY,CAAL,KAAW+X,GAAG,CAAC/X,CAAvB,IAA4BiY,IAAI,CAAChY,CAAL,KAAW8X,GAAG,CAAC9X,CAA/C,EAAkD;AAC9C,eAAO+X,IAAI,CAACxV,OAAZ;AACH;AACJ;;AACD,WAAO,IAAP;AACH,GAvMgB;AAyMjB2O,EAAAA,SAAS,EAAE,mBAAUvP,GAAV,EAAe;AAC5B,QAAIqH,GAAG,GAAGtL,CAAC,CAACya,SAAF,GAAcza,CAAC,CAACya,SAAF,CAAYC,OAAZ,CAAoBzW,GAApB,CAAd,GAAyC,IAAnD;AACA,WAAOqH,GAAG,IAAIrH,GAAd;AACG;AA5MgB,CAArB;AA+MejE,CAAC,CAACG,UAAF,CAAasH,KAA5B"}