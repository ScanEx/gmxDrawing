<!DOCTYPE html>
<html>
<head>
	<title>GmxDrawing Leaflet Quick Start Guide Example</title>
	<meta charset="utf-8" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet-src.js"></script>

    <link rel="stylesheet" href="http://scanex.github.io/gmxControls/src/css/L.Control.gmxIcon.css" />
    <link rel="stylesheet" href="http://scanex.github.io/gmxControls/src/css/L.Control.gmxDrawing.css" />

	<script src="http://scanex.github.io/gmxControls/build/L.Control.gmxDrawing-dev.js"></script>
	<script src="../../Leaflet-GeoMixer/build/leaflet-geomixer-dev.js?key=U92596WMIH"></script>

    <link rel="stylesheet" href="../css/L.gmxDrawing.css" />
	<script src="../src/L.GmxDrawing.js"></script>
    <style>
        html, body, #map {
            height: 100%;
            width: 100%;
            margin: 0px;
        }
    </style>
</head>
<body>
	<div id="map"></div>

	<script>
		var osm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
		});
		var map = new L.Map('map', {layers: [osm], center: new L.LatLng(50, 20), zoom: 3});

        
        //var state = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"mode":"","editable":true,"type":"Polygon","lineStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":8}},"geometry":{"type":"Polygon","coordinates":[[[20,50],[20,61],[33,61],[33,30]]]}},{"type":"Feature","properties":{"mode":"","pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":8},"lineStyle":{"stroke":true,"color":"#ff0000","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":false,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"editable":true,"type":"Polyline"},"geometry":{"type":"LineString","coordinates":[[30,50],[35,64],[53,71.5],[43,44]]}},{"type":"Feature","properties":{"mode":"","pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":12},"lineStyle":{"stroke":true,"color":"#00ff00","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"editable":true,"type":"Rectangle"},"geometry":{"type":"Polygon","coordinates":[[[40,20],[40,54],[65,54],[65,20]]]}},{"type":"Feature","properties":{"mode":"","editable":false,"type":"Point","marker":{"icon":{"options":{"className":"","iconSize":[25,41],"iconAnchor":[12,41],"popupAnchor":[1,-34],"shadowSize":[41,41]},"_initHooksCalled":true},"title":"cfbcvbcvb\ncvbcb","alt":"","clickable":true,"draggable":true,"keyboard":true,"zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250}},"geometry":{"type":"Point","coordinates":[40,65]}}]};
        //var state = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"map":false,"editable":true,"type":"Polygon","lineStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":8}},"geometry":{"type":"Polygon","coordinates":[[[20,50],[20,61],[33,61],[33,30]]]}},{"type":"Feature","properties":{"mode":"","pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":8},"lineStyle":{"stroke":true,"color":"#ff0000","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":false,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"editable":true,"type":"Polyline"},"geometry":{"type":"LineString","coordinates":[[30,50],[35,64],[53,71.5],[43,44]]}},{"type":"Feature","properties":{"mode":"","pointStyle":{"stroke":true,"color":"#0033ff","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":"#ffffff","fillOpacity":1,"clickable":true,"smoothFactor":0,"noClip":true,"className":"leaflet-drawing-points","shape":"circle","size":12},"lineStyle":{"stroke":true,"color":"#00ff00","dashArray":null,"lineCap":null,"lineJoin":null,"weight":2,"opacity":1,"fill":true,"fillColor":null,"fillOpacity":0.2,"clickable":false,"smoothFactor":1,"noClip":true,"className":"leaflet-drawing-lines"},"editable":true,"type":"Rectangle"},"geometry":{"type":"Polygon","coordinates":[[[40,20],[40,54],[65,54],[65,20]]]}},{"type":"Feature","properties":{"mode":"","editable":false,"type":"Point","icon":{"options":{"className":"","iconSize":[25,41],"iconAnchor":[12,41],"popupAnchor":[1,-34],"shadowSize":[41,41]},"_initHooksCalled":true},"title":"xcbxbb vxcv","alt":"","clickable":true,"draggable":true,"keyboard":true,"zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"geometry":{"type":"Point","coordinates":[40,65]}}]};
        var state = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"type":"Polygon"},"geometry":{"type":"Polygon","coordinates":[[[20,50],[20,61],[33,61],[33,30]]]}},{"type":"Feature","properties":{"lineStyle":{"color":"#ff0000","fill":false},"type":"Polyline","map":false},"geometry":{"type":"LineString","coordinates":[[30,50],[35,64],[53,71.5],[43,44]]}},{"type":"Feature","properties":{"pointStyle":{"size":12},"lineStyle":{"color":"#00ff00"},"type":"Rectangle"},"geometry":{"type":"Polygon","coordinates":[[[40,20],[40,54],[65,54],[65,20]]]}},{"type":"Feature","properties":{"type":"Point","options":{"title":"Text example","draggable":true}},"geometry":{"type":"Point","coordinates":[40,65]}}]};
        map.gmxDrawing.loadState(state);

        map.addControl(new L.Control.gmxDrawing({
            id: 'drawing',
            stateChange: function (control, key, flag) {
                //console.log('Control.gmxDrawing', control.options.activeKey, key, flag);
            }
        }));
	</script>
</body>
</html>
